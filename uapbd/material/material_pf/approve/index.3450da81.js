!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uapbd/material/material_pf/approve/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uapbd/material/material_pf/approve/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,function(e,t,a){return function(e){var t={};function a(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(o,l,function(t){return e[t]}.bind(null,l));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=302)}({1:function(t,a){t.exports=e},147:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e};t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],n=0,i={},s=function(){2==n&&r&&r(i.templateData||{},i.langData||{},i.inlt||{})};a.callback&&console.log("咱们自己createUIDom会同时获取多语和单据模板,并通过一个回调函数返回, langCfg中的回调函数将被忽略");var d=o({},a,{callback:function(e,t,a){n+=1,t||(0,l.toast)({content:"load muti lang error",color:"warning"}),i.langData=e||{},i.inlt=a||{},s()}});e.MultiInit.getMultiLang(d),e.createUIDom(t,function(e){n+=1,i.templateData=e||{},s()})}};var l=a(1)},2:function(e,a){e.exports=t},231:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,l,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),n=a(2),i=c(n),s=(c(a(6)),a(1)),d=c(a(147));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}s.base.NCFormControl,s.base.NCAnchor,s.base.NCScrollLink,s.base.NCScrollElement;var f=s.base.NCAffix,m=s.base.NCTabs,p=(s.base.NCCol,m.NCTabPane,s.high.Refer,"10140MPF_tabs_card"),b="0001Z010000000002X08",g="/nccloud/uapbd/materialpf/queryMaterialpfTabsData.do",I="/nccloud/uapbd/materialpf/saveMaterialpfTabsData.do",h=(o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.call(a),a.state={tableId:a.props.config.tableId||null,json:{},inlt:null},a.moduleId="3630",a.pageId=p,a.appid=b,a.config=Object.assign({pk:null,moduleId:null,formId:null,tableId:null,state:"browse",billstatus:-1,pk_org:null,pk_measdocarr:[]},e.config),a.initTemplate(a.props,function(){a.getData(function(){if("stock"==a.config.formId){var e=a.props.form.getFormItemsValue(a.config.formId,"serialmanaflag").value;a.props.form.setFormItemsDisabled(a.config.formId,{issinglcheck:!e})}else if("prod"==a.config.formId){var t=a.props.form.getFormItemsValue(a.config.formId,"conversemethod").value;a.props.form.setFormItemsDisabled(a.config.formId,{converstime:1==t});var o=a.props.form.getFormItemsValue(a.config.formId,"sfcbdx").value;a.props.form.setFormItemsDisabled(a.config.formId,{sfcbdxtype:!o});var l=a.props.form.getFormItemsValue(a.config.formId,"isuseroad").value;a.props.form.setFormItemsDisabled(a.config.formId,{azcbzxtjcl:!l})}else if("plan"==a.config.formId){var r=a.props.form.getFormItemsValue(a.config.formId,"combineflag").value;a.props.form.setFormItemsDisabled(a.config.formId,{materialreqcombintype:!r}),a.props.form.setFormItemsDisabled(a.config.formId,{reqcombmoment:!r}),a.props.form.setFormItemsDisabled(a.config.formId,{fixcombinreqday:!r});var n=a.props.form.getFormItemsValue(a.config.formId,"reqcombmoment").value;a.props.form.setFormItemsDisabled(a.config.formId,{numofcombindays:!n})}})}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){var e=this.props.form.getFormStatus(this.config.formId);window.onbeforeunload="browse"===e?null:function(){return""}}},{key:"tableButtonClick",value:function(e,t,a,o,l){switch(t){case"delline":e.cardTable.delRowsByIndex(this.config.tableId,l)}}},{key:"render",value:function(){var e=this.props,t=e.cardTable,a=e.form,o=e.button,l=(e.modal,e.cardPagination,e.search,e.table,this.props.button.getButtons()),r=(this.props.MutiInit.getIntl(this.moduleId),o.createButton,o.createButtonApp),n=a.createForm,s=t.createCardTable;return i.default.createElement("div",{className:"nc-bill-extCard"},i.default.createElement(f,null,i.default.createElement("div",{className:"nc-bill-header-area"},i.default.createElement("div",{className:"header-button-area"},r({area:"header-button-area",buttonLimit:3,onButtonClick:this.buttonClick.bind(this),popContainer:document.querySelector(".header-button-area")})))),i.default.createElement("div",{className:"nc-bill-form-area"},n(this.config.formId,{onAfterEvent:this.afterEvent.bind(this)})),i.default.createElement("div",{className:"nc-bill-table-area"},s(this.config.tableId,{tableHead:this.getTableHead.bind(this,l,this.config.tableId),modelSave:this.saveBill,onAfterEvent:this.tableAfterEvent.bind(this),showIndex:!0})))}}]),t}(),l=function(){var e=this;this.initTemplate=function(t,a){(0,d.default)(t)({pagecode:p},{moduleId:"10140MPF",domainName:"uapbd"},function(o,l,r){if(l&&(e.state.json=l,r&&(e.state.inlt=r)),o){if(o.template){var n=o.template;n.formrelation.prod=["producecost","prod-audit"],e.modifierMeta(t,n),t.meta.setMeta(n)}if(o){var i=o.button;t.button.setButtons(i)}a&&a()}})},this.modifierMeta=function(t,a){if(null!=e.config.tableId){var o={attrcode:"opr",label:e.state.json["10140MPF-000010"],fixed:"right",itemtype:"customer",visible:!0,width:"200px",render:function(a,o,l){var r="browse"===t.cardTable.getStatus(t.config.tableId)?[]:["delline"];return t.button.createOprationButton(r,{area:"table-opr-button",buttonLimit:3,onButtonClick:function(t,r){return e.tableButtonClick(t,r,a,o,l)}})}};a[e.config.tableId].items.push(o)}return a.pu&&a.pu.items.map(function(t){"pk_cumandoc"==t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}})}),a.sale&&a.sale.items.map(function(t){"pk_marsaleclass"==t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}})}),a.materialbindle&&a.materialbindle.items.map(function(t){"pk_bindle"==t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}})}),a.stock&&a.stock.items.map(function(t){"sernumunit"==t.attrcode&&(t.queryCondition=function(){return{pk_measdoc:JSON.stringify(e.config.pk_measdocarr),GridRefActionExt:"nccloud.web.uapbd.material.action.MeasdocDefaultGridRefExt"}}),"pk_stordoc"===t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}}),"pk_marpuclass"===t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}})}),a.materialwarh&&a.materialwarh.items.map(function(t){"pk_stordoc"===t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}})}),a.prod&&a.prod.items.map(function(t){"pk_prodeptdoc"===t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}}),"pk_propsndoc"===t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}})}),a.producecost&&a.producecost.items.map(function(t){"pk_marcostclass"===t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}}),"disbearfactory"===t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org,GridRefActionExt:"nccloud.web.uapbd.material.materialpf.action.MaterialpffactoryTreeGridRefExt"}}),"disbrcostctr"===t.attrcode&&(t.refName=e.state.json["10140MPF-000041"])}),a.plan&&a.plan.items.map(function(t){"pk_prodfactory"===t.attrcode&&(t.queryCondition=function(){return{AppCode:"10140MPF",orgType:"STOCKPLANTYPE0000000",GridRefActionExt:"nccloud.web.uapbd.material.action.PrimaryOrgSQLBuilderByOrgType"}}),"planstrategygroup"===t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}})}),a.materialrepl&&a.materialrepl.items.map(function(t){"pk_replace"===t.attrcode&&(t.queryCondition=function(){return{pk_org:e.config.pk_org}})}),a},this.buttonClick=function(t,a){switch(a){case"edit":e.toggleShow("edit");break;case"refresh":e.getData(function(){(0,s.toast)({title:e.state.json["10140MPF-000013"],color:"success"})});break;case"save":e.saveBill();break;case"cancel":(0,s.promptBox)({color:"warning",title:e.state.json["10140MPF-000014"],content:e.state.json["10140MPF-000015"],beSureBtnClick:function(){e.props.form.cancel(e.config.formId),e.config.tableId&&e.props.cardTable.resetTableData(e.config.tableId),e.config.state="browse",e.toggleShow("browse")},cancelBtnClick:function(){},closeBtnClick:function(){}});break;case"addline":if("materialbindle"==e.config.tableId){var o=t.cardTable.getNumberOfRows(e.config.tableId);t.cardTable.addRow(e.config.tableId,o,{pricetype:{display:e.state.json["10140MPF-000043"],value:"0"}})}else if("materialrepl"==e.config.tableId){var l=t.cardTable.getNumberOfRows(e.config.tableId);t.cardTable.addRow(e.config.tableId,l,{substituterate:{value:"1/1",display:"1/1"}})}else{var r=t.cardTable.getNumberOfRows(e.config.tableId);t.cardTable.addRow(e.config.tableId,r)}}},this.saveBill=function(){if(e.props.cardTable.filterEmptyRows(e.config.tableId),e.props.form.isCheckNow(e.config.formId)){var t=e.props.form.getAllFormValue(e.config.formId),a=e.props.createExtCardData(e.pageId,e.config.formId,[e.config.tableId]);(0,s.ajax)({url:I,data:{pk:e.config.pk,moudleId:e.config.moduleId,formData:{pageid:p,model:t},CardData:a},success:function(t){t.data&&t.data[e.config.moduleId]&&(t.data[e.config.moduleId].head&&e.props.form.setAllFormValue(u({},e.config.formId,t.data[e.config.moduleId].head[e.config.formId])),t.data[e.config.moduleId].bodys&&e.props.cardTable.setTableData(e.config.tableId,t.data[e.config.moduleId].bodys[e.config.tableId]),t.data[e.config.moduleId][e.config.formId]&&e.props.form.setAllFormValue(u({},e.config.formId,t.data[e.config.moduleId][e.config.formId]))),(0,s.toast)({color:"success",title:e.state.json["10140MPF-000024"]}),e.config.state="browse",e.toggleShow("browse")}})}},this.toggleShow=function(t){var a="browse"===t;e.props.button.setButtonVisible(["edit","refresh"],a),e.props.button.setButtonVisible(["save","cancel","addline"],!a),e.props.button.setButtonDisabled("edit",-1!=e.config.billstatus),e.props.form.setFormStatus(e.config.formId,t),e.props.cardTable.setStatus(e.config.tableId,"browse"===t?"browse":"edit")},this.getData=function(t){if(null!=e.config.pk){var a={pk:e.config.pk,moduleId:e.config.moduleId};(0,s.ajax)({url:g,data:a,success:function(a){a.data?a.data[e.config.moduleId]&&(a.data[e.config.moduleId].head&&e.props.form.setAllFormValue(u({},e.config.formId,a.data[e.config.moduleId].head[e.config.formId])),a.data[e.config.moduleId].bodys&&e.props.cardTable.setTableData(e.config.tableId,a.data[e.config.moduleId].bodys[e.config.tableId]),a.data[e.config.moduleId][e.config.formId]&&e.props.form.setAllFormValue(u({},e.config.formId,a.data[e.config.moduleId][e.config.formId]))):(e.props.form.setAllFormValue(u({},e.formId,{rows:[]})),e.props.cardTable.setTableData(e.tableId,{rows:[]})),t&&t(),e.toggleShow(e.config.state)}})}},this.getTableHead=function(t,a){var o=e.props.button.createButtonApp;return i.default.createElement("div",{className:"shoulder-definition-area"},i.default.createElement("div",{className:"definition-icons"},o({area:"table-button-area",buttonLimit:5,onButtonClick:e.buttonClick.bind(e),popContainer:document.querySelector(".table-header-button")}),e.props.cardTable.createBrowseIcons(a,{iconArr:["close","open","max","setCol"],maxDestAreaId:"nc-bill-form-area"})))},this.afterEvent=function(t,a,o,l,r,n){switch(a){case"stock":switch(o){case"serialmanaflag":l.value||e.props.form.setFormItemsValue([e.config.formId],{issinglcheck:{value:l.value,display:null}}),e.props.form.setFormItemsDisabled(e.config.formId,{issinglcheck:!l.value})}break;case"prod":switch(o){case"conversemethod":1==l.value&&e.props.form.setFormItemsValue([e.config.formId],{converstime:{value:null,display:null}}),e.props.form.setFormItemsDisabled(e.config.formId,{converstime:1==l.value});break;case"sfcbdx":l.value||e.props.form.setFormItemsValue([e.config.formId],{sfcbdxtype:{value:null,display:null}}),e.props.form.setFormItemsDisabled(e.config.formId,{sfcbdxtype:!l.value});break;case"sfcbdxtype":"Sys004"!=l.value&&e.props.form.setFormItemsValue([e.config.formId],{classfeature:{value:!1,display:null}}),e.props.form.setFormItemsDisabled(e.config.formId,{classfeature:"Sys004"!=l.value});break;case"isuseroad":l.value||e.props.form.setFormItemsValue([e.config.formId],{azcbzxtjcl:{value:!0,display:null}}),e.props.form.setFormItemsDisabled(e.config.formId,{azcbzxtjcl:!l.value});break;case"sffzfw":e.props.form.setFormItemsValue([e.config.formId],{sfcbdxtype:{value:"Sys002",display:null}}),e.props.form.setFormItemsDisabled(e.config.formId,{sfcbdxtype:l.value})}break;case"plan":switch(o){case"combineflag":l.value||(e.props.form.setFormItemsValue([e.config.formId],{materialreqcombintype:{value:null,display:null}}),e.props.form.setFormItemsValue([e.config.formId],{reqcombmoment:{value:null,display:null}}),e.props.form.setFormItemsValue([e.config.formId],{fixcombinreqday:{value:null,display:null}}),e.props.form.setFormItemsValue([e.config.formId],{numofcombindays:{value:null,display:null}})),e.props.form.setFormItemsDisabled(e.config.formId,{materialreqcombintype:!l.value}),e.props.form.setFormItemsDisabled(e.config.formId,{reqcombmoment:!l.value}),e.props.form.setFormItemsDisabled(e.config.formId,{fixcombinreqday:!l.value}),e.props.form.setFormItemsDisabled(e.config.formId,{numofcombindays:!l.value});break;case"reqcombmoment":e.props.form.setFormItemsDisabled(e.config.formId,{numofcombindays:!l.value})}}},this.tableAfterEvent=function(t,a,o,l,r,n,i){switch(a){case"materialbindle":"pk_bindle"===o&&(l.refname&&l.values?t.cardTable.setValByKeysAndIndex(a,n,{"pk_bindle.name":{value:l.refname,display:l.refname},"pk_bindle.materialspec":{value:l.values.materialspec.value,display:l.values.materialspec.value},"pk_bindle.materialtype":{value:l.values.materialtype.value,display:l.values.materialtype.value},"pk_bindle.pk_measdoc":{value:l.values.pk_measdoc.value,display:l.values.measdoc_name.value}}):t.cardTable.setValByKeysAndIndex(a,n,{"pk_bindle.name":{value:null,display:null},"pk_bindle.materialspec":{value:null,display:null},"pk_bindle.materialtype":{value:null,display:null},"pk_bindle.pk_measdoc":{value:null,display:null}}));break;case"materialrepl":if("pk_replace"===o)l.values?t.cardTable.setValByKeysAndIndex(a,n,{"pk_replace.version":{value:l.values.version.value,display:l.values.version.value}}):t.cardTable.setValByKeysAndIndex(a,n,{"pk_replace.version":{value:null,display:null}});else if("substituterate"==o){if(!l||""===l)return;new RegExp("^([1-9]+\\d*)/([1-9]+\\d*)$").test(l)||((0,s.toast)({content:e.state.json["10140MPF-000044"],color:"warning"}),t.cardTable.setValByKeyAndRowId(a,i.rowid,"substituterate",{value:"",display:""}))}break;case"materialpfcsub":"pk_liabilitybook"===o&&(l.refname?t.cardTable.setValByKeysAndIndex(a,n,{"pk_liabilitybook.name":{value:l.refname,display:l.refname}}):t.cardTable.setValByKeysAndIndex(a,n,{"pk_liabilitybook.name":{value:null,display:null}}))}}},o);t.default=h=(0,s.createPage)({mutiLangCode:"3630"})(h)},302:function(e,t,a){e.exports=a(303)},303:function(e,t,a){"use strict";var o,l,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),n=a(2),i=f(n),s=f(a(6)),d=a(1),c=f(a(231)),u=f(a(147));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}d.base.NCFormControl;var p=d.base.NCAnchor,b=d.base.NCScrollLink,g=d.base.NCScrollElement,I=d.base.NCAffix,h=d.base.NCTabs,v=(d.base.NCCol,d.base.NCMessage,h.NCTabPane,d.high.NCUploader,d.high.PrintOutput,"material_pf"),y="material",k="materialconvert",w="fi",C="pfc",T="pu",_="sale",E="stock",F="plan",D="prod",x="10140MPFA_approve",j="10140MPF",P="/nccloud/uapbd/materialpf/queryMaterialpfCardData.do",M=(o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.call(a),a.formId1=v,a.formId2=y,a.tableId1=k,a.tableId2=w,a.tableId3=C,a.tableId4=T,a.tableId5=_,a.tableId6=E,a.tableId7=F,a.tableId8=D,a.pageId=x,a.appcode=j,a.state={formConfig:null,stated:"browse",json:{},inlt:null},a.initTemplate(a.props,function(){var e=a.props.getUrlParam("id");a.getData(e)}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"onSaveSys",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.cardTable,a=e.form,o=(e.button,e.modal),l=(e.cardPagination,e.search,e.table,this.props.button.getButtons()),r=a.createForm,n=t.createCardTable,s=o.createModal;return i.default.createElement("div",{className:"nc-bill-extCard"},i.default.createElement(I,null,i.default.createElement("div",{className:"nc-bill-header-area"},i.default.createElement("div",{className:"header-title-search-area"},i.default.createElement("h2",{className:"title-search-detail"},this.state.json["10140MPF-000007"])))),i.default.createElement(p,null,i.default.createElement(b,{to:"head",spy:!0,smooth:!0,duration:300,offset:-100},i.default.createElement("p",null,this.state.json["10140MPF-000007"])),i.default.createElement(b,{to:"material",spy:!0,smooth:!0,duration:300,offset:-100},i.default.createElement("p",null,this.state.json["10140MPF-000008"])),i.default.createElement(b,{to:"materialconvert",spy:!0,smooth:!0,duration:300,offset:-100},i.default.createElement("p",null,this.state.json["10140MPF-000009"])),i.default.createElement(b,{to:"fi",spy:!0,smooth:!0,duration:300,offset:-50},i.default.createElement("p",null,this.state.json["10140MPF-000000"])),i.default.createElement(b,{to:"pfc",spy:!0,smooth:!0,duration:300,offset:-50},i.default.createElement("p",null,this.state.json["10140MPF-000001"])),i.default.createElement(b,{to:"pu",spy:!0,smooth:!0,duration:300,offset:-50},i.default.createElement("p",null,this.state.json["10140MPF-000002"])),i.default.createElement(b,{to:"sale",spy:!0,smooth:!0,duration:300,offset:-50},i.default.createElement("p",null,this.state.json["10140MPF-000003"])),i.default.createElement(b,{to:"stock",spy:!0,smooth:!0,duration:300,offset:-50},i.default.createElement("p",null,this.state.json["10140MPF-000004"])),i.default.createElement(b,{to:"plan",spy:!0,smooth:!0,duration:300,offset:-50},i.default.createElement("p",null,this.state.json["10140MPF-000005"])),i.default.createElement(b,{to:"prod",spy:!0,smooth:!0,duration:300,offset:-50},i.default.createElement("p",null,this.state.json["10140MPF-000006"]))),i.default.createElement(g,{name:"head"},i.default.createElement("div",{className:"nc-bill-form-area"},r(this.formId1,{}))),i.default.createElement(g,{name:"material"},i.default.createElement("div",{className:"nc-bill-form-area"},i.default.createElement("div",{className:"header-title-search-area"},this.state.json["10140MPF-000008"]),r(this.formId2,{}))),i.default.createElement(g,{name:"materialconvert"},i.default.createElement("div",{className:"nc-bill-table-area"},n(this.tableId1,{tableHead:this.getTableHead.bind(this,l,this.tableId1),modelSave:this.saveBill,showCheck:!0,showIndex:!0}))),i.default.createElement(g,{name:"fi"},i.default.createElement("div",{className:"nc-bill-table-area"},n(this.tableId2,{tableHead:this.getTableHead.bind(this,l,this.tableId2),modelSave:this.saveBill,onRowDoubleClick:this.onRowDoubleClick.bind(this,this.tableId2),showIndex:!0}))),i.default.createElement(g,{name:"pfc"},i.default.createElement("div",{className:"nc-bill-table-area"},n(this.tableId3,{tableHead:this.getTableHead.bind(this,l,this.tableId3),modelSave:this.saveBill,onRowDoubleClick:this.onRowDoubleClick.bind(this,this.tableId3),showIndex:!0}))),i.default.createElement(g,{name:"pu"},i.default.createElement("div",{className:"nc-bill-table-area"},n(this.tableId4,{tableHead:this.getTableHead.bind(this,l,this.tableId4),modelSave:this.saveBill,onRowDoubleClick:this.onRowDoubleClick.bind(this,this.tableId4),showIndex:!0}))),i.default.createElement(g,{name:"sale"},i.default.createElement("div",{className:"nc-bill-table-area"},n(this.tableId5,{tableHead:this.getTableHead.bind(this,l,this.tableId5),modelSave:this.saveBill,onRowDoubleClick:this.onRowDoubleClick.bind(this,this.tableId5),showIndex:!0}))),i.default.createElement(g,{name:"stock"},i.default.createElement("div",{className:"nc-bill-table-area"},n(this.tableId6,{tableHead:this.getTableHead.bind(this,l,this.tableId6),modelSave:this.saveBill,onRowDoubleClick:this.onRowDoubleClick.bind(this,this.tableId6),showIndex:!0}))),i.default.createElement(g,{name:"plan"},i.default.createElement("div",{className:"nc-bill-table-area"},n(this.tableId7,{tableHead:this.getTableHead.bind(this,l,this.tableId7),modelSave:this.saveBill,onRowDoubleClick:this.onRowDoubleClick.bind(this,this.tableId7),showIndex:!0}))),i.default.createElement(g,{name:"prod"},i.default.createElement("div",{className:"nc-bill-table-area"},n(this.tableId8,{tableHead:this.getTableHead.bind(this,l,this.tableId8),modelSave:this.saveBill,onRowDoubleClick:this.onRowDoubleClick.bind(this,this.tableId8),showIndex:!0}))),s("source",{title:"null",content:i.default.createElement(c.default,{config:this.state.formConfig}),userControl:!0,noFooter:!0,beSureBtnClick:this.onSaveSys.bind(this)}))}}]),t}(),l=function(){var e=this;this.initTemplate=function(t,a){(0,u.default)(t)({pagecode:x},{moduleId:"10140MPF",domainName:"uapbd"},function(o,l,r){if(l&&(e.state.json=l,r&&(e.state.inlt=r)),o){if(o.template){var n=o.template;t.meta.setMeta(n)}if(o.button){var i=o.button;t.button.setButtons(i)}a&&a()}})},this.modifierMeta=function(e,t){var a="browse";return console.log(t),t[v].status=a,t[y].status=a,t[k].status=a,t[w].status=a,t[C].status=a,t[T].status=a,t[_].status=a,t[E].status=a,t[F].status=a,t[D].status=a,t},this.getData=function(t){var a={pk:t,pageid:e.pageId},o=e;(0,d.ajax)({url:P,data:a,success:function(t){t.data?(t.data.form2&&(e.props.form.setAllFormValue(m({},e.formId1,t.data.form2[e.formId1])),e.props.form.setFormItemsDisabled(e.formId1,{billno:!t.data.isCodeEdit})),t.data.billCard&&(t.data.billCard.head&&e.props.form.setAllFormValue(m({},e.formId2,t.data.billCard.head[e.formId2])),t.data.billCard.bodys&&(e.props.cardTable.setTableData(o.tableId1,t.data.billCard.bodys[o.tableId1]),e.props.cardTable.setTableData(o.tableId2,t.data.billCard.bodys[o.tableId2]),e.props.cardTable.setTableData(o.tableId3,t.data.billCard.bodys[o.tableId3]),e.props.cardTable.setTableData(o.tableId4,t.data.billCard.bodys[o.tableId4]),e.props.cardTable.setTableData(o.tableId5,t.data.billCard.bodys[o.tableId5]),e.props.cardTable.setTableData(o.tableId6,t.data.billCard.bodys[o.tableId6]),e.props.cardTable.setTableData(o.tableId7,t.data.billCard.bodys[o.tableId7]),e.props.cardTable.setTableData(o.tableId8,t.data.billCard.bodys[o.tableId8])))):(e.props.form.EmptyAllFormValue(e.formId1),e.props.form.EmptyAllFormValue(e.formId2),e.props.cardTable.setTableData(e.tableId1,{rows:[]}),e.props.cardTable.setTableData(e.tableId2,{rows:[]}),e.props.cardTable.setTableData(e.tableId3,{rows:[]}),e.props.cardTable.setTableData(e.tableId4,{rows:[]}),e.props.cardTable.setTableData(e.tableId5,{rows:[]}),e.props.cardTable.setTableData(e.tableId6,{rows:[]}),e.props.cardTable.setTableData(e.tableId7,{rows:[]}),e.props.cardTable.setTableData(e.tableId8,{rows:[]}))}})},this.getTableHead=function(t,a){return i.default.createElement("div",{className:"shoulder-definition-area"},i.default.createElement("div",{className:"definition-icons"},e.props.cardTable.createBrowseIcons(a,{iconArr:["close","open","max","setCol"],maxDestAreaId:"nc-bill-form-area"})))},this.onRowDoubleClick=function(t,a,o,l){var r=null,n=null;switch(t){case e.tableId2:n=e.state.json["10140MPF-000000"];break;case e.tableId3:r="materialpfcsub",n=e.state.json["10140MPF-000001"];break;case e.tableId4:n=e.state.json["10140MPF-000002"];break;case e.tableId5:r="materialbindle",n=e.state.json["10140MPF-000003"];break;case e.tableId6:r="materialwarh",n=e.state.json["10140MPF-000004"];break;case e.tableId7:r="materialrepl",n=e.state.json["10140MPF-000005"];break;case e.tableId8:n=e.state.json["10140MPF-000006"]}var s={pk:e.props.getUrlParam("id"),moduleId:t,formId:t,tableId:r,state:"browse"};e.props.modal.show("source",{title:n,content:i.default.createElement(c.default,{config:s}),userControl:!0,beSureBtnClick:e.onSaveSys.bind(e)})}},o);M=(0,d.createPage)({mutiLangCode:"3630"})(M),s.default.render(i.default.createElement(M,null),document.querySelector("#app"))},6:function(e,t){e.exports=a}})});
//# sourceMappingURL=index.3450da81.js.map