{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/./src/uapbd/address/addressdoc_grp/card/index.js","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://[name]/./src/uapbd/public/utils/BDCreateUIDom.js","webpack://[name]/external {\"root\":\"ReactDOM\",\"var\":\"ReactDOM\",\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\"}","webpack://[name]/./src/uapbd/address/addressdoc_base/card/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__4__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_react","AddressdocgrpCard","props","_classCallCheck","this","_possibleConstructorReturn","__proto__","getPrototypeOf","Component","_react2","default","createElement","_card2","config","title","pageCode","appcode","nodeType","pageCfg","arguments","length","undefined","langCfg","callback","count","result","hander","templateData","langData","inlt","console","log","newLangCfg","data","success","_ncLightappFront","toast","content","color","MultiInit","getMultiLang","createUIDom","PrintOutput","high","NCAffix","base","NCBackBtn","getCacheById","cardCache","updateCache","addCache","getCurrentLastId","getNextId","deleteCacheById","tableId","linkman","pk_item","AddDatasource","urls","queryaddresscardUrl","SaveaddressUrl","updateaddressUrl","deladdressUrl","copyaddressUrl","saveLinkman","queryLinkman","queryDefaultDataUrl","enablestateUrl","print","cancel","validateUrl","Card","_this","_initialiseProps","assign","formId","oid","primaryKey","state","project_code","bill_code","isedit","pks","stated","json","isPrecode","initTemplate","getUrlParam","pk","getdata","copydate","setDefaultValue","formStatus","form","getFormStatus","onbeforeunload","id","_this2","EmptyAllFormValue","cardTable","setTableData","rows","setUrlParam","status","ajax","url","type","res","toggleShow","promptBox","beSureBtnClick","delConfirm","pushTo","saveClick","saveaddClick","code","getFormItemsValue","resetTableData","button","setButtonVisible","setDisabled","setFormItemsDisabled","enablestate","cancelBtnClick","closeBtnClick","linkadd","pintFunction","funcode","nodekey","outputType","pkid","push","setState","refs","printOutput","open","param","oids","_props","modal","createCardPagination","cardPagination","createForm","createCardTable","createButtonApp","createModal","className","onClick","buttonClick","area","buttonLimit","onButtonClick","popContainer","document","querySelector","style","float","handlePageInfoChange","pageInfoClick","dataSource","onAfterEvent","afterEvent","tableHead","getTableHead","modelSave","tableModelConfirm","showIndex","size","createLinkmanForm","noFooter","ref","_BDCreateUIDom2","pagecode","domainName","_this3","setButtons","template","meta","modifierMeta","setMeta","tableBtnAry","getStatus","items","map","item","attrcode","queryCondition","pk_org","pk_country","pk_father","label","visible","width","itemtype","render","text","record","index","btnArray","createOprationButton","tableButtonClick","tablemodalshow","show","userControl","isCheckNow","lmdata","getAllFormValue","pageid","gridModel","close","setValByKeyAndIndex","display","values","sex","vjob","phone","cell","closeModalEve","toggleRowView","delRowsByIndex","setFormStatus","addRow","pk_linkman","pk_linkman.name","pk_linkman.sex","pk_linkman.vjob","pk_linkman.phone","pk_linkman.cell","moudleid","setAllFormValue","_defineProperty","head","datas","forEach","array","body","error","flag","setCardPaginationVisible","pk_group","aflag","edit","delete","saveadd","setStatus","cardData","isenab","filterEmptyRows","setFormItemsValue","CardData","createMasterChildData","ts","nextId","closeModel","oldValue","province","city","region","requestParam","moduleid","message","createBrowseIcons","iconArr","maxDestAreaId","modalAfterEvent","len","getNumberOfRows","createPage"],"mappings":"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","file":"uapbd/address/addressdoc_grp/card/index.72b2c500.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/address/addressdoc_grp/card/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"uapbd/address/addressdoc_grp/card/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"], root[\"ReactDOM\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 167);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","import AreaClassFun from '../../addressdoc_base/card'\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {getMultiLang } from 'nc-lightapp-front';\r\n\r\nclass AddressdocgrpCard extends Component {\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        let config = {\r\n            title:'10140ADRB-000024',\r\n            pageCode:\"10140ADRG_card\",\r\n            appcode:'10140ADRG',\r\n            nodeType:\"GROPE_NODE\",\r\n        };\r\n        return(\r\n            <AreaClassFun {...{config:config}}/>\r\n        );\r\n    }\r\n}\r\nexport default AddressdocgrpCard;\r\n\r\n/**\r\n * 渲染页面\r\n */\r\n//ReactDOM.render(<AreaClassFun  {...{config:config}}/>, document.querySelector('#app'));\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","//   pagecode:props.config.pageCode?props.config.pageCode:pagecode\r\n//  getMultiLang({moduleId: \"10140ADRB\",domainName: 'uapbd',callback})\r\n\r\n\r\nimport { toast} from 'nc-lightapp-front';\r\nexport default function(props){\r\n     return ( pageCfg = {} , langCfg = {}, callback ) => {\r\n\r\n         var count = 0;\r\n         var result = {};\r\n\r\n         var hander = () => {\r\n             if(count == 2){\r\n                 callback && callback(result.templateData || {} , result.langData || {},result.inlt||{});\r\n             }\r\n         }\r\n         if(langCfg.callback){\r\n             console.log('咱们自己createUIDom会同时获取多语和单据模板,并通过一个回调函数返回, langCfg中的回调函数将被忽略');\r\n         }\r\n\r\n         var newLangCfg = { ...langCfg, callback: (data, success,inlt) => {\r\n                    count = count + 1;\r\n                 if(!success){\r\n                     toast({content:'load muti lang error',color:'warning'});\r\n                 }\r\n                 result.langData = data || {};\r\n                 result.inlt = inlt || {};\r\n                 hander();\r\n         }};\r\n         props.MultiInit.getMultiLang(newLangCfg);\r\n\r\n         props.createUIDom(pageCfg, (data) => {\r\n             count = count + 1;\r\n             result.templateData = data || {};\r\n             hander();\r\n         });\r\n    };\r\n};","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","//主子表卡片\r\nimport React, { Component } from 'react';\r\nconst { PrintOutput } = high;\r\nimport { createPage, ajax, base, toast,print,high,cardCache,promptBox,getMultiLang } from 'nc-lightapp-front';\r\nimport createUIDom from \"../../../public/utils/BDCreateUIDom\";\r\nconst { NCAffix,NCBackBtn } = base;\r\nlet { getCacheById, updateCache ,addCache,getCurrentLastId ,getNextId, deleteCacheById } = cardCache;\r\n\r\n\r\nconst formId = 'head';\r\nconst tableId = 'linkmanvos';\r\nconst pageId = '10140ADRB_card';\r\nconst appcode = '10140ADRB';//注册按钮的id\r\nconst pk_value = \"code\";\r\nconst linkman='10140LM';\r\nconst pk_item = 'pk_addressdoc';\r\nconst AddDatasource = 'uapbd.address.addressdoc_grp.dataSource';\r\nlet urls={\r\n    queryaddresscardUrl:\"/nccloud/uapbd/address/queryaddresscard.do\",\r\n    SaveaddressUrl:\"/nccloud/uapbd/address/saveaddress.do\",\r\n    updateaddressUrl:\"/nccloud/uapbd/address/updateaddress.do\",\r\n    deladdressUrl:\"/nccloud/uapbd/address/deladdress.do\",\r\n    copyaddressUrl:\"/nccloud/uapbd/address/copyAddressCard.do\",\r\n    saveLinkman:\"/nccloud/uapbd/address/saveLinkman.do\",\r\n    queryLinkman:\"/nccloud/uapbd/address/queryLinkman.do\",\r\n    queryDefaultDataUrl:\"/nccloud/uapbd/address/queryDefaultData.do\",\r\n    enablestateUrl:\"/nccloud/uapbd/address/enableAddressDocInfo.do\",\r\n    print:\"/nccloud/uapbd/address/printAddressDocInfo.do\",\r\n    cancel:\"/nccloud/uapbd/address/cancelAddressDoc.do\",\r\n    validateUrl:\"/nccloud/uapbd/address/validateAddressDoc.do\",\r\n};\r\n\r\nclass Card extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.config =Object.assign({\r\n            title:'10140ADRB-000000',/* 国际化处理： 地点-全局*/\r\n            tableId:\"linkmanvos\",\r\n            formId : 'head',\r\n            linkman:'10140LM',\r\n            pageCode:\"10140ADRB_card\",\r\n            appcode:'10140ADRB',\r\n            oid:'1004Z01000000000YWY3',\r\n            nodeType:'GLOBE_NODE',\r\n            primaryKey:'pk_addressdoc',\r\n            urls:urls\r\n        },props.config);\r\n        this.state = {\r\n            project_code:null,\r\n            bill_code : '',\r\n            isedit:true,\r\n            pks:[],\r\n            stated:'browse',\r\n            json:{},\r\n            isPrecode:true,\r\n        };\r\n        this.initTemplate(this.props,()=>{\r\n            let status = this.props.getUrlParam('status');\r\n            if(status != \"add\"){\r\n                let\tpk = this.props.getUrlParam('id');\r\n                if(pk && pk != 'undefined'){\r\n                    this.getdata(pk);\r\n                }\r\n            }\r\n            else{\r\n                let\tpk = this.props.getUrlParam('id');\r\n                if(pk && pk != 'undefined'){\r\n                    this.copydate(pk);\r\n                }else{\r\n                    this.setDefaultValue();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    initTemplate = (props,callback) => {\r\n        createUIDom(props)(\r\n            {\r\n                pagecode: props.config.pageCode?props.config.pageCode:pageId,//页面id\r\n            },\r\n            {\r\n                moduleId: \"10140ADRB\",domainName: 'uapbd'\r\n            },\r\n            (data,langData)=>{\r\n                if(langData){\r\n                    this.state.json = langData\r\n                }\r\n                if(data){\r\n                    if(data.button){\r\n                        let button = data.button;\r\n                        props.button.setButtons(button);\r\n                    }\r\n                    if(data.template){\r\n                        let meta = data.template;\r\n                        this.modifierMeta(props, meta)\r\n                        props.meta.setMeta(meta);\r\n                    }\r\n                    callback && callback();\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    tableBtnAry =(props)=>{\r\n        return props.cardTable.getStatus(tableId)==='browse'?[]:['insertline','delline','editline'];;\r\n    }\r\n\r\n    modifierMeta = (props, meta) => {\r\n        let status = props.getUrlParam('status');\r\n        meta[formId].status = status;\r\n        meta[tableId].status = status;\r\n        meta[formId].items.map((item)=>{\r\n            if(item.attrcode == 'pk_areacl'){\r\n                item.queryCondition=()=>{\r\n                   if(this.config.nodeType =='GLOBE_NODE'){\r\n                   return {pk_org:'GLOBLE00000000000000'}\r\n                   }\r\n                }\r\n            }\r\n            if(item.attrcode == 'province'){\r\n\r\n                item['disabled']=true;\r\n                item.queryCondition=()=>{\r\n                    let country = props.form.getFormItemsValue(formId,'country').value;\r\n                    return {pk_country:country,pk_father:'~'}\r\n                }\r\n            }\r\n            if(item.attrcode == 'city'){\r\n                item['disabled']=true;\r\n                item.queryCondition=()=>{\r\n                    let province = props.form.getFormItemsValue(formId,'province').value\r\n                    return {pk_father:province}\r\n                }\r\n            }\r\n            if(item.attrcode == 'region'){\r\n                item['disabled']=true;\r\n                item.queryCondition=()=>{\r\n                    let city = props.form.getFormItemsValue(formId,'city').value\r\n                    return {pk_father:city}\r\n                }\r\n            }\r\n        })\r\n        meta[tableId].items.push({\r\n            attrcode: 'opr',\r\n            label: this.state.json['10140ADRB-000001'],/* 国际化处理： 操作*/\r\n            visible: true,\r\n            className:'table-opr',\r\n            width:200,\r\n            itemtype: 'customer',\r\n            //fixed:'right',\r\n            render:(text, record, index) => {\r\n                let btnArray = this.tableBtnAry(props);\r\n\r\n                return props.button.createOprationButton(\r\n                    btnArray,\r\n                    {\r\n                        area: \"table-opr-button\",\r\n                        buttonLimit: 3,\r\n                        onButtonClick: (props, id) => this.tableButtonClick(props, id, text, record, index)\r\n                    }\r\n                )\r\n            }\r\n        });\r\n\r\n        return meta;\r\n    }\r\n\r\n    tablemodalshow = (props,index) => {\r\n        props.modal.show('linkmanModal',{\r\n            userControl:true,\r\n            beSureBtnClick:()=>{\r\n                let flag = this.props.form.isCheckNow(linkman);\r\n                if(!flag)return\r\n                let lmdata = props.form.getAllFormValue(linkman);\r\n\r\n                ajax({\r\n                    url:urls.saveLinkman,\r\n                    data:{\r\n                        'pageid':props.config.pageCode,\r\n                        'gridModel':lmdata\r\n                    },\r\n                    success:(res)=>{\r\n                        let{success,data} =res;\r\n                        if(success){\r\n                            props.modal.close('linkmanModal')\r\n                            if(data){\r\n                                //联系人新增成功，回显子表数据\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman',{value:data,display:data});\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.name',lmdata.rows[0].values.name);\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.sex',lmdata.rows[0].values.sex);\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.vjob',lmdata.rows[0].values.vjob);\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.phone',lmdata.rows[0].values.phone);\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.cell',lmdata.rows[0].values.cell);// props.cardTable.setValByKeyAndRowId(tableId,index,{\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n            },\r\n            cancelBtnClick:()=>{\r\n                props.form.EmptyAllFormValue(linkman);\r\n                props.modal.close('linkmanModal')\r\n                return;\r\n            },\r\n            closeModalEve:()=>{\r\n                props.form.EmptyAllFormValue(linkman);\r\n                props.modal.close('linkmanModal')\r\n                return;\r\n            },\r\n        })\r\n    }\r\n\r\n    tableButtonClick = (props, id, text, record, index) => {\r\n\r\n        switch(id){\r\n            case 'spread':\r\n                props.cardTable.toggleRowView(tableId, record);\r\n                break;\r\n            case \"delline\"://删除行\r\n                props.cardTable.delRowsByIndex(tableId, index);\r\n                break;\r\n            case \"insertline\"://更多\r\n                props.form.setFormStatus(linkman,'edit');\r\n                props.modal.show('linkmanModal',{\r\n                    userControl:true,\r\n                    beSureBtnClick:()=>{\r\n                        let flag = this.props.form.isCheckNow(linkman);\r\n                        if(!flag)return\r\n                        let lmdata = props.form.getAllFormValue(linkman);\r\n\r\n                        ajax({\r\n                            url:urls.saveLinkman,\r\n                            data:{\r\n                                'pageid':this.config.pageCode,\r\n                                'gridModel':lmdata\r\n                            },\r\n                            success:(res)=>{\r\n                                let{success,data} =res;\r\n                                if(success){\r\n                                    if(data){\r\n                                        //联系人新增成功，回显子表数据\r\n                                        props.modal.close('linkmanModal')\r\n                                        props.cardTable.addRow(tableId,index+1,{\r\n\r\n                                            'pk_linkman':{\r\n                                                value:data\r\n                                            },\r\n                                            'pk_linkman.name':lmdata.rows[0].values.name,\r\n                                            'pk_linkman.sex':lmdata.rows[0].values.sex,\r\n                                            'pk_linkman.vjob':lmdata.rows[0].values.vjob,\r\n                                            'pk_linkman.phone':lmdata.rows[0].values.phone,\r\n                                            'pk_linkman.cell':lmdata.rows[0].values.cell,\r\n                                        });\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                    },\r\n                    cancelBtnClick:()=>{\r\n                        props.form.EmptyAllFormValue(linkman);\r\n                        props.modal.close('linkmanModal')\r\n                        return;\r\n                    },\r\n                    closeModalEve:()=>{\r\n                        props.form.EmptyAllFormValue(linkman);\r\n                        props.modal.close('linkmanModal')\r\n                        return;\r\n                    },\r\n                })\r\n\r\n                break;\r\n            case \"editline\"://展开\r\n                ajax({\r\n                    url:urls.queryLinkman,\r\n                    data:{\r\n                        pageid:props.config.pageCode,\r\n                        moudleid:linkman,\r\n                        pk:record.values[\"pk_linkman\"].value\r\n                    },\r\n                    success:(res)=>{\r\n                        let{success,data} =res;\r\n                        if(success){\r\n                            if(data){\r\n                                props.form.setFormStatus(linkman,'edit');\r\n                                props.form.setAllFormValue({[linkman]:res.data[linkman]})\r\n                                this.tablemodalshow(props,index);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    componentWillMount() {}\r\n\r\n    componentDidMount() {}\r\n\r\n    componentDidUpdate(){\r\n        let formStatus = this.props.form.getFormStatus(this.config.formId);\r\n        if(formStatus === 'browse'){\r\n            window.onbeforeunload = null;\r\n        }else{\r\n            window.onbeforeunload = () => {//编辑态关闭页签或浏览器的提示\r\n                return '';\r\n            };\r\n        }\r\n    }\r\n\r\n    setDefaultValue = () =>{\r\n        ajax({\r\n            url: urls.queryDefaultDataUrl,\r\n            data:{nodeType:this.config.nodeType},\r\n            success: (res) => {\r\n                if (res.data['carddate'].head) {\r\n                    let datas = res.data['carddate'].head[this.config.formId]\r\n                    let project_code = datas.rows[0].values[pk_value].value;\r\n                    datas.rows.forEach(function(item, index, array){\r\n                        //是否其中转换成开关\r\n                        if (item.values['enablestate'].value === '2') {\r\n                            item.values['enablestate'].value = true;\r\n                        } else {\r\n                            item.values['enablestate'].value = false;\r\n                        }\r\n                    });\r\n                    this.props.form.setAllFormValue({ [this.config.formId]: datas});\r\n                    console.log(this.config.formId,{'code':true})\r\n                    this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']});\r\n                    this.state.isPrecode = res.data['isPrecode'];\r\n                    this.setState({project_code:project_code});\r\n                }\r\n                if (res.data['carddate'].body) {\r\n                    this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                }\r\n                if(res.data['message']){\r\n                    toast({content:res.data['message'],color:'warning'});\r\n                }\r\n                    this.toggleShow();\r\n            },\r\n            error:(res)=>{\r\n\r\n        }\r\n        });\r\n    }\r\n\r\n    //切换页面状态\r\n    toggleShow = () => {\r\n        let status = this.props.getUrlParam('status');\r\n        let flag = status === 'browse' ? false : true;\r\n        //按钮的显示状态\r\n        this.props.button.setButtonVisible(['add','edit','delete','copy','refresh','back','print'],!flag);\r\n        this.props.button.setButtonVisible(['save','saveadd','cancel','addline'],flag);\r\n        this.props.cardPagination.setCardPaginationVisible('cardPaginationBtn', !flag);\r\n        let pk_group = this.props.form.getFormItemsValue(this.config.formId, 'pk_group').value;\r\n        let pk_org = this.props.form.getFormItemsValue(this.config.formId, 'pk_org').value;\r\n        let aflag = this.config.nodeType==='GROPE_NODE'&&(pk_group!=pk_org)\r\n        this.props.button.setDisabled({\r\n            edit:aflag,\r\n            delete:aflag,\r\n            saveadd:status == 'edit'?true:false,\r\n        });\r\n        this.props.form.setFormStatus(this.config.formId, status);\r\n        this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':flag})\r\n        this.props.cardTable.setStatus(this.config.tableId, status==='browse'?\"browse\" :\"edit\");\r\n        this.setState({\r\n            stated:status\r\n        })\r\n    };\r\n\r\n    //按钮点击事件\r\n    buttonClick(props, id) {\r\n        switch (id) {\r\n            case 'add':\r\n                props.form.EmptyAllFormValue(this.config.formId)\r\n                props.cardTable.setTableData(this.config.tableId, { rows: [] })\r\n                props.setUrlParam({status:'add'})\r\n                this.setDefaultValue();\r\n                break\r\n            case 'edit':\r\n                ajax({\r\n                    url: urls.validateUrl,\r\n                    data: {\r\n                        pk: props.getUrlParam('id'),\r\n                        nodeType: props.config.nodeType,\r\n                        type:id\r\n                    },\r\n                    success: (res) => {\r\n                        props.setUrlParam({status:'edit',id: props.getUrlParam('id')});\r\n                        this.toggleShow();\r\n                    }\r\n                })\r\n                break;\r\n            case 'delete':\r\n                ajax({\r\n                    url: urls.validateUrl,\r\n                    data: {\r\n                        pk: props.getUrlParam('id'),\r\n                        nodeType: props.config.nodeType,\r\n                        type:id\r\n                    },\r\n                    success: (res) => {\r\n                        promptBox({\r\n                            color:\"info\",\r\n                            title: this.state.json['10140ADRB-000002'],/* 国际化处理： 确定删除*/\r\n                            content: this.state.json['10140ADRB-000003'],/* 国际化处理： 您确定要删除所选数据吗?*/\r\n                            beSureBtnClick: this.delConfirm.bind(this)\r\n                        });\r\n                    }\r\n                })\r\n                break\r\n            case 'back':\r\n                props.pushTo(\"list\")\r\n                break;\r\n            case 'save':\r\n                this.saveClick();\r\n                break;\r\n            case 'saveadd':\r\n                this.saveaddClick();\r\n                break;\r\n            case 'copy':\r\n                props.setUrlParam({status:'add',id: props.getUrlParam('id')});\r\n                this.copydate(props.getUrlParam('id'));\r\n                break\r\n            case 'cancel':\r\n                promptBox({\r\n                    color:\"info\",\r\n                    title:this.state.json['10140ADRB-000004'],/* 国际化处理： 确认取消*/\r\n                    content:this.state.json['10140ADRB-000005'],/* 国际化处理： 是否确认要取消?*/\r\n                    beSureBtnClick:()=>{\r\n                        if (props.getUrlParam('status') === 'add') {\r\n                            if(props.getUrlParam('id')){\r\n                                props.setUrlParam({status:'browse',id:props.getUrlParam('id')});\r\n                                this.getdata(props.getUrlParam('id'));\r\n                            }else{\r\n                                let code = this.props.form.getFormItemsValue(this.config.formId,'code')\r\n                                ajax({\r\n                                    url: urls.cancel,\r\n                                    data:{code:code.value},\r\n                                    success: (res) => {\r\n                                        props.form.cancel(this.config.formId);\r\n                                        props.cardTable.resetTableData(this.config.tableId);\r\n                                        let id = getCurrentLastId(AddDatasource);\r\n                                        props.setUrlParam({status:'browse',id: id});\r\n                                        if(id==null){\r\n                                            this.props.button.setButtonVisible(['add','edit','delete','copy','refresh','back','print'],true);\r\n                                            this.props.button.setButtonVisible(['save','saveadd','cancel','addline'],false);\r\n                                            this.props.button.setDisabled(['edit','delete','copy','refresh','back','print'],true);\r\n                                            this.props.form.cancel(this.config.formId);\r\n                                            this.props.cardTable.resetTableData(this.config.tableId);\r\n                                            this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':true})\r\n                                            return;\r\n                                        }\r\n                                        let\tpk = this.props.getUrlParam('id');\r\n                                        if(pk && pk != 'undefined'){\r\n                                            this.getdata(pk);\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                        }\r\n                        if ((props.getUrlParam('status') === 'edit')) {\r\n                            props.form.cancel(this.config.formId);\r\n                            props.cardTable.resetTableData(this.config.tableId);\r\n                            props.setUrlParam({status:'browse',id:props.getUrlParam('id')});\r\n                        }\r\n                        this.toggleShow();\r\n                    },\r\n                    cancelBtnClick:()=>{\r\n                        return;\r\n                    },\r\n                    closeBtnClick:()=>{\r\n                        return;\r\n                    }\r\n                })\r\n                break\r\n            case 'addline':\r\n                this.linkadd(props);\r\n                break\r\n            case 'refresh':\r\n                let\tpk = this.props.getUrlParam('id');\r\n                if(pk && pk != 'undefined'){\r\n                    this.getdata(pk,true,()=>{toast({title:this.state.json['10140ADRB-000006'],color:'success'});});/* 国际化处理： 刷新成功！*/\r\n                }\r\n                break;\r\n            case \"print\":\r\n                let printParam={\r\n                    funcode: \"10140ADRB\",\r\n                    nodekey: 'addresscard',\r\n                    outputType:'print'\r\n                };\r\n                this.pintFunction(printParam);\r\n                break;\r\n            case 'output':\r\n                let pkid = this.props.getUrlParam('id');\r\n                if(pkid==null){\r\n                    return\r\n                }\r\n                let pks = [];\r\n                pks.push(pkid);\r\n                this.setState({\r\n                    pks:pks\r\n                },this.refs.printOutput.open())\r\n                break;\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    //打印功能函数\r\n    pintFunction(param){\r\n        let pk = this.props.getUrlParam('id');\r\n        if(pk==null){\r\n            return\r\n        }\r\n        let pks = [];\r\n        pks.push(pk);\r\n        param.oids = pks;\r\n        print(\r\n            'pdf',\r\n            urls['print'],\r\n            param\r\n        );\r\n    }\r\n\r\n    //通过单据id查询单据信息\r\n    getdata = (pk,flag,callback) =>{\r\n        let cardData = getCacheById(pk, AddDatasource);\r\n        if(cardData&&!flag){\r\n            if (cardData['carddate'].head) {\r\n                cardData['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                    //是否其中转换成开关\r\n                    if (item.values['enablestate'].value === '2') {\r\n                        item.values['enablestate'].value = true;\r\n                    } else {\r\n                        item.values['enablestate'].value = false;\r\n                    }\r\n                });\r\n                this.props.form.setAllFormValue({ [this.config.formId]: cardData['carddate'].head[this.config.formId] });\r\n                let values = cardData['carddate'].head[this.config.formId].rows[0].values;\r\n                let project_code = values[pk_value].value;\r\n                this.setState({project_code});\r\n                this.props.form.setFormItemsDisabled(this.config.formId,{'code':!cardData['isCodeEdit']})\r\n                this.state.isPrecode = cardData['isPrecode'];\r\n                let isenab = this.config.nodeType===\"GROPE_NODE\"&&(values['pk_group'].value!=values['pk_org'].value)\r\n                this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':isenab})\r\n            }\r\n            if (cardData['carddate'].body) {\r\n                this.props.cardTable.setTableData(this.config.tableId, cardData['carddate'].body[this.config.tableId]);\r\n            }\r\n            this.toggleShow();\r\n        }else{\r\n            let data = {pk:pk,pagecode:this.config.pageCode};\r\n            ajax({\r\n                url: urls.queryaddresscardUrl,\r\n                data,\r\n                success: (res) => {\r\n                    if (res.data['carddate'].head) {\r\n                        res.data['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                            //是否其中转换成开关\r\n                            if (item.values['enablestate'].value === '2') {\r\n                                item.values['enablestate'].value = true;\r\n                            } else {\r\n                                item.values['enablestate'].value = false;\r\n                            }\r\n                        });\r\n                        this.props.form.setAllFormValue({ [this.config.formId]: res.data['carddate'].head[this.config.formId] });\r\n                        let values = res.data['carddate'].head[this.config.formId].rows[0].values;\r\n                        let project_code = values[pk_value].value;\r\n                        this.setState({project_code});\r\n                        this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']})\r\n                        this.state.isPrecode = res.data['isPrecode'];\r\n                        let isenab = this.config.nodeType===\"GROPE_NODE\"&&(values['pk_group'].value!=values['pk_org'].value)\r\n                        this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':isenab})\r\n                    }\r\n                    if (res.data['carddate'].body) {\r\n                        this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                    }\r\n                    res.data['head']=res.data['carddate'].head;\r\n                    updateCache(pk_item,pk,res.data,this.config.formId,AddDatasource);\r\n                    callback&&callback();\r\n                    this.toggleShow();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    //复制数据\r\n    copydate = (pk)=>{\r\n        let data = {pk:pk,pagecode:this.config.pageCode};\r\n        ajax({\r\n            url: urls.copyaddressUrl,\r\n            data,\r\n            success: (res) => {\r\n                if (res.data['carddate'].head) {\r\n                    res.data['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                        //是否其中转换成开关\r\n                        if (item.values['enablestate'].value === '2') {\r\n                            item.values['enablestate'].value = true;\r\n                        } else {\r\n                            item.values['enablestate'].value = false;\r\n                        }\r\n                    });\r\n                    this.props.form.setAllFormValue({ [this.config.formId]: res.data['carddate'].head[this.config.formId] });\r\n                    let project_code = res.data['carddate'].head[this.config.formId].rows[0].values[pk_value].value;\r\n                    this.setState({project_code});\r\n                    this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']})\r\n                    this.state.isPrecode = res.data['isPrecode'];\r\n                }\r\n                if (res.data['carddate'].body) {\r\n                    this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                }\r\n                this.toggleShow();\r\n            }\r\n        });\r\n    }\r\n\r\n    pageInfoClick=(props, pk)=>{\r\n        console.log(pk)\r\n        if(pk&&pk!=null) {\r\n            props.setUrlParam({id: pk});\r\n            this.getdata(pk);\r\n        }\r\n    }\r\n\r\n    //保存单据\r\n    saveClick = () =>{\r\n        this.props.cardTable.filterEmptyRows(tableId);\r\n        if(this.state.isPrecode ==false &&this.props.form.getFormItemsValue(this.config.formId,'code').value == null){\r\n            this.props.form.setFormItemsValue(this.config.formId,{'code':{value:'.',display:null}});\r\n        }\r\n        let flag = this.props.form.isCheckNow(this.config.formId);\r\n        if(!flag)return\r\n        let CardData = this.props.createMasterChildData(this.config.pageCode, this.config.formId, this.config.tableId);\r\n        CardData.head[this.config.formId].rows[0].values.enablestate.value=CardData.head[this.config.formId].rows[0].values.enablestate.value==true?2:3;\r\n        // CardData.head.head.rows[0].values.bill_code = _this.state.bill_code;\r\n        let url = urls.SaveaddressUrl//新增保存\r\n        if (this.props.getUrlParam('status') === 'edit') {\r\n            url = urls.updateaddressUrl//修改保存\r\n        }\r\n        ajax({\r\n            url: url,\r\n            data: CardData,\r\n            success: (res) => {\r\n                let pk_project = null\r\n                if (res.success) {\r\n                    let pk =null;\r\n                    if (res.data) {\r\n                        if (res.data['carddate'].head) {\r\n                            res.data['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                                //是否其中转换成开关\r\n                                if (item.values['enablestate'].value === '2') {\r\n                                    item.values['enablestate'].value = true;\r\n                                } else {\r\n                                    item.values['enablestate'].value = false;\r\n                                }\r\n                            });\r\n                            this.props.form.setAllFormValue({ [this.config.formId]: res.data['carddate'].head[this.config.formId] });\r\n                            let values = res.data['carddate'].head[this.config.formId].rows[0].values;\r\n                            let project_code = values[pk_value].value;\r\n                            pk = values[pk_item].value;\r\n                            this.setState({project_code});\r\n                            this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']})\r\n                            let isenab = this.config.nodeType===\"GROPE_NODE\"&&(values['pk_group'].value!=values['pk_org'].value)\r\n                            this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':isenab})\r\n                        }\r\n                        if (res.data['carddate'].body) {\r\n                            this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                        }\r\n                        res.data['head']=res.data['carddate'].head;\r\n                        if (this.props.getUrlParam('status') === 'add'){\r\n                            addCache(pk,res.data,this.config.formId,AddDatasource);\r\n                        }{\r\n                            updateCache(pk_item,pk,res.data,this.config.formId,AddDatasource);\r\n                        }\r\n                        this.props.setUrlParam({status:'browse',id: pk});\r\n                        toast({title : this.state.json['10140ADRB-000007'],color : 'success'});/* 国际化处理： 保存成功！*/\r\n                        this.toggleShow();\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    //保存新增单据\r\n    saveaddClick = () =>{\r\n        this.props.cardTable.filterEmptyRows(tableId);\r\n        if(this.state.isPrecode ==false&&this.props.form.getFormItemsValue(this.config.formId,'code').value == null){\r\n            this.props.form.setFormItemsValue(this.config.formId,{'code':{value:'.',display:null}});\r\n        }\r\n        let flag = this.props.form.isCheckNow(this.config.formId);\r\n        if(!flag)return\r\n        let CardData = this.props.createMasterChildData(this.config.pageCode, this.config.formId, this.config.tableId);\r\n        CardData.head[this.config.formId].rows[0].values.enablestate.value=CardData.head[this.config.formId].rows[0].values.enablestate.value==true?2:3;\r\n        // CardData.head.head.rows[0].values.bill_code = _this.state.bill_code;\r\n        let url = urls.SaveaddressUrl//新增保存\r\n        if (this.props.getUrlParam('status') === 'edit') {\r\n            url = urls.updateaddressUrl//修改保存\r\n        }\r\n        ajax({\r\n            url: url,\r\n            data: CardData,\r\n            success: (res) => {\r\n                let pk_project = null\r\n                if (res.success) {\r\n                    let pk =null;\r\n                    if (res.data) {\r\n                        if (res.data['carddate'].head) {\r\n                            res.data['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                                //是否其中转换成开关\r\n                                if (item.values['enablestate'].value === '2') {\r\n                                    item.values['enablestate'].value = true;\r\n                                } else {\r\n                                    item.values['enablestate'].value = false;\r\n                                }\r\n                            });\r\n                            this.props.form.setAllFormValue({ [this.config.formId]: res.data['carddate'].head[this.config.formId] });\r\n                            let values = res.data['carddate'].head[this.config.formId].rows[0].values;\r\n                            let project_code = values[pk_value].value;\r\n                            pk = values[pk_item].value;\r\n                            this.setState({project_code});\r\n                            this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']})\r\n                            let isenab = this.config.nodeType===\"GROPE_NODE\"&&(values['pk_group'].value!=values['pk_org'].value)\r\n                            this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':isenab})\r\n                        }\r\n                        if (res.data['carddate'].body) {\r\n                            this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                        }\r\n                        res.data['head']=res.data['carddate'].head;\r\n                        if (this.props.getUrlParam('status') === 'add'){\r\n                            addCache(pk,res.data,this.config.formId,AddDatasource);\r\n                        }{\r\n                            updateCache(pk_item,pk,res.data,this.config.formId,AddDatasource);\r\n                        }\r\n                        this.props.setUrlParam({status:'add',id:null});\r\n                        toast({title : this.state.json['10140ADRB-000007'],color : 'success'});/* 国际化处理： 保存成功！*/\r\n                        this.props.form.EmptyAllFormValue(this.config.formId)\r\n                        this.props.cardTable.setTableData(this.config.tableId, { rows: [] })\r\n                        this.setDefaultValue();\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    //删除单据\r\n    delConfirm = () => {\r\n        ajax({\r\n            url: urls.deladdressUrl,\r\n            data: {\r\n                id: this.props.getUrlParam('id'),\r\n                ts: this.props.form.getFormItemsValue(this.config.formId, 'ts').value\r\n            },\r\n            success: (res) => {\r\n                if (res) {\r\n                    let id =this.props.getUrlParam('id');\r\n                    let nextId = getNextId(id, AddDatasource);\r\n                    deleteCacheById(pk_item,id,AddDatasource);\r\n                    toast({ color: 'success', title: this.state.json['10140ADRB-000008'] });/* 国际化处理： 删除成功！*/\r\n                    if(nextId){\r\n                        this.props.setUrlParam({status:'browse',id: nextId});\r\n                        this.getdata(nextId);\r\n                    }else{\r\n                        this.props.pushTo(\"/list\",{});\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    modelSave = (props)=>{\r\n        props.cardTable.closeModel(this.config.tableId);\r\n        this.saveClick();\r\n    }\r\n\r\n    afterEvent=(props, moduleId , key,  value, oldValue, data)=>{\r\n        switch(key){\r\n            case 'country':\r\n                props.form.setFormItemsDisabled(moduleId,{'province':value.value==null?true:false})\r\n                if(value.value==null){\r\n                    props.form.setFormItemsDisabled(moduleId,{'city':true,'region':true})\r\n                }\r\n                props.form.setFormItemsValue(this.config.formId,{'province':{value:null,display:null},'city':{display:null,value:null},'region':{display:null,value:null}});\r\n                break;\r\n            case 'province':\r\n                props.form.setFormItemsDisabled(moduleId,{'city':value.value==null?true:false})\r\n                if(value.value==null){\r\n                    props.form.setFormItemsDisabled(moduleId,{'region':true})\r\n                }\r\n                props.form.setFormItemsValue(this.config.formId,{'city':{display:null,value:null},'region':{display:null,value:null}});\r\n                break;\r\n            case 'city':\r\n                props.form.setFormItemsDisabled(moduleId,{'region':value.value==null?true:false})\r\n                props.form.setFormItemsValue(this.config.formId,{'region':{display:null,value:null}});\r\n                break;\r\n            case 'enablestate':\r\n                let requestParam = {\r\n                    pk:props.form.getAllFormValue(moduleId).rows[0].values['pk_addressdoc'].value,\r\n                    enablestate:value.value?'2':'3',\r\n                    ts:props.form.getAllFormValue(moduleId).rows[0].values['ts'].value,\r\n                    nodeType:this.config.nodeType,\r\n                    moduleid:this.config.formId,\r\n                    pagecode:this.config.pageCode\r\n                };\r\n                ajax({\r\n                    url: urls.validateUrl,\r\n                    data: {\r\n                        pk: props.getUrlParam('id'),\r\n                        nodeType: props.config.nodeType,\r\n                        type:value.value?\"enable\":\"disable\"\r\n                    },\r\n                    success: (res) => {\r\n                        ajax({\r\n                            url:urls.enablestateUrl,\r\n                            data:requestParam,\r\n                            success:(result)=>{\r\n                                if (result.data.head) {\r\n                                    result.data.head[this.config.formId].rows.forEach(function(item, index, array){\r\n                                        //是否其中转换成开关\r\n                                        if (item.values['enablestate'].value === '2') {\r\n                                            item.values['enablestate'].value = true;\r\n                                        } else {\r\n                                            item.values['enablestate'].value = false;\r\n                                        }\r\n                                    });\r\n                                    this.props.form.setAllFormValue({ [this.config.formId]: result.data.head[this.config.formId] });\r\n                                    let project_code = result.data.head[this.config.formId].rows[0].values[pk_value].value;\r\n                                    this.setState({project_code});\r\n                                }\r\n                                if (result.data.body) {\r\n                                    this.props.cardTable.setTableData(this.config.tableId, result.data.body[this.config.tableId]);\r\n                                }\r\n                                this.toggleShow();\r\n                                toast({title:value.value?this.state.json['10140ADRB-000009']:this.state.json['10140ADRB-000010']});/* 国际化处理： 启用成功！,停用成功！*/\r\n                            }\r\n                        });\r\n                    },\r\n                    error:(res)=>{\r\n                        toast({content:res.message,color:\"warning\"});\r\n                        props.form.setFormItemsValue(this.config.formId, {'enablestate': {value: !value.value}});\r\n                    }\r\n                })\r\n\r\n                break;\r\n        }\r\n        this.state.isedit =!this.state.isedit;\r\n        this.setState(this.state)\r\n    }\r\n\r\n    //获取列表肩部信息\r\n    getTableHead = () => {\r\n        let {button} = this.props;\r\n        let { createButtonApp } = button;\r\n        let status = this.props.getUrlParam(\"status\");\r\n        return (\r\n            <div className=\"shoulder-definition-area\">\r\n                <div className=\"definition-icons\">\r\n                    {createButtonApp({\r\n                        area: 'table-header-button',\r\n                        buttonLimit: 5,\r\n                        onButtonClick: this.buttonClick.bind(this),\r\n                        popContainer: document.querySelector('.table-header-button')\r\n\r\n                    })}\r\n                    {this.props.cardTable.createBrowseIcons(this.config.tableId, {\r\n                        iconArr: ['close', 'open', 'max','setCol'],\r\n                        maxDestAreaId: 'nc-bill-card'\r\n                    })}\r\n                    {/* {createButton(\"deleteline\", {\r\n\t\t\t\t\t\tname: '删行',\r\n\t\t\t\t\t\tonButtonClick: buttonClick.bind(this)\r\n\t\t\t\t\t})} */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    //联系人模态框\r\n    createLinkmanForm = ()=>{\r\n        const{form} = this.props;\r\n        const{createForm} = form;\r\n        return (\r\n            <div>\r\n                <div className=\"nc-bill-form-area\">\r\n                    {createForm(linkman, {\r\n                        onAfterEvent: this.modalAfterEvent.bind(this)\r\n                    })}\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    modalAfterEvent=()=>{\r\n\r\n    }\r\n\r\n    linkadd=(props)=>{\r\n        props.form.setFormStatus(linkman,'edit');\r\n        props.modal.show('linkmanModal',{\r\n            userControl:true,\r\n            beSureBtnClick:()=>{\r\n                let flag = this.props.form.isCheckNow(linkman);\r\n                if(!flag)return\r\n                let lmdata = props.form.getAllFormValue(linkman);\r\n\r\n                ajax({\r\n                    url:urls.saveLinkman,\r\n                    data:{\r\n                        'pageid':this.config.pageCode,\r\n                        'gridModel':lmdata\r\n                    },\r\n                    success:(res)=>{\r\n                        let{success,data} =res;\r\n                        if(success){\r\n                            if(data){\r\n                                props.modal.close('linkmanModal')\r\n                                let len = props.cardTable.getNumberOfRows(tableId);\r\n                                //联系人新增成功，回显子表数据\r\n                                props.cardTable.addRow(tableId,len,{\r\n\r\n                                    'pk_linkman':{\r\n                                        value:data\r\n                                    },\r\n                                    'pk_linkman.name':lmdata.rows[0].values.name,\r\n                                    'pk_linkman.sex':lmdata.rows[0].values.sex,\r\n                                    'pk_linkman.vjob':lmdata.rows[0].values.vjob,\r\n                                    'pk_linkman.phone':lmdata.rows[0].values.phone,\r\n                                    'pk_linkman.cell':lmdata.rows[0].values.cell,\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n            },\r\n            cancelBtnClick:()=>{\r\n                props.form.EmptyAllFormValue(linkman);\r\n                props.modal.close('linkmanModal')\r\n                return;\r\n            },\r\n            closeModalEve:()=>{\r\n                props.form.EmptyAllFormValue(linkman);\r\n                props.modal.close('linkmanModal')\r\n                return;\r\n            },\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { cardTable, form, button, modal, cardPagination } = this.props;\r\n        const {createCardPagination} = cardPagination;\r\n        let { createForm } = form;\r\n        let { createCardTable } = cardTable;\r\n        let { createButtonApp } = button;\r\n        let { createModal } = modal;\r\n        return (\r\n            <div  className='nc-bill-card'>\r\n                <div className=\"nc-bill-top-area\">\r\n                    <NCAffix>\r\n                    <div className='nc-bill-header-area'>\r\n\r\n                        {this.state.stated === 'browse'&&\r\n                        <NCBackBtn className='title-search-detail'\r\n                                   onClick={ this.buttonClick.bind(this,this.props,'back') }></NCBackBtn>}\r\n                        <div className='header-title-search-area'>\r\n                            <h2 className='title-search-detail'>{this.state.json[this.config.title]}{this.state.stated=='browse'?`：${this.state.project_code!=null?this.state.project_code:''}`:''}</h2>\r\n                        </div>\r\n                        <div className=\"header-button-area\">\r\n                            {createButtonApp({\r\n                                area: 'card-header-button',\r\n                                buttonLimit: 3,\r\n                                onButtonClick: this.buttonClick.bind(this),\r\n                                popContainer: document.querySelector('.card-header-button')\r\n\r\n                            })}\r\n                        </div>\r\n                        <div className='header-cardPagination-area' style={{float:'right'}}>\r\n                            {createCardPagination({\r\n                                handlePageInfoChange: this.pageInfoClick.bind(this),\r\n                                dataSource: AddDatasource\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    </NCAffix>\r\n                    <div className=\"nc-bill-form-area\">\r\n                        {createForm(this.config.formId, {\r\n                            onAfterEvent: this.afterEvent.bind(this)\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"nc-bill-bottom-area\">\r\n                    <div className=\"nc-bill-table-area\">\r\n                        {createCardTable(this.config.tableId, {\r\n                            tableHead: this.getTableHead.bind(this),\r\n                            modelSave: this.modelSave.bind(this),\r\n                            tableModelConfirm: this.tableModelConfirm,\r\n                            showIndex:true,\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                {createModal('delete', {\r\n                    title: this.state.json['10140ADRB-000012'],/* 国际化处理： 注意*/\r\n                    content: this.state.json['10140ADRB-000013'],/* 国际化处理： 确认删除？*/\r\n                    beSureBtnClick: this.delConfirm.bind(this)\r\n                })}\r\n                {createModal('linkmanModal',{\r\n                    title:this.state.json['10140ADRB-000014'],/* 国际化处理： 联系人*/\r\n                    size:'lg',\r\n                    content:this.createLinkmanForm()\r\n\r\n                })}\r\n                {createModal('modal',{noFooter:false})}\r\n                <PrintOutput\r\n                    ref='printOutput'\r\n                    url= {urls['print']}\r\n                    data={{\r\n                        funcode:'10140ADRB',\r\n                        nodekey:'addresscard',     //模板节点标识\r\n                        oids: this.state.pks,    //或['1001A41000000000A9LR','1001A410000000009JDD']  单据pk  oids含有多个元素时为批量打印,\r\n                        outputType: \"output\"\r\n                    }}\r\n                    //callback={this.onSubmit}\r\n                >\r\n                </PrintOutput>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nCard = createPage({\r\n    //initTemplate: initTemplate.bind(this),\r\n})(Card);\r\nexport default Card\r\n//ReactDOM.render(<Card />, document.querySelector('#app'));\r\n"],"sourceRoot":""}