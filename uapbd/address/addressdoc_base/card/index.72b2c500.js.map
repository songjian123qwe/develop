{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://[name]/./src/uapbd/public/utils/BDCreateUIDom.js","webpack://[name]/./src/uapbd/address/addressdoc_base/card/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","props","pageCfg","arguments","length","undefined","langCfg","callback","count","result","hander","templateData","langData","inlt","console","log","newLangCfg","data","success","_ncLightappFront","toast","content","color","MultiInit","getMultiLang","createUIDom","_react","PrintOutput","high","NCAffix","base","NCBackBtn","getCacheById","cardCache","updateCache","addCache","getCurrentLastId","getNextId","deleteCacheById","tableId","linkman","pk_item","AddDatasource","urls","queryaddresscardUrl","SaveaddressUrl","updateaddressUrl","deladdressUrl","copyaddressUrl","saveLinkman","queryLinkman","queryDefaultDataUrl","enablestateUrl","print","cancel","validateUrl","Card","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","_initialiseProps","config","assign","title","formId","pageCode","appcode","oid","nodeType","primaryKey","state","project_code","bill_code","isedit","pks","stated","json","isPrecode","initTemplate","getUrlParam","pk","getdata","copydate","setDefaultValue","Component","formStatus","form","getFormStatus","onbeforeunload","id","_this2","EmptyAllFormValue","cardTable","setTableData","rows","setUrlParam","status","ajax","url","type","res","toggleShow","promptBox","beSureBtnClick","delConfirm","pushTo","saveClick","saveaddClick","code","getFormItemsValue","resetTableData","button","setButtonVisible","setDisabled","setFormItemsDisabled","enablestate","cancelBtnClick","closeBtnClick","linkadd","pintFunction","funcode","nodekey","outputType","pkid","push","setState","refs","printOutput","open","param","oids","_props","modal","createCardPagination","cardPagination","createForm","createCardTable","createButtonApp","createModal","_react2","default","createElement","className","onClick","buttonClick","area","buttonLimit","onButtonClick","popContainer","document","querySelector","style","float","handlePageInfoChange","pageInfoClick","dataSource","onAfterEvent","afterEvent","tableHead","getTableHead","modelSave","tableModelConfirm","showIndex","size","createLinkmanForm","noFooter","ref","_BDCreateUIDom2","pagecode","domainName","_this3","setButtons","template","meta","modifierMeta","setMeta","tableBtnAry","getStatus","items","map","item","attrcode","queryCondition","pk_org","pk_country","pk_father","label","visible","width","itemtype","render","text","record","index","btnArray","createOprationButton","tableButtonClick","tablemodalshow","show","userControl","isCheckNow","lmdata","getAllFormValue","pageid","gridModel","close","setValByKeyAndIndex","display","values","sex","vjob","phone","cell","closeModalEve","toggleRowView","delRowsByIndex","setFormStatus","addRow","pk_linkman","pk_linkman.name","pk_linkman.sex","pk_linkman.vjob","pk_linkman.phone","pk_linkman.cell","moudleid","setAllFormValue","_defineProperty","head","datas","forEach","array","body","error","flag","setCardPaginationVisible","pk_group","aflag","edit","delete","saveadd","setStatus","cardData","isenab","filterEmptyRows","setFormItemsValue","CardData","createMasterChildData","ts","nextId","closeModel","oldValue","province","city","region","requestParam","moduleid","message","createBrowseIcons","iconArr","maxDestAreaId","modalAfterEvent","len","getNumberOfRows","createPage"],"mappings":"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","file":"uapbd/address/addressdoc_base/card/index.72b2c500.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/address/addressdoc_base/card/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse\n\t\troot[\"uapbd/address/addressdoc_base/card/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 160);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","//   pagecode:props.config.pageCode?props.config.pageCode:pagecode\r\n//  getMultiLang({moduleId: \"10140ADRB\",domainName: 'uapbd',callback})\r\n\r\n\r\nimport { toast} from 'nc-lightapp-front';\r\nexport default function(props){\r\n     return ( pageCfg = {} , langCfg = {}, callback ) => {\r\n\r\n         var count = 0;\r\n         var result = {};\r\n\r\n         var hander = () => {\r\n             if(count == 2){\r\n                 callback && callback(result.templateData || {} , result.langData || {},result.inlt||{});\r\n             }\r\n         }\r\n         if(langCfg.callback){\r\n             console.log('咱们自己createUIDom会同时获取多语和单据模板,并通过一个回调函数返回, langCfg中的回调函数将被忽略');\r\n         }\r\n\r\n         var newLangCfg = { ...langCfg, callback: (data, success,inlt) => {\r\n                    count = count + 1;\r\n                 if(!success){\r\n                     toast({content:'load muti lang error',color:'warning'});\r\n                 }\r\n                 result.langData = data || {};\r\n                 result.inlt = inlt || {};\r\n                 hander();\r\n         }};\r\n         props.MultiInit.getMultiLang(newLangCfg);\r\n\r\n         props.createUIDom(pageCfg, (data) => {\r\n             count = count + 1;\r\n             result.templateData = data || {};\r\n             hander();\r\n         });\r\n    };\r\n};","//主子表卡片\r\nimport React, { Component } from 'react';\r\nconst { PrintOutput } = high;\r\nimport { createPage, ajax, base, toast,print,high,cardCache,promptBox,getMultiLang } from 'nc-lightapp-front';\r\nimport createUIDom from \"../../../public/utils/BDCreateUIDom\";\r\nconst { NCAffix,NCBackBtn } = base;\r\nlet { getCacheById, updateCache ,addCache,getCurrentLastId ,getNextId, deleteCacheById } = cardCache;\r\n\r\n\r\nconst formId = 'head';\r\nconst tableId = 'linkmanvos';\r\nconst pageId = '10140ADRB_card';\r\nconst appcode = '10140ADRB';//注册按钮的id\r\nconst pk_value = \"code\";\r\nconst linkman='10140LM';\r\nconst pk_item = 'pk_addressdoc';\r\nconst AddDatasource = 'uapbd.address.addressdoc_grp.dataSource';\r\nlet urls={\r\n    queryaddresscardUrl:\"/nccloud/uapbd/address/queryaddresscard.do\",\r\n    SaveaddressUrl:\"/nccloud/uapbd/address/saveaddress.do\",\r\n    updateaddressUrl:\"/nccloud/uapbd/address/updateaddress.do\",\r\n    deladdressUrl:\"/nccloud/uapbd/address/deladdress.do\",\r\n    copyaddressUrl:\"/nccloud/uapbd/address/copyAddressCard.do\",\r\n    saveLinkman:\"/nccloud/uapbd/address/saveLinkman.do\",\r\n    queryLinkman:\"/nccloud/uapbd/address/queryLinkman.do\",\r\n    queryDefaultDataUrl:\"/nccloud/uapbd/address/queryDefaultData.do\",\r\n    enablestateUrl:\"/nccloud/uapbd/address/enableAddressDocInfo.do\",\r\n    print:\"/nccloud/uapbd/address/printAddressDocInfo.do\",\r\n    cancel:\"/nccloud/uapbd/address/cancelAddressDoc.do\",\r\n    validateUrl:\"/nccloud/uapbd/address/validateAddressDoc.do\",\r\n};\r\n\r\nclass Card extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.config =Object.assign({\r\n            title:'10140ADRB-000000',/* 国际化处理： 地点-全局*/\r\n            tableId:\"linkmanvos\",\r\n            formId : 'head',\r\n            linkman:'10140LM',\r\n            pageCode:\"10140ADRB_card\",\r\n            appcode:'10140ADRB',\r\n            oid:'1004Z01000000000YWY3',\r\n            nodeType:'GLOBE_NODE',\r\n            primaryKey:'pk_addressdoc',\r\n            urls:urls\r\n        },props.config);\r\n        this.state = {\r\n            project_code:null,\r\n            bill_code : '',\r\n            isedit:true,\r\n            pks:[],\r\n            stated:'browse',\r\n            json:{},\r\n            isPrecode:true,\r\n        };\r\n        this.initTemplate(this.props,()=>{\r\n            let status = this.props.getUrlParam('status');\r\n            if(status != \"add\"){\r\n                let\tpk = this.props.getUrlParam('id');\r\n                if(pk && pk != 'undefined'){\r\n                    this.getdata(pk);\r\n                }\r\n            }\r\n            else{\r\n                let\tpk = this.props.getUrlParam('id');\r\n                if(pk && pk != 'undefined'){\r\n                    this.copydate(pk);\r\n                }else{\r\n                    this.setDefaultValue();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    initTemplate = (props,callback) => {\r\n        createUIDom(props)(\r\n            {\r\n                pagecode: props.config.pageCode?props.config.pageCode:pageId,//页面id\r\n            },\r\n            {\r\n                moduleId: \"10140ADRB\",domainName: 'uapbd'\r\n            },\r\n            (data,langData)=>{\r\n                if(langData){\r\n                    this.state.json = langData\r\n                }\r\n                if(data){\r\n                    if(data.button){\r\n                        let button = data.button;\r\n                        props.button.setButtons(button);\r\n                    }\r\n                    if(data.template){\r\n                        let meta = data.template;\r\n                        this.modifierMeta(props, meta)\r\n                        props.meta.setMeta(meta);\r\n                    }\r\n                    callback && callback();\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    tableBtnAry =(props)=>{\r\n        return props.cardTable.getStatus(tableId)==='browse'?[]:['insertline','delline','editline'];;\r\n    }\r\n\r\n    modifierMeta = (props, meta) => {\r\n        let status = props.getUrlParam('status');\r\n        meta[formId].status = status;\r\n        meta[tableId].status = status;\r\n        meta[formId].items.map((item)=>{\r\n            if(item.attrcode == 'pk_areacl'){\r\n                item.queryCondition=()=>{\r\n                   if(this.config.nodeType =='GLOBE_NODE'){\r\n                   return {pk_org:'GLOBLE00000000000000'}\r\n                   }\r\n                }\r\n            }\r\n            if(item.attrcode == 'province'){\r\n\r\n                item['disabled']=true;\r\n                item.queryCondition=()=>{\r\n                    let country = props.form.getFormItemsValue(formId,'country').value;\r\n                    return {pk_country:country,pk_father:'~'}\r\n                }\r\n            }\r\n            if(item.attrcode == 'city'){\r\n                item['disabled']=true;\r\n                item.queryCondition=()=>{\r\n                    let province = props.form.getFormItemsValue(formId,'province').value\r\n                    return {pk_father:province}\r\n                }\r\n            }\r\n            if(item.attrcode == 'region'){\r\n                item['disabled']=true;\r\n                item.queryCondition=()=>{\r\n                    let city = props.form.getFormItemsValue(formId,'city').value\r\n                    return {pk_father:city}\r\n                }\r\n            }\r\n        })\r\n        meta[tableId].items.push({\r\n            attrcode: 'opr',\r\n            label: this.state.json['10140ADRB-000001'],/* 国际化处理： 操作*/\r\n            visible: true,\r\n            className:'table-opr',\r\n            width:200,\r\n            itemtype: 'customer',\r\n            //fixed:'right',\r\n            render:(text, record, index) => {\r\n                let btnArray = this.tableBtnAry(props);\r\n\r\n                return props.button.createOprationButton(\r\n                    btnArray,\r\n                    {\r\n                        area: \"table-opr-button\",\r\n                        buttonLimit: 3,\r\n                        onButtonClick: (props, id) => this.tableButtonClick(props, id, text, record, index)\r\n                    }\r\n                )\r\n            }\r\n        });\r\n\r\n        return meta;\r\n    }\r\n\r\n    tablemodalshow = (props,index) => {\r\n        props.modal.show('linkmanModal',{\r\n            userControl:true,\r\n            beSureBtnClick:()=>{\r\n                let flag = this.props.form.isCheckNow(linkman);\r\n                if(!flag)return\r\n                let lmdata = props.form.getAllFormValue(linkman);\r\n\r\n                ajax({\r\n                    url:urls.saveLinkman,\r\n                    data:{\r\n                        'pageid':props.config.pageCode,\r\n                        'gridModel':lmdata\r\n                    },\r\n                    success:(res)=>{\r\n                        let{success,data} =res;\r\n                        if(success){\r\n                            props.modal.close('linkmanModal')\r\n                            if(data){\r\n                                //联系人新增成功，回显子表数据\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman',{value:data,display:data});\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.name',lmdata.rows[0].values.name);\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.sex',lmdata.rows[0].values.sex);\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.vjob',lmdata.rows[0].values.vjob);\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.phone',lmdata.rows[0].values.phone);\r\n                                props.cardTable.setValByKeyAndIndex(tableId,index,'pk_linkman.cell',lmdata.rows[0].values.cell);// props.cardTable.setValByKeyAndRowId(tableId,index,{\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n            },\r\n            cancelBtnClick:()=>{\r\n                props.form.EmptyAllFormValue(linkman);\r\n                props.modal.close('linkmanModal')\r\n                return;\r\n            },\r\n            closeModalEve:()=>{\r\n                props.form.EmptyAllFormValue(linkman);\r\n                props.modal.close('linkmanModal')\r\n                return;\r\n            },\r\n        })\r\n    }\r\n\r\n    tableButtonClick = (props, id, text, record, index) => {\r\n\r\n        switch(id){\r\n            case 'spread':\r\n                props.cardTable.toggleRowView(tableId, record);\r\n                break;\r\n            case \"delline\"://删除行\r\n                props.cardTable.delRowsByIndex(tableId, index);\r\n                break;\r\n            case \"insertline\"://更多\r\n                props.form.setFormStatus(linkman,'edit');\r\n                props.modal.show('linkmanModal',{\r\n                    userControl:true,\r\n                    beSureBtnClick:()=>{\r\n                        let flag = this.props.form.isCheckNow(linkman);\r\n                        if(!flag)return\r\n                        let lmdata = props.form.getAllFormValue(linkman);\r\n\r\n                        ajax({\r\n                            url:urls.saveLinkman,\r\n                            data:{\r\n                                'pageid':this.config.pageCode,\r\n                                'gridModel':lmdata\r\n                            },\r\n                            success:(res)=>{\r\n                                let{success,data} =res;\r\n                                if(success){\r\n                                    if(data){\r\n                                        //联系人新增成功，回显子表数据\r\n                                        props.modal.close('linkmanModal')\r\n                                        props.cardTable.addRow(tableId,index+1,{\r\n\r\n                                            'pk_linkman':{\r\n                                                value:data\r\n                                            },\r\n                                            'pk_linkman.name':lmdata.rows[0].values.name,\r\n                                            'pk_linkman.sex':lmdata.rows[0].values.sex,\r\n                                            'pk_linkman.vjob':lmdata.rows[0].values.vjob,\r\n                                            'pk_linkman.phone':lmdata.rows[0].values.phone,\r\n                                            'pk_linkman.cell':lmdata.rows[0].values.cell,\r\n                                        });\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                    },\r\n                    cancelBtnClick:()=>{\r\n                        props.form.EmptyAllFormValue(linkman);\r\n                        props.modal.close('linkmanModal')\r\n                        return;\r\n                    },\r\n                    closeModalEve:()=>{\r\n                        props.form.EmptyAllFormValue(linkman);\r\n                        props.modal.close('linkmanModal')\r\n                        return;\r\n                    },\r\n                })\r\n\r\n                break;\r\n            case \"editline\"://展开\r\n                ajax({\r\n                    url:urls.queryLinkman,\r\n                    data:{\r\n                        pageid:props.config.pageCode,\r\n                        moudleid:linkman,\r\n                        pk:record.values[\"pk_linkman\"].value\r\n                    },\r\n                    success:(res)=>{\r\n                        let{success,data} =res;\r\n                        if(success){\r\n                            if(data){\r\n                                props.form.setFormStatus(linkman,'edit');\r\n                                props.form.setAllFormValue({[linkman]:res.data[linkman]})\r\n                                this.tablemodalshow(props,index);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    componentWillMount() {}\r\n\r\n    componentDidMount() {}\r\n\r\n    componentDidUpdate(){\r\n        let formStatus = this.props.form.getFormStatus(this.config.formId);\r\n        if(formStatus === 'browse'){\r\n            window.onbeforeunload = null;\r\n        }else{\r\n            window.onbeforeunload = () => {//编辑态关闭页签或浏览器的提示\r\n                return '';\r\n            };\r\n        }\r\n    }\r\n\r\n    setDefaultValue = () =>{\r\n        ajax({\r\n            url: urls.queryDefaultDataUrl,\r\n            data:{nodeType:this.config.nodeType},\r\n            success: (res) => {\r\n                if (res.data['carddate'].head) {\r\n                    let datas = res.data['carddate'].head[this.config.formId]\r\n                    let project_code = datas.rows[0].values[pk_value].value;\r\n                    datas.rows.forEach(function(item, index, array){\r\n                        //是否其中转换成开关\r\n                        if (item.values['enablestate'].value === '2') {\r\n                            item.values['enablestate'].value = true;\r\n                        } else {\r\n                            item.values['enablestate'].value = false;\r\n                        }\r\n                    });\r\n                    this.props.form.setAllFormValue({ [this.config.formId]: datas});\r\n                    console.log(this.config.formId,{'code':true})\r\n                    this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']});\r\n                    this.state.isPrecode = res.data['isPrecode'];\r\n                    this.setState({project_code:project_code});\r\n                }\r\n                if (res.data['carddate'].body) {\r\n                    this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                }\r\n                if(res.data['message']){\r\n                    toast({content:res.data['message'],color:'warning'});\r\n                }\r\n                    this.toggleShow();\r\n            },\r\n            error:(res)=>{\r\n\r\n        }\r\n        });\r\n    }\r\n\r\n    //切换页面状态\r\n    toggleShow = () => {\r\n        let status = this.props.getUrlParam('status');\r\n        let flag = status === 'browse' ? false : true;\r\n        //按钮的显示状态\r\n        this.props.button.setButtonVisible(['add','edit','delete','copy','refresh','back','print'],!flag);\r\n        this.props.button.setButtonVisible(['save','saveadd','cancel','addline'],flag);\r\n        this.props.cardPagination.setCardPaginationVisible('cardPaginationBtn', !flag);\r\n        let pk_group = this.props.form.getFormItemsValue(this.config.formId, 'pk_group').value;\r\n        let pk_org = this.props.form.getFormItemsValue(this.config.formId, 'pk_org').value;\r\n        let aflag = this.config.nodeType==='GROPE_NODE'&&(pk_group!=pk_org)\r\n        this.props.button.setDisabled({\r\n            edit:aflag,\r\n            delete:aflag,\r\n            saveadd:status == 'edit'?true:false,\r\n        });\r\n        this.props.form.setFormStatus(this.config.formId, status);\r\n        this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':flag})\r\n        this.props.cardTable.setStatus(this.config.tableId, status==='browse'?\"browse\" :\"edit\");\r\n        this.setState({\r\n            stated:status\r\n        })\r\n    };\r\n\r\n    //按钮点击事件\r\n    buttonClick(props, id) {\r\n        switch (id) {\r\n            case 'add':\r\n                props.form.EmptyAllFormValue(this.config.formId)\r\n                props.cardTable.setTableData(this.config.tableId, { rows: [] })\r\n                props.setUrlParam({status:'add'})\r\n                this.setDefaultValue();\r\n                break\r\n            case 'edit':\r\n                ajax({\r\n                    url: urls.validateUrl,\r\n                    data: {\r\n                        pk: props.getUrlParam('id'),\r\n                        nodeType: props.config.nodeType,\r\n                        type:id\r\n                    },\r\n                    success: (res) => {\r\n                        props.setUrlParam({status:'edit',id: props.getUrlParam('id')});\r\n                        this.toggleShow();\r\n                    }\r\n                })\r\n                break;\r\n            case 'delete':\r\n                ajax({\r\n                    url: urls.validateUrl,\r\n                    data: {\r\n                        pk: props.getUrlParam('id'),\r\n                        nodeType: props.config.nodeType,\r\n                        type:id\r\n                    },\r\n                    success: (res) => {\r\n                        promptBox({\r\n                            color:\"info\",\r\n                            title: this.state.json['10140ADRB-000002'],/* 国际化处理： 确定删除*/\r\n                            content: this.state.json['10140ADRB-000003'],/* 国际化处理： 您确定要删除所选数据吗?*/\r\n                            beSureBtnClick: this.delConfirm.bind(this)\r\n                        });\r\n                    }\r\n                })\r\n                break\r\n            case 'back':\r\n                props.pushTo(\"list\")\r\n                break;\r\n            case 'save':\r\n                this.saveClick();\r\n                break;\r\n            case 'saveadd':\r\n                this.saveaddClick();\r\n                break;\r\n            case 'copy':\r\n                props.setUrlParam({status:'add',id: props.getUrlParam('id')});\r\n                this.copydate(props.getUrlParam('id'));\r\n                break\r\n            case 'cancel':\r\n                promptBox({\r\n                    color:\"info\",\r\n                    title:this.state.json['10140ADRB-000004'],/* 国际化处理： 确认取消*/\r\n                    content:this.state.json['10140ADRB-000005'],/* 国际化处理： 是否确认要取消?*/\r\n                    beSureBtnClick:()=>{\r\n                        if (props.getUrlParam('status') === 'add') {\r\n                            if(props.getUrlParam('id')){\r\n                                props.setUrlParam({status:'browse',id:props.getUrlParam('id')});\r\n                                this.getdata(props.getUrlParam('id'));\r\n                            }else{\r\n                                let code = this.props.form.getFormItemsValue(this.config.formId,'code')\r\n                                ajax({\r\n                                    url: urls.cancel,\r\n                                    data:{code:code.value},\r\n                                    success: (res) => {\r\n                                        props.form.cancel(this.config.formId);\r\n                                        props.cardTable.resetTableData(this.config.tableId);\r\n                                        let id = getCurrentLastId(AddDatasource);\r\n                                        props.setUrlParam({status:'browse',id: id});\r\n                                        if(id==null){\r\n                                            this.props.button.setButtonVisible(['add','edit','delete','copy','refresh','back','print'],true);\r\n                                            this.props.button.setButtonVisible(['save','saveadd','cancel','addline'],false);\r\n                                            this.props.button.setDisabled(['edit','delete','copy','refresh','back','print'],true);\r\n                                            this.props.form.cancel(this.config.formId);\r\n                                            this.props.cardTable.resetTableData(this.config.tableId);\r\n                                            this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':true})\r\n                                            return;\r\n                                        }\r\n                                        let\tpk = this.props.getUrlParam('id');\r\n                                        if(pk && pk != 'undefined'){\r\n                                            this.getdata(pk);\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                        }\r\n                        if ((props.getUrlParam('status') === 'edit')) {\r\n                            props.form.cancel(this.config.formId);\r\n                            props.cardTable.resetTableData(this.config.tableId);\r\n                            props.setUrlParam({status:'browse',id:props.getUrlParam('id')});\r\n                        }\r\n                        this.toggleShow();\r\n                    },\r\n                    cancelBtnClick:()=>{\r\n                        return;\r\n                    },\r\n                    closeBtnClick:()=>{\r\n                        return;\r\n                    }\r\n                })\r\n                break\r\n            case 'addline':\r\n                this.linkadd(props);\r\n                break\r\n            case 'refresh':\r\n                let\tpk = this.props.getUrlParam('id');\r\n                if(pk && pk != 'undefined'){\r\n                    this.getdata(pk,true,()=>{toast({title:this.state.json['10140ADRB-000006'],color:'success'});});/* 国际化处理： 刷新成功！*/\r\n                }\r\n                break;\r\n            case \"print\":\r\n                let printParam={\r\n                    funcode: \"10140ADRB\",\r\n                    nodekey: 'addresscard',\r\n                    outputType:'print'\r\n                };\r\n                this.pintFunction(printParam);\r\n                break;\r\n            case 'output':\r\n                let pkid = this.props.getUrlParam('id');\r\n                if(pkid==null){\r\n                    return\r\n                }\r\n                let pks = [];\r\n                pks.push(pkid);\r\n                this.setState({\r\n                    pks:pks\r\n                },this.refs.printOutput.open())\r\n                break;\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    //打印功能函数\r\n    pintFunction(param){\r\n        let pk = this.props.getUrlParam('id');\r\n        if(pk==null){\r\n            return\r\n        }\r\n        let pks = [];\r\n        pks.push(pk);\r\n        param.oids = pks;\r\n        print(\r\n            'pdf',\r\n            urls['print'],\r\n            param\r\n        );\r\n    }\r\n\r\n    //通过单据id查询单据信息\r\n    getdata = (pk,flag,callback) =>{\r\n        let cardData = getCacheById(pk, AddDatasource);\r\n        if(cardData&&!flag){\r\n            if (cardData['carddate'].head) {\r\n                cardData['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                    //是否其中转换成开关\r\n                    if (item.values['enablestate'].value === '2') {\r\n                        item.values['enablestate'].value = true;\r\n                    } else {\r\n                        item.values['enablestate'].value = false;\r\n                    }\r\n                });\r\n                this.props.form.setAllFormValue({ [this.config.formId]: cardData['carddate'].head[this.config.formId] });\r\n                let values = cardData['carddate'].head[this.config.formId].rows[0].values;\r\n                let project_code = values[pk_value].value;\r\n                this.setState({project_code});\r\n                this.props.form.setFormItemsDisabled(this.config.formId,{'code':!cardData['isCodeEdit']})\r\n                this.state.isPrecode = cardData['isPrecode'];\r\n                let isenab = this.config.nodeType===\"GROPE_NODE\"&&(values['pk_group'].value!=values['pk_org'].value)\r\n                this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':isenab})\r\n            }\r\n            if (cardData['carddate'].body) {\r\n                this.props.cardTable.setTableData(this.config.tableId, cardData['carddate'].body[this.config.tableId]);\r\n            }\r\n            this.toggleShow();\r\n        }else{\r\n            let data = {pk:pk,pagecode:this.config.pageCode};\r\n            ajax({\r\n                url: urls.queryaddresscardUrl,\r\n                data,\r\n                success: (res) => {\r\n                    if (res.data['carddate'].head) {\r\n                        res.data['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                            //是否其中转换成开关\r\n                            if (item.values['enablestate'].value === '2') {\r\n                                item.values['enablestate'].value = true;\r\n                            } else {\r\n                                item.values['enablestate'].value = false;\r\n                            }\r\n                        });\r\n                        this.props.form.setAllFormValue({ [this.config.formId]: res.data['carddate'].head[this.config.formId] });\r\n                        let values = res.data['carddate'].head[this.config.formId].rows[0].values;\r\n                        let project_code = values[pk_value].value;\r\n                        this.setState({project_code});\r\n                        this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']})\r\n                        this.state.isPrecode = res.data['isPrecode'];\r\n                        let isenab = this.config.nodeType===\"GROPE_NODE\"&&(values['pk_group'].value!=values['pk_org'].value)\r\n                        this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':isenab})\r\n                    }\r\n                    if (res.data['carddate'].body) {\r\n                        this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                    }\r\n                    res.data['head']=res.data['carddate'].head;\r\n                    updateCache(pk_item,pk,res.data,this.config.formId,AddDatasource);\r\n                    callback&&callback();\r\n                    this.toggleShow();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    //复制数据\r\n    copydate = (pk)=>{\r\n        let data = {pk:pk,pagecode:this.config.pageCode};\r\n        ajax({\r\n            url: urls.copyaddressUrl,\r\n            data,\r\n            success: (res) => {\r\n                if (res.data['carddate'].head) {\r\n                    res.data['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                        //是否其中转换成开关\r\n                        if (item.values['enablestate'].value === '2') {\r\n                            item.values['enablestate'].value = true;\r\n                        } else {\r\n                            item.values['enablestate'].value = false;\r\n                        }\r\n                    });\r\n                    this.props.form.setAllFormValue({ [this.config.formId]: res.data['carddate'].head[this.config.formId] });\r\n                    let project_code = res.data['carddate'].head[this.config.formId].rows[0].values[pk_value].value;\r\n                    this.setState({project_code});\r\n                    this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']})\r\n                    this.state.isPrecode = res.data['isPrecode'];\r\n                }\r\n                if (res.data['carddate'].body) {\r\n                    this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                }\r\n                this.toggleShow();\r\n            }\r\n        });\r\n    }\r\n\r\n    pageInfoClick=(props, pk)=>{\r\n        console.log(pk)\r\n        if(pk&&pk!=null) {\r\n            props.setUrlParam({id: pk});\r\n            this.getdata(pk);\r\n        }\r\n    }\r\n\r\n    //保存单据\r\n    saveClick = () =>{\r\n        this.props.cardTable.filterEmptyRows(tableId);\r\n        if(this.state.isPrecode ==false &&this.props.form.getFormItemsValue(this.config.formId,'code').value == null){\r\n            this.props.form.setFormItemsValue(this.config.formId,{'code':{value:'.',display:null}});\r\n        }\r\n        let flag = this.props.form.isCheckNow(this.config.formId);\r\n        if(!flag)return\r\n        let CardData = this.props.createMasterChildData(this.config.pageCode, this.config.formId, this.config.tableId);\r\n        CardData.head[this.config.formId].rows[0].values.enablestate.value=CardData.head[this.config.formId].rows[0].values.enablestate.value==true?2:3;\r\n        // CardData.head.head.rows[0].values.bill_code = _this.state.bill_code;\r\n        let url = urls.SaveaddressUrl//新增保存\r\n        if (this.props.getUrlParam('status') === 'edit') {\r\n            url = urls.updateaddressUrl//修改保存\r\n        }\r\n        ajax({\r\n            url: url,\r\n            data: CardData,\r\n            success: (res) => {\r\n                let pk_project = null\r\n                if (res.success) {\r\n                    let pk =null;\r\n                    if (res.data) {\r\n                        if (res.data['carddate'].head) {\r\n                            res.data['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                                //是否其中转换成开关\r\n                                if (item.values['enablestate'].value === '2') {\r\n                                    item.values['enablestate'].value = true;\r\n                                } else {\r\n                                    item.values['enablestate'].value = false;\r\n                                }\r\n                            });\r\n                            this.props.form.setAllFormValue({ [this.config.formId]: res.data['carddate'].head[this.config.formId] });\r\n                            let values = res.data['carddate'].head[this.config.formId].rows[0].values;\r\n                            let project_code = values[pk_value].value;\r\n                            pk = values[pk_item].value;\r\n                            this.setState({project_code});\r\n                            this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']})\r\n                            let isenab = this.config.nodeType===\"GROPE_NODE\"&&(values['pk_group'].value!=values['pk_org'].value)\r\n                            this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':isenab})\r\n                        }\r\n                        if (res.data['carddate'].body) {\r\n                            this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                        }\r\n                        res.data['head']=res.data['carddate'].head;\r\n                        if (this.props.getUrlParam('status') === 'add'){\r\n                            addCache(pk,res.data,this.config.formId,AddDatasource);\r\n                        }{\r\n                            updateCache(pk_item,pk,res.data,this.config.formId,AddDatasource);\r\n                        }\r\n                        this.props.setUrlParam({status:'browse',id: pk});\r\n                        toast({title : this.state.json['10140ADRB-000007'],color : 'success'});/* 国际化处理： 保存成功！*/\r\n                        this.toggleShow();\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    //保存新增单据\r\n    saveaddClick = () =>{\r\n        this.props.cardTable.filterEmptyRows(tableId);\r\n        if(this.state.isPrecode ==false&&this.props.form.getFormItemsValue(this.config.formId,'code').value == null){\r\n            this.props.form.setFormItemsValue(this.config.formId,{'code':{value:'.',display:null}});\r\n        }\r\n        let flag = this.props.form.isCheckNow(this.config.formId);\r\n        if(!flag)return\r\n        let CardData = this.props.createMasterChildData(this.config.pageCode, this.config.formId, this.config.tableId);\r\n        CardData.head[this.config.formId].rows[0].values.enablestate.value=CardData.head[this.config.formId].rows[0].values.enablestate.value==true?2:3;\r\n        // CardData.head.head.rows[0].values.bill_code = _this.state.bill_code;\r\n        let url = urls.SaveaddressUrl//新增保存\r\n        if (this.props.getUrlParam('status') === 'edit') {\r\n            url = urls.updateaddressUrl//修改保存\r\n        }\r\n        ajax({\r\n            url: url,\r\n            data: CardData,\r\n            success: (res) => {\r\n                let pk_project = null\r\n                if (res.success) {\r\n                    let pk =null;\r\n                    if (res.data) {\r\n                        if (res.data['carddate'].head) {\r\n                            res.data['carddate'].head[this.config.formId].rows.forEach(function(item, index, array){\r\n                                //是否其中转换成开关\r\n                                if (item.values['enablestate'].value === '2') {\r\n                                    item.values['enablestate'].value = true;\r\n                                } else {\r\n                                    item.values['enablestate'].value = false;\r\n                                }\r\n                            });\r\n                            this.props.form.setAllFormValue({ [this.config.formId]: res.data['carddate'].head[this.config.formId] });\r\n                            let values = res.data['carddate'].head[this.config.formId].rows[0].values;\r\n                            let project_code = values[pk_value].value;\r\n                            pk = values[pk_item].value;\r\n                            this.setState({project_code});\r\n                            this.props.form.setFormItemsDisabled(this.config.formId,{'code':!res.data['isCodeEdit']})\r\n                            let isenab = this.config.nodeType===\"GROPE_NODE\"&&(values['pk_group'].value!=values['pk_org'].value)\r\n                            this.props.form.setFormItemsDisabled(this.config.formId,{'enablestate':isenab})\r\n                        }\r\n                        if (res.data['carddate'].body) {\r\n                            this.props.cardTable.setTableData(this.config.tableId, res.data['carddate'].body[this.config.tableId]);\r\n                        }\r\n                        res.data['head']=res.data['carddate'].head;\r\n                        if (this.props.getUrlParam('status') === 'add'){\r\n                            addCache(pk,res.data,this.config.formId,AddDatasource);\r\n                        }{\r\n                            updateCache(pk_item,pk,res.data,this.config.formId,AddDatasource);\r\n                        }\r\n                        this.props.setUrlParam({status:'add',id:null});\r\n                        toast({title : this.state.json['10140ADRB-000007'],color : 'success'});/* 国际化处理： 保存成功！*/\r\n                        this.props.form.EmptyAllFormValue(this.config.formId)\r\n                        this.props.cardTable.setTableData(this.config.tableId, { rows: [] })\r\n                        this.setDefaultValue();\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    //删除单据\r\n    delConfirm = () => {\r\n        ajax({\r\n            url: urls.deladdressUrl,\r\n            data: {\r\n                id: this.props.getUrlParam('id'),\r\n                ts: this.props.form.getFormItemsValue(this.config.formId, 'ts').value\r\n            },\r\n            success: (res) => {\r\n                if (res) {\r\n                    let id =this.props.getUrlParam('id');\r\n                    let nextId = getNextId(id, AddDatasource);\r\n                    deleteCacheById(pk_item,id,AddDatasource);\r\n                    toast({ color: 'success', title: this.state.json['10140ADRB-000008'] });/* 国际化处理： 删除成功！*/\r\n                    if(nextId){\r\n                        this.props.setUrlParam({status:'browse',id: nextId});\r\n                        this.getdata(nextId);\r\n                    }else{\r\n                        this.props.pushTo(\"/list\",{});\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    modelSave = (props)=>{\r\n        props.cardTable.closeModel(this.config.tableId);\r\n        this.saveClick();\r\n    }\r\n\r\n    afterEvent=(props, moduleId , key,  value, oldValue, data)=>{\r\n        switch(key){\r\n            case 'country':\r\n                props.form.setFormItemsDisabled(moduleId,{'province':value.value==null?true:false})\r\n                if(value.value==null){\r\n                    props.form.setFormItemsDisabled(moduleId,{'city':true,'region':true})\r\n                }\r\n                props.form.setFormItemsValue(this.config.formId,{'province':{value:null,display:null},'city':{display:null,value:null},'region':{display:null,value:null}});\r\n                break;\r\n            case 'province':\r\n                props.form.setFormItemsDisabled(moduleId,{'city':value.value==null?true:false})\r\n                if(value.value==null){\r\n                    props.form.setFormItemsDisabled(moduleId,{'region':true})\r\n                }\r\n                props.form.setFormItemsValue(this.config.formId,{'city':{display:null,value:null},'region':{display:null,value:null}});\r\n                break;\r\n            case 'city':\r\n                props.form.setFormItemsDisabled(moduleId,{'region':value.value==null?true:false})\r\n                props.form.setFormItemsValue(this.config.formId,{'region':{display:null,value:null}});\r\n                break;\r\n            case 'enablestate':\r\n                let requestParam = {\r\n                    pk:props.form.getAllFormValue(moduleId).rows[0].values['pk_addressdoc'].value,\r\n                    enablestate:value.value?'2':'3',\r\n                    ts:props.form.getAllFormValue(moduleId).rows[0].values['ts'].value,\r\n                    nodeType:this.config.nodeType,\r\n                    moduleid:this.config.formId,\r\n                    pagecode:this.config.pageCode\r\n                };\r\n                ajax({\r\n                    url: urls.validateUrl,\r\n                    data: {\r\n                        pk: props.getUrlParam('id'),\r\n                        nodeType: props.config.nodeType,\r\n                        type:value.value?\"enable\":\"disable\"\r\n                    },\r\n                    success: (res) => {\r\n                        ajax({\r\n                            url:urls.enablestateUrl,\r\n                            data:requestParam,\r\n                            success:(result)=>{\r\n                                if (result.data.head) {\r\n                                    result.data.head[this.config.formId].rows.forEach(function(item, index, array){\r\n                                        //是否其中转换成开关\r\n                                        if (item.values['enablestate'].value === '2') {\r\n                                            item.values['enablestate'].value = true;\r\n                                        } else {\r\n                                            item.values['enablestate'].value = false;\r\n                                        }\r\n                                    });\r\n                                    this.props.form.setAllFormValue({ [this.config.formId]: result.data.head[this.config.formId] });\r\n                                    let project_code = result.data.head[this.config.formId].rows[0].values[pk_value].value;\r\n                                    this.setState({project_code});\r\n                                }\r\n                                if (result.data.body) {\r\n                                    this.props.cardTable.setTableData(this.config.tableId, result.data.body[this.config.tableId]);\r\n                                }\r\n                                this.toggleShow();\r\n                                toast({title:value.value?this.state.json['10140ADRB-000009']:this.state.json['10140ADRB-000010']});/* 国际化处理： 启用成功！,停用成功！*/\r\n                            }\r\n                        });\r\n                    },\r\n                    error:(res)=>{\r\n                        toast({content:res.message,color:\"warning\"});\r\n                        props.form.setFormItemsValue(this.config.formId, {'enablestate': {value: !value.value}});\r\n                    }\r\n                })\r\n\r\n                break;\r\n        }\r\n        this.state.isedit =!this.state.isedit;\r\n        this.setState(this.state)\r\n    }\r\n\r\n    //获取列表肩部信息\r\n    getTableHead = () => {\r\n        let {button} = this.props;\r\n        let { createButtonApp } = button;\r\n        let status = this.props.getUrlParam(\"status\");\r\n        return (\r\n            <div className=\"shoulder-definition-area\">\r\n                <div className=\"definition-icons\">\r\n                    {createButtonApp({\r\n                        area: 'table-header-button',\r\n                        buttonLimit: 5,\r\n                        onButtonClick: this.buttonClick.bind(this),\r\n                        popContainer: document.querySelector('.table-header-button')\r\n\r\n                    })}\r\n                    {this.props.cardTable.createBrowseIcons(this.config.tableId, {\r\n                        iconArr: ['close', 'open', 'max','setCol'],\r\n                        maxDestAreaId: 'nc-bill-card'\r\n                    })}\r\n                    {/* {createButton(\"deleteline\", {\r\n\t\t\t\t\t\tname: '删行',\r\n\t\t\t\t\t\tonButtonClick: buttonClick.bind(this)\r\n\t\t\t\t\t})} */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    //联系人模态框\r\n    createLinkmanForm = ()=>{\r\n        const{form} = this.props;\r\n        const{createForm} = form;\r\n        return (\r\n            <div>\r\n                <div className=\"nc-bill-form-area\">\r\n                    {createForm(linkman, {\r\n                        onAfterEvent: this.modalAfterEvent.bind(this)\r\n                    })}\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    modalAfterEvent=()=>{\r\n\r\n    }\r\n\r\n    linkadd=(props)=>{\r\n        props.form.setFormStatus(linkman,'edit');\r\n        props.modal.show('linkmanModal',{\r\n            userControl:true,\r\n            beSureBtnClick:()=>{\r\n                let flag = this.props.form.isCheckNow(linkman);\r\n                if(!flag)return\r\n                let lmdata = props.form.getAllFormValue(linkman);\r\n\r\n                ajax({\r\n                    url:urls.saveLinkman,\r\n                    data:{\r\n                        'pageid':this.config.pageCode,\r\n                        'gridModel':lmdata\r\n                    },\r\n                    success:(res)=>{\r\n                        let{success,data} =res;\r\n                        if(success){\r\n                            if(data){\r\n                                props.modal.close('linkmanModal')\r\n                                let len = props.cardTable.getNumberOfRows(tableId);\r\n                                //联系人新增成功，回显子表数据\r\n                                props.cardTable.addRow(tableId,len,{\r\n\r\n                                    'pk_linkman':{\r\n                                        value:data\r\n                                    },\r\n                                    'pk_linkman.name':lmdata.rows[0].values.name,\r\n                                    'pk_linkman.sex':lmdata.rows[0].values.sex,\r\n                                    'pk_linkman.vjob':lmdata.rows[0].values.vjob,\r\n                                    'pk_linkman.phone':lmdata.rows[0].values.phone,\r\n                                    'pk_linkman.cell':lmdata.rows[0].values.cell,\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n            },\r\n            cancelBtnClick:()=>{\r\n                props.form.EmptyAllFormValue(linkman);\r\n                props.modal.close('linkmanModal')\r\n                return;\r\n            },\r\n            closeModalEve:()=>{\r\n                props.form.EmptyAllFormValue(linkman);\r\n                props.modal.close('linkmanModal')\r\n                return;\r\n            },\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { cardTable, form, button, modal, cardPagination } = this.props;\r\n        const {createCardPagination} = cardPagination;\r\n        let { createForm } = form;\r\n        let { createCardTable } = cardTable;\r\n        let { createButtonApp } = button;\r\n        let { createModal } = modal;\r\n        return (\r\n            <div  className='nc-bill-card'>\r\n                <div className=\"nc-bill-top-area\">\r\n                    <NCAffix>\r\n                    <div className='nc-bill-header-area'>\r\n\r\n                        {this.state.stated === 'browse'&&\r\n                        <NCBackBtn className='title-search-detail'\r\n                                   onClick={ this.buttonClick.bind(this,this.props,'back') }></NCBackBtn>}\r\n                        <div className='header-title-search-area'>\r\n                            <h2 className='title-search-detail'>{this.state.json[this.config.title]}{this.state.stated=='browse'?`：${this.state.project_code!=null?this.state.project_code:''}`:''}</h2>\r\n                        </div>\r\n                        <div className=\"header-button-area\">\r\n                            {createButtonApp({\r\n                                area: 'card-header-button',\r\n                                buttonLimit: 3,\r\n                                onButtonClick: this.buttonClick.bind(this),\r\n                                popContainer: document.querySelector('.card-header-button')\r\n\r\n                            })}\r\n                        </div>\r\n                        <div className='header-cardPagination-area' style={{float:'right'}}>\r\n                            {createCardPagination({\r\n                                handlePageInfoChange: this.pageInfoClick.bind(this),\r\n                                dataSource: AddDatasource\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    </NCAffix>\r\n                    <div className=\"nc-bill-form-area\">\r\n                        {createForm(this.config.formId, {\r\n                            onAfterEvent: this.afterEvent.bind(this)\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"nc-bill-bottom-area\">\r\n                    <div className=\"nc-bill-table-area\">\r\n                        {createCardTable(this.config.tableId, {\r\n                            tableHead: this.getTableHead.bind(this),\r\n                            modelSave: this.modelSave.bind(this),\r\n                            tableModelConfirm: this.tableModelConfirm,\r\n                            showIndex:true,\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                {createModal('delete', {\r\n                    title: this.state.json['10140ADRB-000012'],/* 国际化处理： 注意*/\r\n                    content: this.state.json['10140ADRB-000013'],/* 国际化处理： 确认删除？*/\r\n                    beSureBtnClick: this.delConfirm.bind(this)\r\n                })}\r\n                {createModal('linkmanModal',{\r\n                    title:this.state.json['10140ADRB-000014'],/* 国际化处理： 联系人*/\r\n                    size:'lg',\r\n                    content:this.createLinkmanForm()\r\n\r\n                })}\r\n                {createModal('modal',{noFooter:false})}\r\n                <PrintOutput\r\n                    ref='printOutput'\r\n                    url= {urls['print']}\r\n                    data={{\r\n                        funcode:'10140ADRB',\r\n                        nodekey:'addresscard',     //模板节点标识\r\n                        oids: this.state.pks,    //或['1001A41000000000A9LR','1001A410000000009JDD']  单据pk  oids含有多个元素时为批量打印,\r\n                        outputType: \"output\"\r\n                    }}\r\n                    //callback={this.onSubmit}\r\n                >\r\n                </PrintOutput>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nCard = createPage({\r\n    //initTemplate: initTemplate.bind(this),\r\n})(Card);\r\nexport default Card\r\n//ReactDOM.render(<Card />, document.querySelector('#app'));\r\n"],"sourceRoot":""}