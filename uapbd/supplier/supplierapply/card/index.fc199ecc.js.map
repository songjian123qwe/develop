{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/./src/uapbd/refer/org/BusinessUnitTreeRef/index.js","webpack://[name]/./src/uap/public/excomponents/approvalTrans.js","webpack://[name]/./src/uap/public/excomponents/compositeTransfer.js","webpack://[name]/./src/uap/public/excomponents/assignTransfer/index.js","webpack://[name]/./src/uap/public/excomponents/assignTransfer/index.less?4b06","webpack://[name]/./src/uap/public/excomponents/assignTransfer/index.less","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://[name]/./src/uapbd/supplier/supplierapply/card/index.js","webpack://[name]/./src/uapbd/supplier/supplierapply/card/bankacc.js","webpack://[name]/./src/uapbd/supplier/supplierapply/card/bankacc/list.js","webpack://[name]/./src/uapbd/supplier/supplierapply/card/bankacc/index.less?5eb0","webpack://[name]/./src/uapbd/supplier/supplierapply/card/bankacc/index.less","webpack://[name]/./src/uapbd/supplier/supplierapply/card/bankacc/form.js","webpack://[name]/./src/uapbd/refer/psninfo/PsndocTreeGridRef/index.js","webpack://[name]/external {\"root\":\"ReactDOM\",\"var\":\"ReactDOM\",\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\"}","webpack://[name]/./node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js","webpack://[name]/./node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js","webpack://[name]/./src/uap/refer/riart/groupTreeRef/index.js","webpack://[name]/./node_modules/_style-loader@0.18.2@style-loader/lib/urls.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","props","arguments","length","undefined","React","createElement","Refer","_extends","conf","_ncLightappFront","_index","high","multiLang","domainName","currentLocale","refType","refName","refCode","rootNode","refname","refpk","placeholder","queryTreeUrl","treeConfig","code","isMultiSelectedEnabled","unitProps","unitConf","isShowUnit","_react","ApprovalTrans","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","type","data","flow_type","console","log","display","state","showModal","Component","nextProps","setState","_react2","default","_assignTransfer2","title","getResult","cancel","hideNote","_compositeTransfer2","NCModal","base","NCTransfer","NCSelect","NCButton","Option","CompositeTransfer","content","sourceKeys","selectDataSource","mapSource","result","forEach","item","index","desc","activitydefid","uservos","map","el","userpk","username","source","target","currenttab","confirm","handleSelectChange","handleTransferChange","_this2","_this3","idItem","filter","includes","toast","targetKeys","direction","moveKeys","_this4","indexOf","push","splice","optionList","defaultSelect","show","Header","Title","Body","style","margin","width","defaultValue","onChange","marginTop","lazy","container","listStyle","height","dataSource","render","Footer","onClick","colors","marginRight","NCMenu","NCCheckbox","NCTextArea","SubMenu","NCSubMenu","AssignTransfer","menuData","initTransferData","mapTransfer","usersResult","defaultSelectedKeys","falseMap","prepareData","isMultiSelect","muplityWithOutAssgin","currentMenu","textValue","mapCheck","obj","keys","isChoice","handleCheckboxChange","handleMenuClick","element","selectpath","id","isAssgin","assginUsers","pk","firstKey","changeObj","assign","e","processItem","_this5","menuItemList","Item","checked","size","className","selectedKeys","defaultOpenKeys","float","titles","val","options","transform","locals","_bankacc","NCAffix","NCAnchor","NCPopconfirm","NCFormControl","NCScrollElement","NCScrollLink","NCBackBtn","NCUploader","ApproveDetail","PrintOutput","addCache","cardCache","getCacheById","updateCache","getCurrentLastId","getNextId","deleteCacheById","setDefData","getDefData","formId","tableId","searchId","saveUrl","updateUrl","commitUrl","printUrl","exFieldUrl","addUrl","pk_item","tableIds","toggleShow","billStatus","applyType","hideAllButtons","getUrlParam","button","setButtonVisible","cardPagination","setCardPaginationVisible","status","visibleAction","unVisibleAction","disableActionSet","Commit","Edit","Delete","Bankacc","Callback","ApprDetail","setButtonDisabled","setTimeout","form","setFormStatus","cardTable","setStatus","toggleCardTable","onbeforeunload","Card","_initialiseProps","billId","pk_org","title_code","totalcount","applycount","showBaseInfo","isList","showApprove","showUploader","pks","backVisible","compositedata","compositedisplay","showApprInfo","json","showFAndS","bankCanEdit","bankaccConfig","formId1","formId2","cardTableId","mainPk","bankaccModalChange","bankaccModalClose","meta","items","find","attrcode","reg","RegExp","queryCondition","TreeRefActionExt","supplier_baseInfo","pk_defdoclist","financeTable","finance","text","record","_index2","values","pk_dept","pk_respdept","finance_edit","purchaseTable","purchase","respdept","purchase_editform","refcode","netbankinfo","noDelCardTables","porCol","itemtype","label","visible","fixed","getFormStatus","getStatus","toggleRowView","openModel","stopPropagation","delRowsByIndex","deleteCur","getMultiLang","callback","initTemplate","getdata","updateSpeTableBtnStatus","codeedit","vbillnumedit","setFormItemsDisabled","vbillno","ajax","url","success","res","setAllFormValue","setDefaultValue","groupInfo","vbillstatus","mainFormStatus","speTableStatus","speTableBtnPre","speBtnObj","tableStatus","_this6","finalData","color","fullPath","file","fileList","isLt2M","alert","print","funcode","nodekey","oids","outputType","oldValue","_this7","supCode","setFormItemsValue","vgoalorg","orgValue","getFormItemsValue","operation","hasSupCode","baseInfo","setItemsVisible","update_sup","requestData","pk_supplier","head","formData","bodys","isSet","setTableData","rows","goalOrg","belongedOrg","lastOrg","lastOrgName","getMeta","setMeta","preCode","vbillcode","hasPreCode","editable","codeEditable","pfOrg","pfOrgName","pk_financeorg","createButtonApp","padding","area","onButtonClick","buttonClick","changedrows","newvalue","oldvalue","setValByKeyAndIndex","deptname","paramObj","_this8","EmptyAllFormValue","cardData","vBillStatus","_formData","_defineProperty","setUrlParam","apply_type","_this9","billCode","pushTo","getDataForCache","resetTableData","info","modal","close","getAllRows","pk_linkman","editLinkmanPk","linkmanIndex","onAfterEdit","onLinkmanAfterEdit","savedData","_this10","allShowKeys","allRows","linkmanRefer","itemPkLinkman","isEdit","SPFLinkman","_this11","linkmanData","getAllFormValue","model","addResult","sexValue","newRow","rowid","_this12","_props","createCardPagination","createForm","createCardTable","createModal","iconItem","groupItem","line-height","handlePageInfoChange","pageInfoClick","to","spy","smooth","duration","offset","onAfterEvent","afterEvent","setVisibleByForm","tableHead","getTableHead","onBeforeEvent","onLinkmanBeforeEvent","modelClose","suplinkmanClose","onCardBeforeEdit","onCardTableAfterEvent","hideAdd","hideDel","beSureBtnClick","delConfirm","createBankaccList","createBankaccForm","linkmanSaveClick","billNo","placement","onHide","onHideUploader","beforeUpload","beforeDelete","ref","onCancelSureClick","_approvalTrans2","getAssginUsedr","onApprTransClose","closeApprDetail","billtype","billid","createUIDom","pagecode","template","_this13","modifierMeta","context","org_Name","setButtons","orgInfo","bill_status","orgName","canEdit","rejTableIds","primaryKey","saveClick","promptBox","noFooter","noCancelBtn","beSureBtnName","cancelBtnName","workflow","pfProcess","addRow","output","refs","printOutput","open","mainFormData","baseInfoData","supplierPfVO","supplierVO","speTableIds","retBillStatus","_formData2","baseInfoMeta","emtpyNesItems","required","afterInsertToastInfo","join","meno","hasPreSupCode","primaryKeys","nextId","modelSave","closeModel","getButtonNames","codeId","createPage","billinfo","headcode","config","table","createSimpleTable","listPage","_list2","closeModalEve","formPage","_form2","NCIcon","NCTabs","NCTabPane","List","doubleClick","cardStatus","accnum","pk_banktype","selectedRow","hasOprColumn","btnArray","createOprationButton","buttonLimit","editRow","visibleActions","unVisibleActions","apply","BankDelete","getData","updateButtonStatus","setAllTableData","row","search","popContainer","document","querySelector","onRowClick","onRowDoubleClick","showIndex","deleteUrl","formid2","showAccbase","showNetBank","refresh","pk_country","pk_currtype","currtypename","accNameValue","accname","enablestate","supbankacc","body","isAdd","getValueFromForm","checkedRows","getCheckedRows","pk_bankaccsub","allRow","isdefault","formValue1","formValue2","bankaccsub","form1","form2","currTypeInfo","formErrorMsg","accbasinfo","setObj","iconItem2","groupItem2","showCheck","queryGridUrl","columnConfig","isShowUsual","PsndocGridTreeRefWrapper","MultiLangWrapper","PopRefer","ReferWithUnit","Checkbox","NCCollapse","NCTable","PsndocGridTreeRef","getParam","param","_this$props","pageSize","_param$keyword","keyword","_param$pid","pid","_param$pageInfo","pageInfo","pageIndex","_param","_typeof","isShowDimission","renderPopoverLeftHeader","margin-bottom","margin-left","onChangeFirst","isShowDisabledData","isDisabledDataDisabled","loadTableData","then","currentLevel","unit","useSourceMap","list","toString","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","toComment","sourceURLs","sources","sourceRoot","concat","cssWithMappingToString","mediaQuery","alreadyImportedModules","stylesInDom","isOldIE","fn","memo","memoize","all","atob","getElement","selector","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","j","parts","addStyle","listToStyles","newStyles","part","css","media","insertStyleElement","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","createStyleElement","attrs","addAttrs","setAttribute","update","remove","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","replaceText","textStore","replacement","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test"],"mappings":"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","file":"uapbd/supplier/supplierapply/card/index.fc199ecc.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/supplier/supplierapply/card/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"uapbd/supplier/supplierapply/card/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"], root[\"ReactDOM\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 280);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","import { high } from 'nc-lightapp-front';\nconst { Refer } = high;\nimport { conf as unitConf } from '../../../../uap/refer/riart/groupTreeRef/index';\n\nexport var conf = {\n    multiLang: {\n        domainName: 'uapbd',\n        currentLocale: 'zh-CN',\n        moduleId: 'refer_uapbd',\n    },\n\n    refType: 'tree',\n    refName: 'refer-000201',/* 国际化处理： 业务单元*/\n    refCode: 'uapbd.refer.org.BusinessUnitTreeRef',\n    rootNode: { refname: 'refer-000201', refpk: 'root' },/* 国际化处理： 业务单元*/\n    placeholder: 'refer-000201',/* 国际化处理： 业务单元*/\n    queryTreeUrl: '/nccloud/uapbd/org/BusinessUnitTreeRef.do',\n    treeConfig: { name: ['refer-000002', 'refer-000003'], code: ['refcode', 'refname'] },/* 国际化处理： 编码,名称*/\n    isMultiSelectedEnabled: false,\n    unitProps: unitConf,\n    isShowUnit: false\n};\n\nexport default function (props = {}) {\n\n    return <Refer {...conf} {...props} />\n}\n","import React, { Component } from 'react';\nimport CompositeTransfer from './compositeTransfer';\nimport AssignTransfer from './assignTransfer';\n\nexport default class ApprovalTrans extends Component{\n    constructor(props){\n        super(props);\n        this.type = this.props.data.flow_type;\n        console.log('display',this.props.display,props.data)\n        // this.isMultiSelect = this.props.data.muplityWithOutAssgin;\n        this.state = {\n            showModal: this.props.display,\n            data: this.props.data\n        };\n    }\n    componentWillReceiveProps(nextProps){\n        this.setState({\n            data: nextProps.data,\n            showModal: nextProps.display\n        });\n    }\n    render(){\n        return (\n            this.type == 'workflow' ?  <AssignTransfer title={this.props.title || '选择下游环节'} getResult={this.props.getResult}  data = {this.state.data} cancel={this.props.cancel} hideNote={this.props.hideNote} display={this.state.showModal}/>\n            :<CompositeTransfer title={this.props.title || '指派'} data={this.state.data} getResult={this.props.getResult} cancel={this.props.cancel} display={this.state.showModal}/>\n        );\n    }\n}","import React, { Component } from 'react';\nimport { base, toast } from 'nc-lightapp-front';\nconst { NCModal, NCTransfer, NCSelect, NCButton } = base;\nconst Option = NCSelect.Option;\n// import Utils from '../../../utils';\n\nexport default class CompositeTransfer extends Component {\n    constructor(props) {\n        super(props);\n        let data = this.props.data.content ? this.props.data.content : [];\n        console.log('data', data)\n        let selectDataSource = [];\n        let sourceKeys = [];\n        let targetKeys = [];\n        this.mapSource = {};\n        this.result = {};\n        data.forEach((item, index) => {\n            selectDataSource[selectDataSource.length] = { key: item.desc, value: item.activitydefid };\n            this.mapSource[item.activitydefid] = item.uservos.map(el => {\n                return { key: item.activitydefid + \"_\" + el.userpk, title: el.username };\n            });\n        });\n        // console.log('mapSource', this.mapSource);\n        sourceKeys = this.mapSource[selectDataSource[0].value];\n        console.log('sourceKeys', sourceKeys)\n        this.state = {\n            showModal: this.props.display,\n            selectDataSource: selectDataSource,\n            source: sourceKeys,\n            target: targetKeys,\n            currenttab: selectDataSource.length > 0 ? selectDataSource[0].value : ''\n        };\n        this.cancel = this.cancel.bind(this);\n        this.confirm = this.confirm.bind(this);\n        this.handleSelectChange = this.handleSelectChange.bind(this);\n        this.handleTransferChange = this.handleTransferChange.bind(this);\n    }\n    componentWillReceiveProps(nextProps) {\n        let data = nextProps.data.content ? nextProps.data.content : [];\n        console.log('data_async', data);\n        let selectDataSource = [];\n        let sourceKeys = [];\n        let targetKeys = [];\n        this.mapSource = {};\n        this.result = {};\n        data.forEach((item, index) => {\n            selectDataSource[selectDataSource.length] = { key: item.desc, value: item.activitydefid };\n            this.mapSource[item.activitydefid] = item.uservos.map(el => {\n                return { key: item.activitydefid + \"_\" + el.userpk, title: el.username };\n            });\n        });\n        // console.log('mapSource', this.mapSource);\n        sourceKeys = this.mapSource[selectDataSource[0].value];\n        console.log('sourceKeys_async', sourceKeys)\n        this.state = {\n            showModal: nextProps.display,\n            selectDataSource: selectDataSource,\n            source: sourceKeys,\n            target: targetKeys,\n            currenttab: selectDataSource.length > 0 ? selectDataSource[0].value : ''\n        };\n    }\n    confirm() {\n        console.log('confirm', this.result);\n        if(this.state.target.length == 0){\n            toast({content:'没有为活动指派参与者!'});\n            return;\n        }\n        this.props.data.content.forEach(idItem => {\n            if (!this.result[idItem.activitydefid]) {\n                idItem.uservos = [];\n            }\n            idItem.uservos = idItem.uservos.filter(item => {\n                return this.result[idItem.activitydefid].includes(idItem.activitydefid + \"_\" + item.userpk);\n            });\n        });\n        this.props.getResult(this.props.data);\n        //    this.setState({\n        //        showModal: false\n        //    });\n    }\n    cancel() {\n        console.log('cancel');\n        this.props.cancel();\n        //    this.setState({\n        //        showModal: false\n        //    });\n    }\n    handleSelectChange(value) {\n        console.log('change', value, this.mapSource);\n        this.setState({\n            source: this.mapSource[value],\n            currenttab: value\n        });\n    }\n    handleTransferChange(targetKeys, direction, moveKeys) {\n        console.log(targetKeys, direction, moveKeys, this.state.source);\n        if (!this.result[this.state.currenttab]) this.result[this.state.currenttab] = [];\n        if (direction == 'right') {\n            moveKeys.forEach(item => {\n                if (item.indexOf(this.state.currenttab) > -1) {\n                    this.result[this.state.currenttab].push(item);\n                }\n            });\n        } else if (direction == 'left') {\n            moveKeys.forEach(item => {\n                if (item.indexOf(this.state.currenttab) > -1) {\n                    let index = this.result[this.state.currenttab].indexOf(item);\n                    this.result[this.state.currenttab].splice(index, 1);\n                }\n            });\n        }\n        this.setState({\n            target: targetKeys\n        });\n    }\n    render() {\n        console.log('render_source', this.state.source)\n        let selectDataSource = this.state.selectDataSource;\n        let optionList = selectDataSource.map(item => {\n            return <Option value={item.value}>{item.key}</Option>\n        });\n        let defaultSelect = selectDataSource.length > 0 ? selectDataSource[0].value : '';\n        return (\n            <div>\n                <NCModal show={this.state.showModal} >\n                    <NCModal.Header>\n                        <NCModal.Title>{this.props.title}</NCModal.Title>\n                    </NCModal.Header>\n                    <NCModal.Body>\n                        <div style={{margin: \"0 auto\", display: \"table\", width: \"82%\"}}>\n                            <NCSelect style={{ width: \"100%\" }} defaultValue={defaultSelect} onChange={this.handleSelectChange}>\n                                {optionList}\n                            </NCSelect>\n                        </div>\n                        \n                        <div style={{ margin: \"0 auto\", marginTop: \"10px\", display: \"table\" }}>\n                            <NCTransfer\n                                lazy={{ container: \"modal\" }}\n                                listStyle={{\n                                    width:200,\n                                    height: 250,\n                                }}\n                                dataSource={this.state.source}\n                                onChange={this.handleTransferChange}\n                                targetKeys={this.state.target}\n                                render={item => item.title} />\n                        </div>\n                    </NCModal.Body>\n                    <NCModal.Footer>\n                        <NCButton onClick={this.confirm} colors=\"primary\">确定</NCButton>\n                        <NCButton onClick={this.cancel} style={{ marginRight: 50 }}>取消</NCButton>\n                    </NCModal.Footer>\n\n                </NCModal>\n            </div>\n        );\n    }\n}","import React, { Component } from 'react';\nimport { base } from 'nc-lightapp-front';\nimport './index.less';\nconst { NCModal, NCTransfer, NCMenu, NCCheckbox, NCButton, NCTextArea} = base;\nconst SubMenu = NCMenu.NCSubMenu;\n\nexport default class AssignTransfer extends Component {\n    constructor(props){\n        super(props);\n        // console.log('data', props.data);\n        this.menuData=[];\n        this.initTransferData=[];\n        this.mapTransfer = {};\n        this.usersResult = {};\n        this.defaultSelectedKeys;\n        this.falseMap = {};\n        this.prepareData(props.data.content);\n        this.isMultiSelect = this.props.data.muplityWithOutAssgin;\n        let _this = this;\n        this.state = {\n            showModal: this.props.display,\n            source: this.initTransferData,\n            currentMenu: this.defaultSelectedKeys,\n            target: [],\n            textValue: '',\n            mapCheck: (function(obj){\n                Object.keys(_this.mapTransfer).map((item, index) => {\n                    obj[item] = props.data.content[index].isChoice || false;\n                });\n                return obj;\n            })({})\n        };\n        this.handleTransferChange = this.handleTransferChange.bind(this);\n        this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\n        this.handleMenuClick = this.handleMenuClick.bind(this);\n        this.confirm = this.confirm.bind(this);\n        this.cancel = this.cancel.bind(this);\n    }\n\n    prepareData(data){\n        let _this = this;\n        data.forEach((element, index)=> {\n            _this.falseMap[element.selectpath] = false;\n            _this.menuData[_this.menuData.length] = {name: element.desc, id: element.selectpath};\n            if(element.isAssgin){\n                _this.mapTransfer[element.selectpath] = element.assginUsers.map(item => {\n                    return {title: item.name, code: item.code, key: element.selectpath + \"_\" + item.pk};\n                });\n            }else{\n                _this.mapTransfer[element.selectpath] = [];\n            }\n        });\n        let firstKey = Object.keys(_this.mapTransfer)[0];\n        _this.initTransferData = _this.mapTransfer[firstKey];\n        _this.defaultSelectedKeys = firstKey;\n    }\n\n    componentWillReceiveProps(nextProps){\n        // console.log('nextProps',nextProps.data)\n        this.menuData=[];\n        this.initTransferData=[];\n        this.mapTransfer = {};\n        this.usersResult = {};\n        this.falseMap = {};\n        this.isMultiSelect = nextProps.data.muplityWithOutAssgin;\n        this.prepareData(nextProps.data.content);\n        let _this = this;\n        this.state = {\n            showModal: nextProps.display,\n            source: this.initTransferData,\n            currentMenu: this.defaultSelectedKeys,\n            target: [],\n            mapCheck: (function(obj){\n                Object.keys(_this.mapTransfer).map((item, index) => {\n                    obj[item] = nextProps.data.content[index].isChoice||false;\n                });\n                return obj;\n            })({})\n        };\n    }\n\n    handleCheckboxChange(id){\n        // console.log('id',id);\n        let changeObj = {}\n        changeObj[id] = !this.state.mapCheck[id];\n        this.setState({\n            mapCheck: this.isMultiSelect ? Object.assign({},this.state.mapCheck,changeObj) : Object.assign({}, this.falseMap, changeObj)\n        });\n    }\n\n    handleTransferChange(targetKeys, direction, moveKeys){\n        // console.log('transferChange,direction,moveKeys', targetKeys, direction, moveKeys);\n        if(!this.usersResult[this.state.currentMenu]) this.usersResult[this.state.currentMenu] = [];\n        if(direction == 'right'){\n            moveKeys.forEach(item => {\n                if(item.indexOf(this.state.currentMenu) > -1){\n                    this.usersResult[this.state.currentMenu].push(item);\n                }\n            });\n        }else if(direction == 'left'){\n            moveKeys.forEach(item => {\n                if(item.indexOf(this.state.currentMenu) > -1){\n                    let index = this.usersResult[this.state.currentMenu].indexOf(item);\n                    this.usersResult[this.state.currentMenu].splice(index,1) ;\n                }\n            }); \n        }\n        // console.log('usersResult', this.usersResult);\n        this.setState({\n            target: targetKeys\n        });\n        \n    }\n\n    handleMenuClick(e){\n        // console.log('menu-click',e);\n        this.setState({\n            currentMenu: e.key,\n            source: this.mapTransfer[e.key]\n        });\n    }\n\n    confirm(){\n        this.props.data.content.forEach(processItem => {\n            processItem.isChoice = this.state.mapCheck[processItem.selectpath];\n            if(processItem.isAssgin){\n                if(!this.usersResult[processItem.selectpath]){\n                    processItem.assginUsers = [];\n                }\n                processItem.assginUsers = processItem.assginUsers.filter(item => {\n                    return this.usersResult[processItem.selectpath].includes(processItem.selectpath +'_'+item.pk);\n                });\n            }\n        });\n        // console.log(this.props.data);\n        this.props.getResult(this.props.data, this.state.textValue);\n    }\n\n    cancel(){\n        this.props.cancel();\n    }\n\n    render(){\n        let _this = this;\n        let menuItemList = this.menuData.map(item => {\n            return <NCMenu.Item key={item.id}><NCCheckbox colors=\"info\" checked={this.state.mapCheck[item.id]}  onChange={_this.handleCheckboxChange.bind(_this, item.id)}/>{item.name}</NCMenu.Item>\n        });\n\n        return (\n            <div>\n                <NCModal show={this.state.showModal} size=\"lg\">\n                    <NCModal.Header>\n                        <NCModal.Title>{this.props.title}</NCModal.Title>\n                    </NCModal.Header>\n                    <NCModal.Body>\n                        <div className=\"wrap\">\n                            { this.menuData.length != 1 ? <div className=\"menuBox\">\n                                <div className=\"menuContent\">\n                                    <NCMenu mode=\"inline\" selectedKeys={[this.state.currentMenu]} defaultOpenKeys={['sub1']} onClick={this.handleMenuClick}  style={{width: 150}}>\n                                        <SubMenu key=\"sub1\" title={<span><span>选择流程</span></span>}>\n                                            {menuItemList}\n                                        </SubMenu>\n                                    </NCMenu>\n                                </div>\n                            </div> : ''}\n                            <div style={{float: 'left'}}>\n                                <NCTransfer \n                                titles={['用户','已选']} \n                                dataSource={this.state.source} \n                                targetKeys={this.state.target} \n                                listStyle={{height: 330,width: 200}} \n                                onChange={this.handleTransferChange} \n                                render={item => item.title} \n                                lazy={{ container: \"modal\" }}\n                                />\n                                { !this.props.hideNote ? <NCTextArea value={this.state.textValue} onChange={val=>{this.setState({textValue: val});}} className='textArea'/> : ''}\n                            </div>\n                        </div>\n                    </NCModal.Body>\n                    <NCModal.Footer>\n                        <NCButton onClick={this.cancel}  style={{marginRight: 50}}>取消</NCButton>\n                        <NCButton onClick={this.confirm} colors=\"primary\">确定</NCButton>\n                    </NCModal.Footer>\n                </NCModal>\n            </div>\n        );\n    }\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".wrap {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  height: 400px;\\n  padding-bottom: 11px;\\n}\\n.wrap::-webkit-scrollbar,\\n.menuBox::-webkit-scrollbar {\\n  /*整个滚动条区域的宽度*/\\n  width: 3px;\\n  height: 3px;\\n}\\n.wrap::-webkit-scrollbar-button,\\n.menuBox::-webkit-scrollbar-button {\\n  /*滚动条上下两边的按钮*/\\n  display: none;\\n}\\n.wrap::-webkit-scrollbar-thumb,\\n.menuBox::-webkit-scrollbar-thumb {\\n  /*真滚动条样式*/\\n  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\\n  background: rgba(0, 0, 0, 0.2);\\n  border-radius: 100px ;\\n}\\n.wrap::-webkit-scrollbar-track,\\n.menuBox::-webkit-scrollbar-track {\\n  /*滚动条滚动的轨道*/\\n  display: none;\\n}\\n.menuBox {\\n  float: left;\\n  height: auto;\\n  border: 1px solid #ccc;\\n  border-radius: 3px;\\n  margin-right: 5px;\\n  overflow: auto;\\n}\\n.menuBox .menuContent {\\n  margin-top: -13px;\\n}\\n.menuBox .menuContent .u-menu-item {\\n  padding-left: 15px !important;\\n}\\n.menuBox .menuContent .u-menu-item-selected.u-menu-item {\\n  padding-left: 15px !important;\\n}\\n.menuBox .menuContent .u-checkbox .u-checkbox-label {\\n  padding-left: 20px !important;\\n}\\n.menuBox .menuContent .u-menu.u-menu-root {\\n  border: none;\\n  box-shadow: none;\\n  -webkit-box-shadow: none;\\n  border-radius: 0px;\\n}\\n.textArea {\\n  margin-top: 4px;\\n}\\n.u-transfer-list-content-item span {\\n  padding-left: 0px !important;\\n}\\n\", \"\"]);\n\n// exports\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","//主子表卡片\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {createBankaccList,createBankaccForm} from './bankacc'\r\nimport { createPage, ajax, base, toast, high, promptBox, getMultiLang } from 'nc-lightapp-front';\r\nimport { print } from 'nc-lightapp-front';\r\nimport PsndocTreeGridRef from \"../../../../uapbd/refer/psninfo/PsndocTreeGridRef/index.js\"\r\nimport ApprovalTrans from '../../../../uap/public/excomponents/approvalTrans';\r\nimport {cardCache} from \"nc-lightapp-front\";\r\nconst { NCAffix,NCPopconfirm,NCFormControl,NCAnchor,NCScrollElement,NCScrollLink,NCBackBtn } = base;\r\nconst { NCUploader, ApproveDetail } = high\r\nconst {PrintOutput} = high\r\nconst { addCache, getCacheById, updateCache, getCurrentLastId, getNextId, deleteCacheById, setDefData, getDefData } = cardCache;\r\n\r\nconst dataSource = 'uapbd.supplier.supplierapply.data'\r\nconst formId = 'supplierPf';                      //表头id\r\nconst tableId = 'bankaccsub';                  //子表id\r\nconst pageId = '10140SPF_card';            //pagecode\r\nconst searchId = 'search';                  //查询区id\r\nconst appCode = '10140SPF'\r\nconst appId ='0001Z010000000001VX1';        //按钮注册id\r\nconst queryGroupUrl = '/nccloud/uapbd/supplierapply/queryGroupAction.do';   //卡片查询url\r\nconst queryCardUrl = '/nccloud/uapbd/supplierapply/querySupplierApplyCard.do';   //卡片查询url\r\nconst saveUrl = '/nccloud/uapbd/supplierapply/saveSupplierApply.do';             //新增保存\r\nconst updateUrl = '/nccloud/uapbd/supplierapply/updateSupplierApply.do';         //修改保存\r\nconst commitUrl = '/nccloud/uapbd/supplierapply/commitSupplierApply.do' //提交\r\nconst callbackUrl = '/nccloud/uapbd/supplierapply/callbackSupplierApply.do' //收回\r\nconst approveUrl = '/nccloud/uapbd/supplierapply/approveSupplierApply.do' //审批\r\nconst unApproveUrl = '/nccloud/uapbd/supplierapply/unapproveSupplierApply.do' //取消审批\r\nconst queryLinkmanUrl = '/nccloud/uapbd/supplierapply/querySupLinkman.do' //联系人查询\r\nconst saveLinkmanUrl = '/nccloud/uapbd/supplierapply/saveSupLinkman.do'\t//联系人保存\r\nconst deleteUrl = '/nccloud/uapbd/supplierapply/deleteSupplierApply.do'\t//删除\r\nconst printUrl = '/nccloud/uapbd/supplierapply/printSupplierApplyCard.do'\r\nconst exFieldUrl = '/nccloud/uapbd/supplierapply/supExField.do'\r\nconst checkDataPermUrl = '/nccloud/uapbd/supplierapply/checkDataPerm.do' //编辑数据权限校验功能\r\nconst addUrl = '/nccloud/uapbd/supplierapply/addSupplierApply.do'\r\nconst pk_item = 'pk_supplier_pf';             //单据主键--用于卡片查询刷新\r\nconst titleCode = 'accname';            //单据编码--用于卡片表头显示\r\nconst childValues = 'pk_taxregions'\r\nconst tableIds = ['purchase','supbankacc','supcountrytaxes','suplinkman','finance']\r\n\r\nconst addEditable = ['supcountrytaxes','suplinkman']\r\nconst editEditable = ['purchase','supcountrytaxes','suplinkman','finance']\r\n\r\n //切换页面状态\r\nfunction toggleShow(props, billStatus = -1,fiStatus = 'browse',purStatus = 'browse', applyType=1){\r\n\t//为了供应商联查供应商申请单,此处取约定参数决定是否显示所有按钮\r\n\tlet hideAllButtons= props.getUrlParam('hideButton')\r\n\tif(hideAllButtons) {\r\n\t\tprops.button.setButtonVisible(['Add','Edit','Delete','Commit','Callback','Attach','ApprDetail','Bankacc','Save','Cancel','Print','Output','Refresh','AddLinesuplinkman','AddLinesupcountrytaxes'],false)\r\n\t\tprops.cardPagination.setCardPaginationVisible('cardPaginationBtn', false);\r\n\t}\r\n\tlet status = props.getUrlParam('status');\r\n\tstatus = status == 'add' || status == 'edit' ? 'edit' : 'browse'\r\n\tlet flag = status === 'browse' ? false : true;\r\n\t//按钮的显示状态\r\n\tif(!hideAllButtons) {\r\n\t\tlet visibleAction = []\r\n\t\tlet unVisibleAction = []\r\n\t\tif(status == 'edit' || status == 'add'){\r\n\t\t\tvisibleAction = ['Save','Cancel']\r\n\t\t\tunVisibleAction = ['Edit','Add','back','Delete','Refresh','Commit','Callback','Bankacc','Attach','ApprDetail','Print','Output']\r\n\t\t\tif(applyType == 3 || applyType == 4) {\r\n\t\t\t\tunVisibleAction.push('AddLinesuplinkman','AddLinesupcountrytaxes')\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvisibleAction.push('AddLinesuplinkman','AddLinesupcountrytaxes')\r\n\t\t\t}\r\n\t\t\tprops.cardPagination.setCardPaginationVisible('cardPaginationBtn', false);\r\n\t\t}else{\r\n\t\t\t//根据单据状态设置一下按钮状态\r\n\t\t\tvisibleAction = []\r\n\t\t\tunVisibleAction = []\r\n\t\t\tlet disableActionSet = {}\r\n\t\r\n\t\t\tif(billStatus == -1) {\t//自由态\r\n\t\t\t\tvisibleAction = ['Add','Edit','Delete','back','Refresh','Commit','Callback','Bankacc','ApprDetail','Attach','Print','Output']\r\n\t\t\t\tunVisibleAction = ['Save','Cancel','AddLinesuplinkman','AddLinesupcountrytaxes']\r\n\t\t\t\tdisableActionSet = {\r\n\t\t\t\t\tCommit: false,\r\n\t\t\t\t\tEdit: false,\r\n\t\t\t\t\tDelete: false,\r\n\t\t\t\t\tBankacc: false,\r\n\t\t\t\t\tCallback: true,\r\n\t\t\t\t\tApprDetail: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(billStatus == 3) {\t//提交态\r\n\t\t\t\tvisibleAction = ['Add','Edit','Delete','back','Refresh','Commit','Callback','Bankacc','ApprDetail','Attach','Print','Output']\r\n\t\t\t\tunVisibleAction = ['Save','Cancel','AddLinesuplinkman','AddLinesupcountrytaxes']\r\n\t\t\t\tdisableActionSet = {\r\n\t\t\t\t\tCommit: true,\r\n\t\t\t\t\tEdit: true,\r\n\t\t\t\t\tDelete: true,\r\n\t\t\t\t\tBankacc: true,\r\n\t\t\t\t\tCallback: false,\r\n\t\t\t\t\tApprDetail: false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvisibleAction = ['Add','Edit','Delete','back','Refresh','Commit','Callback','Bankacc','ApprDetail','Attach','Print','Output']\r\n\t\t\t\tunVisibleAction = ['Save','Cancel','AddLinesupcountrytaxes','AddLinesupcountrytaxes']\r\n\t\t\t\tdisableActionSet = {\r\n\t\t\t\t\tCommit: true,\r\n\t\t\t\t\tEdit: true,\r\n\t\t\t\t\tDelete: true,\r\n\t\t\t\t\tBankacc: true,\r\n\t\t\t\t\tCallback: true,\r\n\t\t\t\t\tApprDetail: false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t//特殊处理一下审批通过——收回按钮可用\r\n\t\t\tif(billStatus == 1) {\r\n\t\t\t\tdisableActionSet.Callback = false\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprops.button.setButtonDisabled(disableActionSet)\r\n\t\t\tprops.cardPagination.setCardPaginationVisible('cardPaginationBtn', true);\r\n\t\t}\r\n\t\tprops.button.setButtonVisible(visibleAction,true);\r\n\t\tprops.button.setButtonVisible(unVisibleAction,false);\r\n\t}\r\n\tsetTimeout(() => props.form.setFormStatus(formId, status),1);\r\n\tsetTimeout(() => props.form.setFormStatus('supplier_baseInfo',status),1)\r\n\ttableIds.forEach(item => {\r\n\t\tif(item !== 'finance' && item != 'purchase') {\r\n\t\t\tprops.cardTable.setStatus(item, status);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(status == 'add') {\r\n\t\t\t\tprops.cardTable.toggleCardTable(['purchase','finance'], false)\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t//添加浏览器窗口关闭监听事件\r\n\tif(status != 'add' && status != \"edit\"){\r\n\t\twindow.onbeforeunload = null;\r\n\t}else{\r\n\t\twindow.onbeforeunload = () => {//编辑态关闭页签或浏览器的提示\r\n\t\t\treturn '';\r\n\t\t};\r\n\t}\r\n};\r\n\r\nclass Card extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.formId = formId;\r\n\t\tthis.searchId = searchId;\r\n\t\tthis.tableId = tableId;\r\n\t\tthis.billId = this.props.getUrlParam('id')\r\n\t\tthis.state = {\r\n\t\t\tpk_org : '',\r\n\t\t\ttitle_code : '',\r\n\t\t\ttotalcount : 0,\r\n\t\t\tapplycount : 0,\r\n\t\t\tshowBaseInfo : true,\r\n\t\t\tisList: true,\r\n\t\t\tshowApprove: false,\r\n\t\t\tshowUploader: false,\r\n\t\t\ttarget: null,\r\n\t\t\tpks: [],\r\n\t\t\tbackVisible: true,\r\n\t\t\tcompositedata: null,\r\n\t\t\tcompositedisplay: false,\r\n\t\t\tshowApprInfo: false,\r\n\t\t\tbillId: '',\r\n\t\t\tjson: {},\r\n\t\t\tshowFAndS: true,\r\n\t\t\tbankCanEdit: true\r\n\t\t}\r\n\t\tthis.bankaccConfig = {\r\n\t\t\ttableId: 'supbank',\r\n\t\t\tformId1: 'accbasinfo',\r\n\t\t\tformId2: 'netbankinfo',\r\n\t\t\tcardTableId: 'bankaccsub',\r\n\t\t\tmainPk : this.props.getUrlParam('id'),\r\n\t\t\tbankaccModalChange: this.bankaccModalChange.bind(this),\r\n\t\t\tbankaccModalClose: this.bankaccModalClose.bind(this)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tinitTemplate =(props)=>{\r\n\t\tprops.createUIDom(\r\n\t\t\t{\r\n\t\t\t\tpagecode: pageId//页面id\r\n\t\t\t\t// appid: appId,//注册按钮的id\r\n\t\t\t\t// appcode: appCode\r\n\t\t\t}, \r\n\t\t\t(data) => {\r\n\t\t\t\tif(data){\r\n\t\t\t\t\tif(data.template){\r\n\t\t\t\t\t\tlet meta = data.template;\r\n\t\t\t\t\t\tthis.modifierMeta(props, meta)\r\n\t\t\t\t\t\tprops.meta.setMeta(meta, () => {\r\n\t\t\t\t\t\t\tif(data.context){\r\n\t\t\t\t\t\t\t\tif(data.context.pk_org&&data.context.org_Name){\r\n\t\t\t\t\t\t\t\t\tthis.pfOrg = data.context.pk_org\r\n\t\t\t\t\t\t\t\t\tthis.pfOrgName = data.context.org_Name\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(props.getUrlParam('status') == 'add') {\r\n\t\t\t\t\t\t\t\t\tprops.form.setFormItemsValue(this.formId,{pk_org: {value: this.pfOrg, display: this.pfOrgName}})\r\n\t\t\t\t\t\t\t\t\tthis.afterEvent(this.props,this.formId,'pk_org',{value: 'value'})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.button){\r\n\t\t\t\t\t\tlet button = data.button;\r\n\t\t\t\t\t\tprops.button.setButtons(button);\r\n\t\t\t\t\t\ttoggleShow(props);\r\n\t\t\t\t\t}\r\n\t\t\t\t}   \r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n\tmodifierMeta(props, meta) {\r\n\t\tlet status = props.getUrlParam('status');\r\n\t\tmeta[formId].status = status;\r\n\t\t//meta[tableId].status = status;\r\n\r\n\t\t//账户基本信息的账号字段只能录入数字\r\n        meta['accbasinfo'].items.find(item => item.attrcode == 'accnum').reg = new RegExp('^\\\\d*$');\r\n\t\r\n\t\t//申请组织进行参照主组织过滤\r\n\t\tmeta[formId].items.find(item => item.attrcode=='pk_org').queryCondition = () => {\r\n\t\t\treturn {\r\n\t\t\t\t//AppCode: this.props.appcode,\r\n\t\t\t\tTreeRefActionExt: \"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder\"\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t//供应商基本信息参照修正\r\n\t\tlet supplierBaseInfo = meta.supplier_baseInfo.items\r\n\t\tsupplierBaseInfo.forEach(item => {\r\n\t\t\t//所属行业\r\n\t\t\tif(item.attrcode == 'trade') {\r\n\t\t\t\titem.queryCondition = function() {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpk_defdoclist: '1009ZZ100000000034NN'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//经济类型\r\n\t\t\tif(item.attrcode == 'ecotypesincevfive') {\r\n\t\t\t\titem.queryCondition = function() {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpk_defdoclist: '1009ZZ100000000034NZ'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\t//增加财务信息专管业务员的参照过滤条件\r\n\t\tlet financeTable = meta.finance.items\r\n\t\tfinanceTable.forEach(item => {\r\n\t\t\tif(item.attrcode == 'pk_resppsn') {\r\n\t\t\t\titem.render = function(text,record,index) {\r\n\t\t\t\t\treturn (PsndocTreeGridRef({\r\n\t\t\t\t\t\tqueryCondition: () => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tpk_org: record.values.pk_org.value,\r\n\t\t\t\t\t\t\t\tpk_dept: record.values.pk_respdept.value\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\t//增加财务信息编辑态卡片专管业务员的参照过滤条件\r\n\t\tfinanceTable = meta.finance_edit.items\r\n\t\tfinanceTable.forEach(item => {\r\n\t\t\tif(item.attrcode == 'pk_resppsn') {\r\n\t\t\t\titem.render = function(text,record,index) {\r\n\t\t\t\t\treturn (PsndocTreeGridRef({\r\n\t\t\t\t\t\tqueryCondition: () => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tpk_org: record.values.pk_org.value,\r\n\t\t\t\t\t\t\t\tpk_dept: record.values.pk_respdept.value\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\t//增加采购信息专管业务员的参照过滤条件\r\n\t\tlet purchaseTable = meta.purchase.items\r\n\t\tpurchaseTable.forEach(item => {\r\n\t\t\tif(item.attrcode == 'respperson') {\r\n\t\t\t\titem.render = function(text,record,index) {\r\n\t\t\t\t\treturn (PsndocTreeGridRef({\r\n\t\t\t\t\t\tqueryCondition: () => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tpk_org: record.values.pk_org.value,\r\n\t\t\t\t\t\t\t\tpk_dept: record.values.respdept.value\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\t//增加采购信息编辑态卡片专管业务员的参照过滤条件\r\n\t\tpurchaseTable = meta.purchase_editform.items\r\n\t\tpurchaseTable.forEach(item => {\r\n\t\t\tif(item.attrcode == 'respperson') {\r\n\t\t\t\titem.render = function(text,record,index) {\r\n\t\t\t\t\treturn (PsndocTreeGridRef({\r\n\t\t\t\t\t\tqueryCondition: () => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tpk_org: record.values.pk_org.value,\r\n\t\t\t\t\t\t\t\tpk_dept: record.values.respdept.value\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\t//供应商联系人参照处理\r\n\t\tmeta['suplinkman'].items.find(item => item.attrcode == 'pk_linkman.name').form = props.form\r\n\t\tmeta['suplinkman'].items.forEach(item => {\r\n\t\t\tif(item.attrcode.indexOf('pk_linkman.') >= 0 && item.attrcode != 'pk_linkman.sex') {\r\n\t\t\t\titem.refcode = 'uapbd/refer/linkman/LinkmanFormRefer/index'\r\n\t\t\t}\r\n\t\t})\r\n\t\tmeta['suplinkman_edit_form'].items.find(item => item.attrcode == 'pk_linkman.name').form = props.form\r\n\t\tmeta['suplinkman_edit_form'].items.forEach(item => {\r\n\t\t\tif(item.attrcode.indexOf('pk_linkman.') >= 0 && item.attrcode != 'pk_linkman.sex') {\r\n\t\t\t\titem.refcode = 'uapbd/refer/linkman/LinkmanFormRefer/index'\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\t//银行账户卡片-地区代码自定义档案参照修正                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \r\n\t\tlet bankacc = meta.netbankinfo.items\r\n\t\tbankacc.forEach(item => {\r\n\t\t\tif(item.attrcode == 'areacode') {\r\n\t\t\t\titem.queryCondition = function() {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpk_defdoclist: '1001ZZ10000000009031'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\t//三个子表应该没有删除的行操作列--财务信息、采购信息、供应商银行账户\r\n\t\tlet noDelCardTables = ['purchase','finance','supbankacc']\r\n\t\ttableIds.forEach(item => {\r\n\t\t\tlet porCol = {\r\n\t\t\t\titemtype: 'customer',\r\n\t\t\t\tattrcode: 'opr',\r\n\t\t\t\tlabel: this.state.json['10140SPF-000019'],/* 国际化处理： 操作*/\r\n\t\t\t\tvisible: true,\r\n\t\t\t\tclassName:'table-opr',\r\n\t\t\t\twidth:200,\r\n\t\t\t\tfixed:'right',\r\n\t\t\t\trender: (text, record, index) => {\r\n\t\t\t\t\tlet mainFormStatus = props.form.getFormStatus(this.formId)\r\n\t\t\t\t\tlet status = props.cardTable.getStatus(item);\r\n\t\t\t\t\tlet areaCode = item == 'finance' ? 'fi-row-action' : 'pur-row-action'\r\n\t\t\t\t\t// if(mainFormStatus == 'browse' && (item == 'fiance' || item == 'purchase')) {\r\n\t\t\t\t\t// \treturn props.button.createOprationButton(\r\n\t\t\t\t\t// \t\tbtnArray,\r\n\t\t\t\t\t// \t\t{\r\n\t\t\t\t\t// \t\t\tarea: areaCode,\r\n\t\t\t\t\t// \t\t\tbuttonLimit: 3,\r\n\t\t\t\t\t// \t\t\tonButtonClick: (props, id) => this.tableButtonClick(props, id, text, record, index)\r\n\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t// \t)\r\n\t\t\t\t\t// }\r\n\t\t\t\t\treturn status === 'browse' ? (\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tprops.cardTable.toggleRowView(item, record)\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t> {this.state.json['10140SPF-000038']/* 国际化处理： 展开*/}\r\n\t\t\t\t\t\t </span>\r\n\t\t\t\t\t):(<div className=\"currency-opr-col\">\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"currency-opr-del\"\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tprops.cardTable.openModel(item, 'edit', record, index);\r\n\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>{this.state.json['10140SPF-000039']/* 国际化处理： 更多*/}</span>\r\n\t\t\t\t\t\t\t&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t{noDelCardTables.indexOf(item) >= 0 ? '' : <span\r\n\t\t\t\t\t\t\t\tclassName=\"currency-opr-del\"\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tprops.cardTable.delRowsByIndex(item, index);\r\n\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>{this.state.json['10140SPF-000040']/* 国际化处理： 删除*/}</span>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tmeta[item].items.push(porCol);\r\n\t\t})\r\n\t\r\n\t\t//银行账户模态框当中的卡片界面，对币种自曝添加一个删行操作列\r\n\t\tlet deleteCur = {\r\n\t\t\titemtype: 'customer',\r\n\t\t\tattrcode: 'opr',\r\n\t\t\tlabel: this.state.json['10140SPF-000019'],/* 国际化处理： 操作*/\r\n\t\t\tvisible: true,\r\n\t\t\tclassName:'table-opr',\r\n\t\t\twidth:200,\r\n\t\t\tfixed:'right',\r\n\t\t\trender: (text, record, index) => {\r\n\t\t\t\tlet status = props.cardTable.getStatus('bankaccsub')\r\n\t\t\t\treturn status === 'browse' ? (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tprops.cardTable.toggleRowView('bankaccsub', record)\r\n\t\t\t\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t> {this.state.json['10140SPF-000038']/* 国际化处理： 展开*/}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t):\r\n\t\t\t\t\t(<div className=\"currency-opr-col\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"currency-opr-del\"\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\tprops.cardTable.delRowsByIndex('bankaccsub', index);\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>{this.state.json['10140SPF-000040']/* 国际化处理： 删除*/}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\tmeta['bankaccsub'].items.push(deleteCur);\r\n\t\treturn meta;\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tlet callback = (json) => {\r\n            this.setState({json}, () => {\r\n\t\t\t\tthis.initTemplate(this.props)\r\n\t\t\t})\r\n        }\r\n\t\tgetMultiLang({moduleId: '10140SPF', domainName: 'uapbd',callback})\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.form.setFormStatus(this.formId,'edit')\r\n\t\tlet status = this.props.getUrlParam('status');\r\n\t\tlet vBillStatus = -1\r\n\t\tif(status != \"add\"){\r\n\t\t\t//this.props.cardPagination.setCardPaginationId({id: this.props.getUrlParam('id'),status: 0})\r\n\t\t\tlet pk = this.props.getUrlParam('id')\r\n\t\t\tthis.getdata(pk, (billStatus) => {\r\n\t\t\t\ttoggleShow(this.props, billStatus)\r\n\t\t\t\tthis.updateSpeTableBtnStatus(billStatus,status) \t//更新财务采购两个子表的按钮状态\r\n\r\n\t\t\t\t//为了应对供应商联查，供应商申请单隐藏所有的按钮\r\n\t\t\t\tif(this.props.getUrlParam('hideButton')) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tbackVisible: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//设置一下是否可编辑两个编码\r\n\t\t\t\tlet codeedit = this.props.getUrlParam(\"codeedit\")\r\n                let vbillnumedit = this.props.getUrlParam(\"vbillnumedit\")\r\n\t\t\t\tif(status == 'edit') {\r\n\t\t\t\t\tthis.props.form.setFormItemsDisabled(this.formId,{vbillno: !vbillnumedit})\r\n\t\t\t\t\tthis.props.form.setFormItemsDisabled(\"supplier_baseInfo\",{code: !codeedit})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse{\r\n\t\t\tajax({\r\n\t\t\t\turl: addUrl,\r\n\t\t\t\tdata:{},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.props.form.setAllFormValue({supplier_baseInfo: res.data.supplier_baseInfo})\r\n\t\t\t\t\tthis.updateSpeTableBtnStatus(-1,'edit') \t//更新财务采购两个子表的按钮状态\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tthis.setDefaultValue();\r\n\t\t\ttoggleShow(this.props, vBillStatus)\r\n\t\t}\r\n\r\n\t\t//供应商申请单返回按钮设置不可见(如果是从列表新增或者修改进入)\r\n\t\tif(status != 'browse') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbackVisible: false\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tajax({\r\n\t\t\turl: queryGroupUrl,\r\n\t\t\tdata: {},\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tthis.groupInfo = res.data\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tupdateSpeTableBtnStatus(vbillstatus = -1,mainFormStatus = 'browse',speTableStatus = {finance: 'browse',purchase: 'browse'}) {\r\n\t\tlet speTableIds = ['finance','purchase']\r\n\t\tlet speTableBtnPre = ['Finan','Pur']\t//财务信息和采购信息按钮前缀\r\n\t\tlet speBtnObj = {}\r\n\r\n\t\tspeTableIds.forEach((item, index) => {\r\n\t\t\tlet tableStatus = speTableStatus[item]\r\n\t\t\tif(mainFormStatus == 'edit' || mainFormStatus == 'add' || vbillstatus != -1) {\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Edit`] = false\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Save`] = false\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Cancel`] = false\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Refresh`] = false\r\n\t\t\t}\r\n\t\t\telse if(tableStatus == 'edit' || tableStatus == 'add') {\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Edit`] = false\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Save`] = true\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Cancel`] = true\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Refresh`] = false\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Edit`] = true\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Save`] = false\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Cancel`] = false\r\n\t\t\t\tspeBtnObj[`${speTableBtnPre[index]}Refresh`] = true\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.props.button.setButtonVisible(speBtnObj);\r\n\t}\r\n\r\n\tsetDefaultValue = (orgInfo) => {\r\n\t\tthis.props.form.setFormItemsValue(this.formId,{'bill_status':{value:'0',display: this.state.json['10140SPF-000021']}});/* 国际化处理： 自由态*/\r\n\t\tthis.props.form.setFormItemsValue(this.formId,{'vgoalorg':{value:'0',display: this.state.json['10140SPF-000022']}});/* 国际化处理： 本组织*/\r\n\t\tif(orgInfo) {\r\n\t\t\tthis.props.form.setFormItemsValue(this.formId,{'pk_org':{value:orgInfo.pk_org,display:orgInfo.orgName}});\r\n\t\t\tthis.afterEvent(this.props,this.formId,'pk_org',{value: orgInfo.pk_org, display: orgInfo.orgName})\r\n\t\t}\r\n\t}\r\n\r\n\tpfProcess(url) {\r\n\t\tlet data = null\r\n\t\tlet finalData = []\r\n\t\tfinalData.push(this.props.getUrlParam('id'))\r\n\t\tif(url == commitUrl) {\r\n\t\t\tdata = {\r\n\t\t\t\tpks: finalData,\r\n\t\t\t\tcontent: null\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdata = finalData\r\n\t\t}\r\n\t\tajax({\r\n\t\t\turl,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tif(res && res.data) {\r\n\t\t\t\t\ttoast({color: 'danger',content: res.data})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlet billStatus = this.getdata(this.props.getUrlParam('id'))\r\n\t\t\t\t\ttoggleShow(this.props, billStatus)\r\n\t\t\t\t\tthis.updateSpeTableBtnStatus(billStatus,'browse') \t//更新财务采购两个子表的按钮状态\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n    buttonClick =(props, id)=>{\r\n\r\n        let _this = this;\r\n        switch (id) {\r\n\t\tcase 'Add':\r\n\t\t\tlet canEdit = true;\r\n\t\t\tlet rejTableIds = ['purchase','finance']\r\n\t\t\trejTableIds.forEach(item => {\r\n\t\t\t\tif(props.cardTable.getStatus(item) == 'edit') {\r\n\t\t\t\t\tif(canEdit) {\r\n\t\t\t\t\t\ttoast({color:\"warning\",content: this.state.json['10140SPF-000058\"']});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcanEdit = false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tif(!canEdit) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet pk_org = getDefData('lastPkOrg',dataSource)\r\n\t\t\tlet data= {}\r\n\t\t\tajax({\r\n\t\t\t\turl: addUrl,\r\n\t\t\t\tdata: data,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.props.form.setAllFormValue({supplier_baseInfo: res.data.supplier_baseInfo})\r\n\t\t\t\t\tthis.props.form.setItemsVisible(formId, {applyType: false})\r\n\t\t\t\t\t//this.props.form.setFormItemsDisabled(formId, {apply_type: false})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tprops.form.EmptyAllFormValue(this.formId)\r\n\t\t\tsetTimeout(() => props.cardTable.setTableData('suplinkman',{rows:[]}),1)\r\n\t\t\tsetTimeout(() => props.cardTable.setTableData('purchase',{rows:[]}),1)\r\n\t\t\tsetTimeout(() => props.cardTable.setTableData('supbankacc',{rows:[]}),1)\r\n\t\t\tsetTimeout(() => props.cardTable.setTableData('supcountrytaxes',{rows:[]}),1)\r\n\t\t\tsetTimeout(() => props.cardTable.setTableData('finance',{rows:[]}),1)\r\n\t\t\tprops.pushTo('/card', {\r\n\t\t\t\tstatus: 'add'\r\n\t\t\t})\r\n\t\t\ttoggleShow(this.props)\r\n\t\t\tthis.updateSpeTableBtnStatus(-1,'edit') \t//更新财务采购两个子表的按钮状态\r\n\r\n\t\t\t//特殊设置一下返回按钮的可见性\r\n\t\t\tthis.setState({\r\n\t\t\t\tbackVisible: false\r\n\t\t\t})\r\n\t\t\tbreak;\r\n\t\tcase 'Edit':\r\n\t\t\tlet primaryKey = props.getUrlParam('id')\r\n\t\t\tcanEdit = true;\r\n\t\t\trejTableIds = ['purchase','finance']\r\n\t\t\trejTableIds.forEach(item => {\r\n\t\t\t\tif(props.cardTable.getStatus(item) == 'edit') {\r\n\t\t\t\t\ttoast({color:\"warning\",content: this.state.json['10140SPF-000058\"']});\r\n\t\t\t\t\tcanEdit = false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tif(!canEdit) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tajax({\r\n\t\t\t\turl: checkDataPermUrl,\r\n\t\t\t\tdata: {pks: [primaryKey]},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tprops.pushTo('/card', {\r\n\t\t\t\t\t\tstatus: 'edit',\r\n\t\t\t\t\t\tid: props.getUrlParam('id')\r\n\t\t\t\t\t})\r\n\t\t\t\t\ttoggleShow(this.props)\r\n\t\t\t\t\tthis.updateSpeTableBtnStatus(-1,'edit') \t//更新财务采购两个子表的按钮状态\r\n\t\t\r\n\t\t\t\t\t//根据返回的数据设置一下两个编码是否可编辑\r\n\t\t\t\t\tif(res.data) {\r\n\t\t\t\t\t\tthis.props.form.setFormItemsDisabled(this.formId,{vbillno: !res.data.vbillnumedit})\r\n\t\t\t\t\t\tthis.props.form.setFormItemsDisabled(\"supplier_baseInfo\",{code: !res.data.codeedit})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//特殊设置一下返回按钮的可见性\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tbackVisible: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.props.form.setFormItemsDisabled(formId, {update_sup: false})\r\n\t\t\t\t\t//同时设置一下修改供应商字段的参照过滤条件\r\n\t\t\t\t\tlet meta = this.props.meta.getMeta()\r\n\t\t\t\t\tlet orgValue = this.props.form.getFormItemsValue(formId, 'pk_org')\r\n\t\t\t\t\tmeta[formId].items.find(item => item.attrcode == 'update_sup').queryCondition = () => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tpk_org: orgValue.value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tbreak;\r\n\t\tcase 'Save':\r\n\t\t\tthis.saveClick(props)\r\n\t\t\tbreak;\r\n\t\tcase 'Delete':\r\n\t\t\t//props.modal.show('delete')\r\n\t\t\tpromptBox({\r\n\t\t\t\tcolor: 'warning',               // 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n\t\t\t\ttitle: this.state.json['10140SPF-000023'],                // 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 注意*/\r\n\t\t\t\tcontent: this.state.json['10140SPF-000024'],             // 提示内容,非必输/* 国际化处理： 确认删除？*/\r\n\t\t\t\tnoFooter: false,                // 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n\t\t\t\tnoCancelBtn: false,             // 是否显示取消按钮,，默认显示(false),非必输\r\n\t\t\t\tbeSureBtnName: this.state.json['10140SPF-000010'],          // 确定按钮名称, 默认为\"确定\",非必输/* 国际化处理： 确定*/\r\n\t\t\t\tcancelBtnName: this.state.json['10140SPF-000011'],           // 取消按钮名称, 默认为\"取消\",非必输/* 国际化处理： 取消*/\r\n\t\t\t\tbeSureBtnClick: this.delConfirm.bind(this)   // 确定按钮点击调用函数,非必输\r\n\t\t\t})\r\n\t\t\tbreak\r\n        case 'Back':\r\n            props.pushTo('/list', {})\r\n            break\r\n        case 'Refresh':\r\n            this.getdata(this.props.getUrlParam('id'),() => {\r\n\t\t\t\ttoast({content:this.state.json['10140SPF-000025'],color:'success'});/* 国际化处理： 刷新成功*/\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\tcase 'Commit':\r\n\t\t\tajax({\r\n\t\t\t\turl: commitUrl,\r\n\t\t\t\tdata: {content: null, pks: [this.props.getUrlParam('id')]},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t// this.getdata(this.props.getUrlParam('id'))\r\n\t\t\t\t\t// toggleShow(this.props)\r\n\r\n\t\t\t\t\tif(res.data && res.data.workflow && (res.data.workflow == 'approveflow'|| res.data.workflow == 'workflow')) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tcompositedata: res.data,\r\n\t\t\t\t\t\t\tcompositedisplay: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else if(res.data) {\r\n\t\t\t\t\t\t//提交即通过的时候，如果异常信息不为空，那么提示该异常信息\r\n\t\t\t\t\t\ttoast({color: 'warning',content: res.data})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttoast({ color: 'success', content: this.state.json['10140SPF-000026'] });/* 国际化处理： 提交成功*/\r\n\t\t\t\t\t\tthis.getdata(this.props.getUrlParam(\"id\"),(billStatus) => {\r\n\t\t\t\t\t\t\ttoggleShow(this.props,billStatus)\r\n\t\t\t\t\t\t\tthis.updateSpeTableBtnStatus(billStatus) \t//更新财务采购两个子表的按钮状态\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t//toggleShow(this.props)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\tcase 'Callback':\r\n\t\t  \tthis.pfProcess(callbackUrl)\r\n\t\t\tbreak;\r\n\t\tcase 'Cancel':\r\n\t\t\t//props.modal.show('cancel')\r\n\t\t\tpromptBox({\r\n\t\t\t\tcolor: 'warning',               // 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n\t\t\t\ttitle: this.state.json['10140SPF-000027'],                // 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 确认取消*/\r\n\t\t\t\tcontent: this.state.json['10140SPF-000028'],             // 提示内容,非必输/* 国际化处理： 是否确认要取消？*/\r\n\t\t\t\tnoFooter: false,                // 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n\t\t\t\tnoCancelBtn: false,             // 是否显示取消按钮,，默认显示(false),非必输\r\n\t\t\t\tbeSureBtnName: this.state.json['10140SPF-000010'],          // 确定按钮名称, 默认为\"确定\",非必输/* 国际化处理： 确定*/\r\n\t\t\t\tcancelBtnName: this.state.json['10140SPF-000011'],           // 取消按钮名称, 默认为\"取消\",非必输/* 国际化处理： 取消*/\r\n\t\t\t\tbeSureBtnClick: this.onCancelSureClick.bind(this)   // 确定按钮点击调用函数,非必输\r\n\t\t\t})\r\n\t\t\tbreak;\r\n\t\tcase 'Bankacc':\r\n\t\t    props.modal.show('bankaccList');\r\n\t\t\tbreak;\r\n\t\tcase 'ApprDetail':\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowApprInfo: true\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\tcase 'AddLinesuplinkman':\r\n\t\t\tprops.cardTable.addRow('suplinkman')\r\n\t\t\tbreak;\r\n\t\tcase 'AddLinesupcountrytaxes':\r\n\t\t\tprops.cardTable.addRow('supcountrytaxes')\r\n\t\t\tbreak;\r\n\t\tcase 'Print':\r\n\t\t\tthis.output('print')\r\n\t\t\tbreak;\r\n\t\tcase 'Output':\r\n\t\t\tlet pks = [];\r\n\t\t\tpks.push(this.props.getUrlParam('id'))\r\n\t\t\tthis.setState({\r\n\t\t\t\tpks\r\n\t\t\t},() => {\r\n\t\t\t\tthis.refs.printOutput.open()\r\n\t\t\t})\r\n\t\t\tbreak;\r\n\t\tcase 'Attach':\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowUploader: true\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\tcase 'FinanEdit':\r\n\t\t\tif(this.props.cardTable.getStatus('purchase') == 'edit') {\r\n\t\t\t\ttoast({color: 'warning', content: this.state.json['10140SPF-000059']})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.props.cardTable.setStatus('finance','edit');\r\n\t\t\tthis.updateSpeTableBtnStatus(-1,'browse',{finance: 'edit',purchase: 'browse'}) \t//更新财务采购两个子表的按钮状态\r\n\t\t\t//this.props.button.setButtonVisible({FinanEdit: false,FinanSave: true,FinanCancel: true})\r\n\t\t\tbreak\r\n\t\tcase 'PurEdit':\r\n\t\t\tif(this.props.cardTable.getStatus('finance') == 'edit') {\r\n\t\t\t\ttoast({color: 'warning', content: this.state.json['10140SPF-000060']})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.props.cardTable.setStatus('purchase','edit');\r\n\t\t\tthis.updateSpeTableBtnStatus(-1,'browse',{finance: 'browse',purchase: 'edit'}) \t//更新财务采购两个子表的按钮状态\r\n\t\t\t//this.props.button.setButtonVisible({PurEdit: false,PurSave: true,PurCancel: true})\r\n\t\t\tbreak\r\n\t\tcase 'FinanSave':\r\n\t\t\tlet finalData = {}\r\n\t\t\tlet mainFormData = props.form.getAllFormValue(this.formId)\r\n\t\t\tlet baseInfoData = props.form.getAllFormValue('supplier_baseInfo')\r\n\t\t\tif(baseInfoData.rows[0].values.hasOwnProperty('status'))\r\n\t\t\t\tdelete baseInfoData.rows[0].values.status\r\n\t\t\tfinalData.supplierPfVO = mainFormData\r\n\t\t\tfinalData.supplierVO = baseInfoData\r\n\t\t\ttableIds.forEach(item => {\r\n\t\t\t\tfinalData[item] = props.cardTable.getAllRows(item)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tajax({\r\n\t\t\t\turl: updateUrl,\r\n\t\t\t\tdata: finalData,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tprops.pushTo('/card', {\r\n\t\t\t\t\t\tstatus: 'browse',\r\n\t\t\t\t\t\tid: res.data\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.bankaccConfig.mainPk = res.data\r\n\t\t\t\t\tlet vBillStatus = this.getdata(res.data)\r\n\t\t\t\t\tthis.updateSpeTableBtnStatus() \t//更新财务采购两个子表的按钮状态\r\n\t\t\t\t\t//this.props.button.setButtonVisible({FinanEdit: true,FinanSave: false,FinanCancel: false})\r\n\t\t\t\t\t//特殊设置一下返回按钮的可见性\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tbackVisible: true\r\n\t\t\t\t\t})\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.props.cardTable.setStatus('finance','browse');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\tcase 'PurSave':\r\n\t\t\tfinalData = {}\r\n\t\t\tmainFormData = props.form.getAllFormValue(this.formId)\r\n\t\t\tbaseInfoData = props.form.getAllFormValue('supplier_baseInfo')\r\n\t\t\tif(baseInfoData.rows[0].values.hasOwnProperty('status'))\r\n\t\t\t\tdelete baseInfoData.rows[0].values.status\r\n\t\t\tfinalData.supplierPfVO = mainFormData\r\n\t\t\tfinalData.supplierVO = baseInfoData\r\n\t\t\ttableIds.forEach(item => {\r\n\t\t\t\tfinalData[item] = props.cardTable.getAllRows(item)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tajax({\r\n\t\t\t\turl: updateUrl,\r\n\t\t\t\tdata: finalData,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tprops.pushTo('/card', {\r\n\t\t\t\t\t\tstatus: 'browse',\r\n\t\t\t\t\t\tid: res.data\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.bankaccConfig.mainPk = res.data\r\n\t\t\t\t\tlet vBillStatus = this.getdata(res.data)\r\n\t\t\t\t\tthis.updateSpeTableBtnStatus() \t//更新财务采购两个子表的按钮状态\r\n\t\t\t\t\t//this.props.button.setButtonVisible({PurEdit: true,PurSave: false,PurCancel: false})\r\n\t\t\t\t\t//特殊设置一下返回按钮的可见性\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tbackVisible: true\r\n\t\t\t\t\t})\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.props.cardTable.setStatus('purchase','browse');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\tcase 'FinanCancel':\r\n\t\t\tthis.props.cardTable.resetTableData('finance');\r\n\t\t\tthis.props.cardTable.setStatus('finance','browse')\r\n\t\t\tthis.updateSpeTableBtnStatus() \t//更新财务采购两个子表的按钮状态\r\n\t\t\t//this.props.button.setButtonVisible({FinanEdit: true,FinanSave: false,FinanCancel: false})\r\n\t\t\tbreak\r\n\t\tcase 'PurCancel':\r\n\t\t\tthis.props.cardTable.resetTableData('purchase');\r\n\t\t\tthis.props.cardTable.setStatus('purchase','browse')\r\n\t\t\tthis.updateSpeTableBtnStatus() \t//更新财务采购两个子表的按钮状态\r\n\t\t\t//this.props.button.setButtonVisible({PureEdit: true,PurSave: false,PurCancel: false})\r\n\t\t\tbreak\r\n\t\tcase 'FinanRefresh':\r\n\t\t\tthis.getdata(this.props.getUrlParam(\"pk\"), null, 'finance');\r\n\t\t\tbreak;\r\n\t\tcase 'PurRefresh':\r\n\t\t\tthis.getdata(this.props.getUrlParam(\"pk\"), null, 'purchase');\r\n\t\t\tbreak;\r\n        default:\r\n            break\r\n        }\r\n\t}\r\n\r\n\tonHideUploader = () => {\r\n        this.setState({\r\n            showUploader: false\r\n        })\r\n    }\r\n\r\n    beforeUpload(billId, fullPath, file, fileList) {  \r\n        // const isJPG = file.type === 'image/jpeg';\r\n        // if (!isJPG) {\r\n        //     alert(this.state.json['10140SPF-000029'])/* 国际化处理： 只支持jpg格式图片*/\r\n        // }\r\n\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\t\t\r\n\t\t//停用和启用类型不允许上传附件\r\n\t\tif(this.applyType != '' && this.applyType != 1 && this.applyType != 2) {\r\n\t\t\ttoast({color: 'warning',content: \"启用和停用申请单不允许编辑附件！\"})\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n        if (!isLt2M) {\r\n            alert(this.state.json['10140SPF-000030'])/* 国际化处理： 上传大小小于2M*/\r\n        }\r\n        return isLt2M;\r\n        // 备注： return false 不执行上传  return true 执行上传\r\n\t}\r\n\t\r\n\tbeforeDelete() {\r\n\t\tif(this.state.applyType != '' && this.state.applyType != 1 && this.state.applyType != 2) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\r\n\t\r\n\toutput(type=''){\r\n        let pks = [];\r\n\t\tpks.push(this.props.getUrlParam('id'))\r\n        //原NC两个节点使用同一个打印模板，轻量端暂时也不做区分，传同一个编码\r\n        if(type!=''){\r\n            //打印\r\n            print(\r\n                'pdf',\r\n                printUrl,\r\n                {\r\n                    funcode:/*this.props.config.funcode*/'10140SPF',     //功能节点编码\r\n                    nodekey:'suppfcard',     //模板节点标识\r\n                    oids:pks,\r\n                    outputType:type\r\n                }\r\n            )\r\n        }\r\n    }\r\n\t\r\n    pageInfoClick=(props, pk)=>{\r\n\t\tthis.getDataForCache(pk)\r\n    }\r\n\r\n\tafterEvent(props, moduleId, key,value, oldValue) {\r\n\t\t//新增一段业务逻辑：修改，停启用也走申请单，加了两个字段，申请类型以及修改申请单\r\n\t\t//当修改类型不是新增的时候，显示修改供应商字段，并且加载相应的供应商信息到界面上来\r\n\t\tif(key == 'apply_type') {\r\n\r\n\t\t\t//如果是申请类型有新增改为其他类型，那么需要将原有的供应商基本信息当中的编码退掉\r\n\t\t\tif((oldValue.value == 1 || oldValue.value == '') && value.value != '' && value.value != 1 && this.supCode) {\r\n\t\t\t\tlet orgValue = this.props.form.getFormItemsValue('supplier_baseInfo', 'pk_org')\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: exFieldUrl,\r\n\t\t\t\t\tdata: {operation: 'rollbackSupCode', supCode: this.supCode, pk_org: orgValue.value}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse if((value.value == 1 || value.value == '') && oldValue.value != '' && oldValue.value != 1) {\r\n\t\t\t\t//重新切换回新增的时候，重新构建一下新增的数据\r\n\t\t\t\tthis.props.form.setFormItemsValue(formId, {\"vgoalorg\": {value: null, display: null}})\r\n\t\t\t\t\r\n\t\t\t\tlet orgValue = this.props.form.getFormItemsValue(formId, 'pk_org')\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: exFieldUrl,\r\n\t\t\t\t\tdata: {operation: 'applyTypeAdd', pk_org: orgValue.value},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif(res.success && res.data) {\r\n\t\t\t\t\t\t\tthis.supCode = res.data.supCode\r\n\t\t\t\t\t\t\tthis.hasSupCode = res.data.hasSupCode\r\n\t\t\t\t\t\t\tthis.props.form.setAllFormValue({supplier_baseInfo: res.data.baseInfo.supplier_baseInfo})\r\n\t\t\t\t\t\t\tthis.props.form.setFormItemsValue('supplier_baseInfo', {code: {value:res.data.supCode,display: res.data.supCode}})\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t//设置修改供应商字段可见性\r\n\t\t\tthis.props.form.setItemsVisible(formId, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"update_sup\" : value.value && value.value != 1, \r\n\t\t\t\t\t\"vgoalorg\": !value.value || value.value == 1\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\tthis.props.form.setFormItemsDisabled(formId, {\r\n\t\t\t\t\"update_sup\": value.value && value.value == 1\r\n\t\t\t})\r\n\t\t\tif(value.value == 3 || value.value == 4) {\r\n\t\t\t\tthis.props.form.setFormStatus('supplier_baseInfo', 'browse')\r\n\t\t\t\ttableIds.forEach(item => {\r\n\t\t\t\t\tthis.props.cardTable.setStatus(item, 'browse')\r\n\t\t\t\t})\r\n\r\n\t\t\t\t//设置一下供应商国家税类和供应商联系人不能新增\r\n\t\t\t\tthis.props.button.setButtonVisible(['AddLinesuplinkman','AddLinesupcountrytaxes'], false)\r\n\t\t\t}\r\n\t\t\telse if(value.value == 1 || value.value == 2){\r\n\t\t\t\tthis.props.form.setFormStatus('supplier_baseInfo', 'edit')\r\n\t\t\t\tlet nApplTypeEditTableIds = ['supbankacc','supcountrytaxes','suplinkman']\r\n\t\t\t\tnApplTypeEditTableIds.forEach(item => {\r\n\t\t\t\t\tthis.props.cardTable.setStatus(item, 'edit')\r\n\t\t\t\t})\r\n\t\t\t\tthis.props.button.setButtonVisible(['AddLinesuplinkman','AddLinesupcountrytaxes'], true)\r\n\t\t\t}\r\n\r\n\t\t\t//非新增时财务和采购信息子表不能够编辑\r\n\t\t\tlet showFAndS = !value.value || value.value == 1\r\n\t\t\tthis.setState({showFAndS, bankCanEdit: value.value != 3 && value.value != 4})\r\n\t\t}\r\n\t\telse if(key == 'update_sup') {\r\n\t\t\t//获取相关供应商的数据并且展示到界面上\r\n\t\t\tlet requestData = {\r\n\t\t\t\toperation: 'updateSupplier',\r\n\t\t\t\tpk_supplier: value.value\r\n\t\t\t}\r\n\t\t\tajax({\r\n\t\t\t\turl: exFieldUrl,\r\n\t\t\t\tdata: requestData,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data && res.data.head) {\r\n\t\t\t\t\t\tlet formData = {\r\n\t\t\t\t\t\t\t//这儿就不设置SupplierPfVO的数据了，因为从供应商来的数据没有这些数据，这部分应该由客户填写\r\n\t\t\t\t\t\t\t\"supplier_baseInfo\": res.data['supplierBaseInfo']['supplier_baseInfo']\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.props.form.setAllFormValue(formData)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data && res.data.bodys) {\r\n\t\t\t\t\t\ttableIds.forEach(tableId => {\r\n\t\t\t\t\t\t\tlet isSet = false\r\n\t\t\t\t\t\t\tres.data.bodys.forEach((item, index) => {\r\n\t\t\t\t\t\t\t\tif(item.hasOwnProperty(tableId)) {\r\n\t\t\t\t\t\t\t\t\tisSet = true\r\n\t\t\t\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,res.data.bodys[index][tableId])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tif(!isSet) {\r\n\t\t\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,{rows: []})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttableIds.forEach((tableId) => {\r\n\t\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,{rows: null})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\tlet goalOrg = props.form.getFormItemsValue(this.formId,'vgoalorg')\r\n\t\t//所属组织\r\n\t\tlet belongedOrg = props.form.getFormItemsValue(this.formId,'pk_org')\r\n\t\tif((key == 'vgoalorg' || key == 'pk_org') && moduleId == 'supplierPf' && value.value && goalOrg.value) {\r\n\t\t\tif(goalOrg.value == 1) {\r\n\t\t\t\t//集团\r\n\t\t\t\tbelongedOrg = this.groupInfo\r\n\t\t\t}\r\n\t\t\telse if(goalOrg.value == 2) {\r\n\t\t\t\tbelongedOrg = {\r\n\t\t\t\t\tvalue: 'GLOBLE00000000000000',\r\n\t\t\t\t\tdisplay: this.state.json['10140SPF-000031']/* 国际化处理： 全局*/\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tprops.form.setFormItemsValue('supplier_baseInfo',{\"pk_org\": belongedOrg})\r\n\r\n\t\t\t//记录一下上次选择的组织，下次自动带出\r\n\t\t\tthis.lastOrg = value.value\r\n\t\t\tthis.lastOrgName = value.display\r\n\r\n\t\t\t//四个字段需要根据供应商基本信息的pk_org字段进行参照\r\n\t\t\tlet meta = this.props.meta.getMeta()\r\n\t\t\tlet needOrgItems = ['pk_areacl','pk_supplierclass','pk_supplier_main','corcustomer'];\r\n\t\t\tneedOrgItems.forEach(key => {\r\n\t\t\t\tlet tempItem = meta[\"supplier_baseInfo\"].items.find(item => item.attrcode == key)\r\n\t\t\t\ttempItem.queryCondition = () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpk_org: belongedOrg.value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t//供应商的修改，停启用走申请单 -- 修改供应商字段需要根据组织进行过滤\r\n\t\t\tif(key == 'pk_org') {\r\n\t\t\t\tmeta[formId].items.find(item => item.attrcode == 'update_sup').queryCondition = () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpk_org: belongedOrg.value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.props.meta.setMeta(meta)\r\n\t\t}\r\n\t\tif(key == 'pk_org' && moduleId == 'supplierPf') {\r\n\t\t\tlet pk_org = belongedOrg\r\n\t\t\tsetDefData('lastPkOrg',dataSource,pk_org)\r\n\t\t\tajax({\r\n\t\t\t\turl: exFieldUrl,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpk_org: pk_org.value,\r\n\t\t\t\t\toperation: 'getCode',\r\n\t\t\t\t\tpreCode: this.vbillcode\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t//将获取到的单据编码以及相关组织记录到this当中\r\n\t\t\t\t\t//避免用户将组织或者单据编码删掉之后回退单据编码时出问题\r\n\t\t\t\t\tthis.vbillcode = res.data.code\r\n\t\t\t\t\tthis.pk_org = pk_org.value\r\n\t\t\t\t\tthis.hasPreCode = res.data.hasPreCode\r\n\t\t\t\t\tthis.props.form.setFormItemsValue('supplierPf',{vbillno:{value:res.data.code,display:res.data.code}})\r\n\t\t\t\t\tthis.props.form.setFormItemsDisabled('supplierPf',{vbillno: !res.data.editable})\r\n\r\n\t\t\t\t\t//同时设置一下供应商编码，如果存在供应商编码\r\n\t\t\t\t\tif(res.data.supCode) {\r\n\t\t\t\t\t\tthis.props.form.setFormItemsValue(\"supplier_baseInfo\",{code: {value:res.data.supCode,display: res.data.supCode}})\r\n\t\t\t\t\t\tthis.props.form.setFormItemsDisabled(\"supplier_baseInfo\",{code: !res.data.codeEditable})\r\n\t\t\t\t\t\tif(res.data.hasSupCode) {\r\n\t\t\t\t\t\t\tthis.supCode = res.data.supCode\r\n\t\t\t\t\t\t\tthis.hasSupCode = res.data.hasSupCode\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.pfOrg = value.value\r\n\t\t\t\t\tthis.pfOrgName = value.refname || value.display\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\t//根据供应商类型来判定是否能够编辑对应业务单元字段\r\n\t\telse if(key == 'supprop' && moduleId == 'supplier_baseInfo') {\r\n\t\t\tif(value.value != oldValue.value) {\r\n\t\t\t\tif(value.value == 0) {\r\n\t\t\t\t\tthis.props.form.setFormItemsDisabled('supplier_baseInfo',{pk_financeorg: true})\r\n\t\t\t\t\tthis.props.form.setFormItemsValue('supplier_baseInfo',{pk_financeorg: {value: null, display: null}})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.props.form.setFormItemsDisabled('supplier_baseInfo',{pk_financeorg: false})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetTableHead(tableId) {\r\n\t\tlet {createButtonApp} = this.props.button\r\n\t\treturn (\r\n\t\t\t<div className=\"shoulder-definition-area\">\r\n\t\t\t\t<div className=\"definition-icons\" style={{padding: '0px'}}>\r\n\t\t\t\t\t{createButtonApp({\r\n\t\t\t\t\t\tarea: `${tableId}-action`,//按钮注册中的按钮区域\r\n\t\t\t\t\t\tonButtonClick: this.buttonClick.bind(this)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t//通过单据id查询单据信息\r\n\tgetdata = (pk,callback, speTableIds = []) =>{\r\n\t\tlet data = {pk};\r\n\t\tlet retBillStatus = null\r\n\t\tajax({\r\n\t\t\turl: queryCardUrl,\r\n\t\t\tdata,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\t//特殊子表的刷新操作\r\n\t\t\t\tif(res.data && res.data.bodys && speTableIds.length > 0) {\r\n\t\t\t\t\tres.data.bodys.forEach((item, index) => {\r\n\t\t\t\t\t\tspeTableIds.forEach((tableId) => {\r\n\t\t\t\t\t\t\tif(item.hasOwnProperty(tableId)) {\r\n\t\t\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,res.data.bodys[index][tableId])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,{rows: []})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (res.data && res.data.head) {\r\n\t\t\t\t\tlet formData = {\r\n\t\t\t\t\t\t[this.formId]: res.data.head[this.formId],\r\n\t\t\t\t\t\t\"supplier_baseInfo\": res.data['supplierBaseInfo']['supplier_baseInfo']\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.props.form.setAllFormValue(formData)\r\n\r\n\t\t\t\t\t//放入缓存\r\n\t\t\t\t\tupdateCache(pk_item,res.data.head[formId].rows[0].values[pk_item].value,res.data,formId,dataSource);\r\n\r\n\t\t\t\t\tretBillStatus = res.data.head[formId].rows[0].values.vbillstatus.value\r\n\r\n\t\t\t\t\t//特使控制一下是否显示财务信息以及采购信息两个子表的数据\r\n\t\t\t\t\tlet applyType = res.data.head[formId].rows[0].values.apply_type.value\r\n\t\t\t\t\tlet showFAndS = applyType != 2 && applyType != 3 & applyType != 4\r\n\t\t\t\t\t//设置一下审批详情组件所需的组件\r\n\t\t\t\t\t//设置是否显示财务和采购两个字表，以及银行账户字表是否显示\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tbillId: res.data.head[formId].rows[0].values[pk_item].value,\r\n\t\t\t\t\t\tshowFAndS: showFAndS,\r\n\t\t\t\t\t\tapplyType: applyType\t//在银行账户两个界面当中根据这个字段判定是否允许修改\r\n\t\t\t\t\t})\r\n\t\t\t\t\t//特殊控制一下， 根据申请类型决定显示那些字段\r\n\t\t\t\t\tthis.props.form.setItemsVisible(formId, {vgoalorg: showFAndS, update_sup: !showFAndS})\r\n\r\n\t\t\t\t\t//特殊设置一下，将申请类型保存下来，方便上传附件的时候做判定\r\n\t\t\t\t\tthis.applyType = applyType\r\n\r\n\t\t\t\t\t//特殊控制一下，申请类型字段只有在新增的时候能够编辑\r\n\t\t\t\t\tthis.props.form.setFormItemsDisabled(formId, {apply_type: true})\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data && res.data.bodys) {\r\n\t\t\t\t\tres.data.bodys.forEach((item, index) => {\r\n\t\t\t\t\t\ttableIds.forEach((tableId) => {\r\n\t\t\t\t\t\t\tif(item.hasOwnProperty(tableId)) {\r\n\t\t\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,res.data.bodys[index][tableId])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,{rows: []})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\ttableIds.forEach(tableId => {\r\n\t\t\t\t\t\tlet isSet = false\r\n\t\t\t\t\t\tres.data.bodys.forEach((item, index) => {\r\n\t\t\t\t\t\t\tif(item.hasOwnProperty(tableId)) {\r\n\t\t\t\t\t\t\t\tisSet = true\r\n\t\t\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,res.data.bodys[index][tableId])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif(!isSet) {\r\n\t\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,{rows: []})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttableIds.forEach((tableId) => {\r\n\t\t\t\t\t\tthis.props.cardTable.setTableData(tableId,{rows: null})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(callback && typeof callback == 'function') {\r\n\t\t\t\t\tcallback.call(this, retBillStatus)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonCardTableAfterEvent(props, moduleId, key,value, changedrows, index, record) {\r\n\t\tif(changedrows[0].newvalue.value != changedrows[0].oldvalue.value) {\r\n\t\t\t//重新设置一下专管部门\r\n            if(key == 'pk_resppsn' && moduleId == 'finance') {\r\n                this.props.cardTable.setValByKeyAndIndex(moduleId,index,'pk_respdept',{value: value.values.pk_dept.value,display: value.values.deptname.values});\r\n            }\r\n            else if(key == 'respperson' && moduleId == 'purchase') {\r\n                this.props.cardTable.setValByKeyAndIndex(moduleId,index,'respdept',{value: value.values.pk_dept.value,display: value.values.deptname.values})\r\n            }\t\t\t\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tonCardBeforeEdit(props, moduleId, key, value, index, record, status) {\r\n\t\t//修正一下专管部门和专管业务员的参照的查询条件\r\n        let meta = this.props.meta.getMeta();\r\n        let realModuleId = ''\r\n        if(moduleId == 'finance') {\r\n\t\t\trealModuleId = status == 'model' ? 'finance_edit' : 'finance'\r\n            meta[realModuleId].items.find(item => item.attrcode == 'pk_respdept').queryCondition = () => {\r\n                return {\r\n                    pk_org: record.values.pk_org.value\r\n                }\r\n            }\r\n\r\n            meta['finance'].items.find(item => item.attrcode == 'pk_resppsn').queryCondition = () => {\r\n                let paramObj = {\r\n                    pk_org: record.values.pk_org.value\r\n                }\r\n                if(record && record.values && record.values.pk_respdept && record.values.pk_respdept.value && record.values.pk_respdept.value != '') {\r\n                    paramObj.pk_dept = record.values.pk_respdept.value\r\n                }\r\n                return paramObj;\r\n            }\r\n\r\n            meta['finance_edit'].items.find(item => item.attrcode == 'pk_resppsn').queryCondition = () => {\r\n                let paramObj = {\r\n                    pk_org: record.values.pk_org.value\r\n                }\r\n                if(record && record.values && record.values.pk_respdept && record.values.pk_respdept.value && record.values.pk_respdept.value != '') {\r\n                    paramObj.pk_dept = record.values.pk_respdept.value\r\n                }\r\n                return paramObj;\r\n            }\r\n        }\r\n\r\n        if(moduleId == 'purchase') {\r\n\t\t\trealModuleId = status == 'model' ? 'purchase_editform' : 'purchase'\r\n            meta[realModuleId].items.find(item => item.attrcode == 'respdept').queryCondition = () => {\r\n                return {\r\n                    pk_org: record.values.pk_org.value\r\n                }\r\n            }\r\n\r\n            meta['purchase'].items.find(item => item.attrcode == 'respperson').queryCondition = () => {\r\n                let paramObj = {\r\n                    pk_org: record.values.pk_org.value\r\n                }\r\n                if(record && record.values && record.values.respdept && record.values.respdept.value && record.values.respdept.value != '') {\r\n                    paramObj.pk_dept = record.values.respdept.value\r\n                }\r\n                return paramObj;\r\n            }\r\n\r\n            meta['purchase_editform'].items.find(item => item.attrcode == 'respperson').queryCondition = () => {\r\n                let paramObj = {\r\n                    pk_org: record.values.pk_org.value\r\n                }\r\n                if(record && record.values && record.values.respdept && record.values.respdept.value && record.values.respdept.value != '') {\r\n                    paramObj.pk_dept = record.values.respdept.value\r\n                }\r\n                return paramObj;\r\n            }\r\n        }\r\n        this.props.meta.setMeta(meta)\r\n\r\n        return true;\r\n\t}\r\n\t\r\n\tgetDataForCache(pk, callback) {\r\n\t\tif(!pk) {\r\n\t\t\tthis.props.form.EmptyAllFormValue(this.formId)\r\n\t\t\ttableIds.forEach((tableId) => {\r\n\t\t\t\tthis.props.cardTable.setTableData(tableId, {rows: []})\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tlet cardData = getCacheById(pk, dataSource);\r\n\t\tlet vBillStatus = -1\r\n\t\tif(cardData) {\r\n\t\t\tlet formData = {\r\n\t\t\t\t[this.formId]: cardData.head[this.formId],\r\n\t\t\t\t\"supplier_baseInfo\": cardData['supplierBaseInfo']['supplier_baseInfo']\r\n\t\t\t}\r\n\t\t\tthis.props.form.setAllFormValue(formData)\r\n\t\t\tif (cardData.bodys) {\r\n\t\t\t\ttableIds.forEach(tableId => {\r\n\t\t\t\t\tlet isSet = false\r\n\t\t\t\t\tcardData.bodys.forEach((item, index) => {\r\n\t\t\t\t\t\tif(item.hasOwnProperty(tableId)) {\r\n\t\t\t\t\t\t\tisSet = true\r\n\t\t\t\t\t\t\tsetTimeout(() => this.props.cardTable.setTableData(tableId,cardData.bodys[index][tableId]),1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tif(!isSet) {\r\n\t\t\t\t\t\tsetTimeout(() =>this.props.cardTable.setTableData(tableId,{rows: []}),1)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttableIds.forEach((tableId) => {\r\n\t\t\t\t\tthis.props.cardTable.setTableData(tableId, {rows: []})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.props.setUrlParam(pk)//动态修改地址栏中的id的值\r\n\t\t\t//纠正一下附件管理\r\n\t\t\tthis.setState({\r\n\t\t\t\tbillId: pk\r\n\t\t\t})\r\n\r\n\t\t\t//更正一下按钮状态\r\n\t\t\tvBillStatus = cardData.head[this.formId].rows[0].values.vbillstatus.value\r\n\t\t\ttoggleShow(this.props, vBillStatus)\r\n\t\t\tthis.updateSpeTableBtnStatus(vBillStatus) \t//更新财务采购两个子表的按钮状态\r\n\t\t\t//更新一下财务信息和采购信息两个子表的显示问题\r\n\t\t\tlet applyType = cardData.head[this.formId].rows[0].values.apply_type.value\r\n\t\t\tif(applyType == 2 || applyType == 3 || applyType == 4) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tshowFAndS: false,\r\n\t\t\t\t\tapplyType: applyType\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.getdata(pk, (billStatus) => {\r\n\t\t\t\t//更正一下按钮状态\r\n\t\t\t\ttoggleShow(this.props, billStatus)\r\n\t\t\t\tthis.updateSpeTableBtnStatus(billStatus) \t//更新财务采购两个子表的按钮状态\r\n\t\t\t})\r\n\t\t\tthis.props.setUrlParam(pk)//动态修改地址栏中的id的值\r\n\t\t}\r\n\r\n\t\tif(callback && typeof callback == 'function') {\r\n\t\t\tcallback.call(this)\r\n\t\t}\r\n\t}\r\n\r\n\t//保存单据\r\n\tsaveClick = (props) =>{\r\n\t\tlet url = saveUrl;//新增保存\r\n\t\tif (this.props.getUrlParam('status') === 'edit') {\r\n\t\t  url = updateUrl;//修改保存\r\n\t\t}\r\n\t\tlet finalData = {}\r\n\t\tlet mainFormData = props.form.getAllFormValue(this.formId)\r\n\t\tlet baseInfoData = props.form.getAllFormValue('supplier_baseInfo')\r\n\t\tif(baseInfoData.rows[0].values.hasOwnProperty('status'))\r\n\t\t\tdelete baseInfoData.rows[0].values.status\r\n\t\tfinalData.supplierPfVO = mainFormData\r\n\t\tfinalData.supplierVO = baseInfoData\r\n\t\ttableIds.forEach(item => {\r\n\t\t\tfinalData[item] = props.cardTable.getAllRows(item)\r\n\t\t})\r\n\r\n\t\t//供应商基本信息校验\r\n\t\tlet baseInfoMeta = this.props.meta.getMeta()\r\n\t\tbaseInfoMeta = baseInfoMeta.supplier_baseInfo.items\r\n\t\tlet emtpyNesItems = []\r\n\t\tbaseInfoMeta.forEach(item => {\r\n\t\t\tif(item.required == true) {\r\n\t\t\t\tif(baseInfoData.rows[0].values[item.attrcode].value == null || baseInfoData.rows[0].values[item.attrcode].value == '') {\r\n\t\t\t\t\temtpyNesItems.push(item.label)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlet afterInsertToastInfo = null\r\n\t\tif(emtpyNesItems.length > 0) {\r\n\t\t\tafterInsertToastInfo = `${this.state.json['10140SPF-000041']}，${this.state.json['10140SPF-000042']}:\\n${this.state.json['10140SPF-000018']}:\\n[${emtpyNesItems.join('],[')}]`/* 国际化处理： 供应商基本信息校验失败,详细信息如下,下列字段值不能为空*/\r\n\t\t\tmainFormData.rows[0].values.meno.value = afterInsertToastInfo\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// 所有信息都已经录入，清除异常信息字段\r\n\t\t\tmainFormData.rows[0].values.meno.value = null\r\n\t\t}\r\n\r\n\t\tfinalData.hasPreSupCode = this.hasSupCode\r\n\r\n\t\tajax({\r\n\t\t\turl: url,\r\n\t\t\tdata: finalData,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tprops.pushTo('/card', {\r\n\t\t\t\t\tstatus: 'browse',\r\n\t\t\t\t\tid: res.data\r\n\t\t\t\t})\r\n\t\t\t\tif(url == saveUrl) {\r\n\t\t\t\t\taddCache(res.data,res.data,this.formId,dataSource,res.data)\r\n\t\t\t\t}\r\n\t\t\t\tthis.bankaccConfig.mainPk = res.data\r\n\t\t\t\tlet vBillStatus = this.getdata(res.data)\r\n\t\t\t\ttoggleShow(this.props, vBillStatus,'browse','browse')\r\n\t\t\t\tthis.updateSpeTableBtnStatus(vBillStatus) \t//更新财务采购两个子表的按钮状态\r\n\t\t\t\t//特殊设置一下返回按钮的可见性\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tbackVisible: true\r\n\t\t\t\t})\t\r\n\t\t\t\t\r\n\t\t\t\t//业务参数设置当中允许违反规则校验并且必输项未填的话，成功保存之后需要在界面上展示一下提示信息\r\n\t\t\t\tif(afterInsertToastInfo) {\r\n\t\t\t\t\ttoast({color: 'warning',content: afterInsertToastInfo})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttoast({color: 'success',title: this.state.json['10140SPF-000032']})/* 国际化处理： 保存成功！*/\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//清除有关于供应商基本信息编码的信息\r\n\t\t\t\tthis.supCode = null\r\n\t\t\t\tthis.hasSupCode = false\r\n\t\t\t}\r\n\t\t})\r\n\t  }\r\n\r\n\tonCancelSureClick() {\r\n\t\tlet status = this.props.getUrlParam('status');\r\n\t\tif(status == 'add') {\r\n\t\t\tif(this.vbillcode != null && this.hasPreCode) {\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: exFieldUrl,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\toperation: \"cancelCode\",\r\n\t\t\t\t\t\tpk_org: this.pk_org,\r\n\t\t\t\t\t\tbillCode: this.vbillcode,\r\n\t\t\t\t\t\tsupCode: this.supCode\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.billCode = null\r\n\t\t\t\t\t\tthis.supCode = null\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.props.getUrlParam('status') === 'add') {\r\n\t\t\tlet pk = getCurrentLastId(dataSource);\r\n\t\t\tif(pk) {\r\n\t\t\t\tthis.props.pushTo(\"/card\",{\r\n\t\t\t\t\tstatus: 'browse',\r\n\t\t\t\t\tid: pk\r\n\t\t\t\t})\r\n\t\t\t\tthis.getDataForCache(pk)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\twindow.onbeforeunload = null;\t//特殊修正一下：列表无数据新增，取消返回列表，然后点击关闭会有关闭提示\r\n\t\t\t\tthis.props.pushTo(\"/list\",{})\r\n\t\t\t}\r\n\t\t\tthis.supCode = null\r\n\t\t\tthis.hasSupCode = false\r\n\t\t}\r\n\t\telse if ((this.props.getUrlParam('status') === 'edit')) {\r\n\t\t\tthis.props.form.cancel([this.formId,'supplier_baseInfo'])\r\n\t\t\ttableIds.forEach(item => {\r\n\t\t\t\tthis.props.cardTable.resetTableData(item)\r\n\t\t\t})\r\n\t\t\tthis.props.pushTo('/card', {\r\n\t\t\t\tstatus: 'browse',\r\n\t\t\t\tid: this.props.getUrlParam('id')\r\n\t\t\t})\r\n\t\t\ttoggleShow(this.props,-1,true,true);\r\n\t\t\tthis.updateSpeTableBtnStatus(-1) \t//更新财务采购两个子表的按钮状态\r\n\t\t}\r\n\r\n\t\tthis.props.form.setFormItemsDisabled(formId, {update_sup: true})\r\n\t\t//特殊设置一下返回按钮的可见性\r\n\t\tthis.setState({\r\n\t\t\tbackVisible: true\r\n\t\t})\r\n\t}\r\n\r\n\t//删除单据\r\n\tdelConfirm = () => {\r\n\t\tlet primaryKeys = []\r\n\t\tprimaryKeys.push(this.props.getUrlParam('id'))\r\n\t\tajax({\r\n\t\t\turl: deleteUrl,\r\n\t\t\tdata: {primaryKeys: primaryKeys},\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tlet id = this.props.getUrlParam(\"id\");\r\n\r\n\t\t\t\t//根据当前id,获取下个id\r\n\t\t\t\t/*\r\n\t\t\t\t* id：数据主键的值\r\n\t\t\t\t* dataSource: 缓存数据命名空间\r\n\t\t\t\t*/\r\n\t\t\t\tlet nextId = getNextId(id, dataSource);\r\n\r\n\t\t\t\t//调用删除缓存数据方法\r\n\t\t\t\t/*\r\n\t\t\t\t* idname: 数据主键的命名\r\n\t\t\t\t* id：数据主键的值\r\n\t\t\t\t* dataSource: 缓存数据命名空间\r\n\t\t\t\t*/\r\n\t\t\t\tdeleteCacheById(pk_item,id,dataSource);\r\n\r\n\t\t\t\tthis.getDataForCache(nextId,() => {\r\n\t\t\t\t\ttoast({color: 'success',title:this.state.json['10140SPF-000033']})/* 国际化处理： 删除成功！*/\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\tmodelSave = (props)=>{\r\n\t\tprops.cardTable.closeModel(this.tableId);\r\n\t\tthis.saveClick(props);\r\n\t}\r\n\r\n    getButtonNames = (codeId) => {\r\n\t\tif (codeId === 'edit'||codeId === 'add'||codeId === 'save'){\r\n\t\t\treturn 'main-button'\r\n\t\t}else {\r\n\t\t\treturn 'secondary - button'\r\n\t\t}\r\n\t};\r\n\r\n\tshowApprove() {\r\n\t\tthis.setState({\r\n\t\t\tshowApprove: true\r\n\t\t})\r\n\t}\r\n\r\n\tcloseApprove() {\r\n\t\tthis.setState({\r\n\t\t\tshowApprove: false\r\n\t\t})\r\n\t}\r\n\r\n\tbankaccClick(props,id) {\r\n\t\tswitch(id) {\r\n\t\t\tcase 'BankAdd':\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisList: false\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tbankaccModalChange(info) {\r\n\t\tlet isList = info.isList\r\n\t\tdelete info.isList\r\n\t\tif(isList) {\r\n\t\t\tthis.bankaccConfig = {\r\n\t\t\t\ttableId: 'supbank',\r\n\t\t\t\tformId1: 'accbasinfo',\r\n\t\t\t\tformId2: 'netbankinfo',\r\n\t\t\t\tcardTableId: 'bankaccsub',\r\n\t\t\t\tmainPk : this.props.getUrlParam('id'),\r\n\t\t\t\tbankaccModalChange: this.bankaccModalChange.bind(this),\r\n\t\t\t\tbankaccModalClose: this.bankaccModalClose.bind(this),\r\n\t\t\t\t...info\r\n\t\t\t}\r\n\t\t\tthis.props.modal.close('bankaccList')\r\n\t\t\tthis.props.modal.show('bankaccForm')\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.bankaccConfig = {\r\n\t\t\t\ttableId: 'supbank',\r\n\t\t\t\tformId1: 'accbasinfo',\r\n\t\t\t\tformId2: 'netbankinfo',\r\n\t\t\t\tcardTableId: 'bankaccsub',\r\n\t\t\t\tmainPk : this.props.getUrlParam('id'),\r\n\t\t\t\tbankaccModalClose: this.bankaccModalClose.bind(this),\r\n\t\t\t\tbankaccModalChange: this.bankaccModalChange.bind(this)\r\n\t\t\t}\r\n\t\t\tthis.props.modal.close('bankaccForm')\r\n\t\t\tthis.props.modal.show('bankaccList')\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tbankaccModalClose() {\r\n\t\tthis.getdata(this.props.getUrlParam('id'))\r\n\t}\r\n\r\n\tsuplinkmanClose(props) {\r\n\t\tlet allRows = props.cardTable.getAllRows('suplinkman')\r\n\t\tallRows.forEach(item => {\r\n\t\t\tif(item.status == 2) {\r\n\t\t\t\titem.values.forEach(value => {\r\n\t\t\t\t\tvalue.display = value.value\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tonLinkmanBeforeEvent(props, moduleId, key, value, index, record, status) {\r\n\t\tlet meta = props.meta.getMeta()\r\n\t\tif(status == 'model') {\r\n\t\t\tmoduleId = 'suplinkman_edit_form'\r\n\t\t}\r\n\t\tif(record.values.pk_linkman.value) {\r\n\t\t\tthis.editLinkmanPk = record.values.pk_linkman.value\r\n\t\t\tmeta[moduleId].items.find(item => item.attrcode == 'pk_linkman.name').queryCondition = () => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpk_linkman: record.values.pk_linkman.value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tmeta[moduleId].items.find(item => item.attrcode == 'pk_linkman.name').queryCondition = () => {\r\n\t\t\t\treturn {}\r\n\t\t\t}\r\n\t\t\tthis.editLinkmanPk = null\r\n\t\t}\r\n\t\tthis.linkmanIndex = index\r\n\t\tmeta[moduleId].items.find(item => item.attrcode == 'pk_linkman.name').onAfterEdit = this.onLinkmanAfterEdit.bind(this)\r\n\t\treturn true\r\n\t}\r\n\r\n\t/**\r\n\t * 根据联系人参照返回的数据构建供应商了联系人表格的行数据，并更新到表格上\r\n\t * \r\n\t * @param {*} savedData \r\n\t */\r\n\tonLinkmanAfterEdit(savedData) {\r\n\t\tlet allShowKeys = ['name','sex','vjob','phone','cell']\r\n\t\tlet allRows = this.props.cardTable.getAllRows('suplinkman')\r\n\t\tlet pk_linkman = savedData.linkmanRefer.rows[0].values.pk_linkman.value\r\n\t\tallRows.forEach((item, index) => {\r\n\t\t\tlet itemPkLinkman = item.values.pk_linkman.value\r\n\t\t\tif(itemPkLinkman == pk_linkman || ((itemPkLinkman == null || itemPkLinkman == '') && index == this.linkmanIndex)) {\r\n\t\t\t\tallShowKeys.forEach((key) => {\r\n\t\t\t\t\t//性别需要进行一下特殊处理\r\n\t\t\t\t\tif(key == 'sex') {\r\n\t\t\t\t\t\titem.values[`pk_linkman.${key}`].value = savedData.linkmanRefer.rows[0].values[key].value\r\n\t\t\t\t\t\tif(savedData.linkmanRefer.rows[0].values[key].value) {\r\n\t\t\t\t\t\t\titem.values[`pk_linkman.${key}`].display = savedData.linkmanRefer.rows[0].values[key].value == 1 ? this.state.json['10140SPF-000034'] : this.state.json['10140SPF-000035']/* 国际化处理： 男,女*/\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\titem.values[`pk_linkman.${key}`].value = pk_linkman\r\n\t\t\t\t\t\titem.values[`pk_linkman.${key}`].display = savedData.linkmanRefer.rows[0].values[key].value\r\n\t\t\t\t\t\t//下面这段代码是为了修正一个奇怪的问题：如果不把isEdit删掉的话，那么列表界面上联系人字段出不来\r\n\t\t\t\t\t\tif(key == 'name') {\r\n\t\t\t\t\t\t\tdelete item.values[`pk_linkman.${key}`].isEdit\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\titem.values.pk_linkman.value = pk_linkman\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tthis.props.cardTable.setTableData('suplinkman',{rows: allRows})\r\n\t}\r\n\r\n\tcardTableDoubleClick(props, record, index) {\r\n\t\tlet currStatus = props.form.getFormStatus(this.formId)\r\n\t\tif(currStatus == 'edit') {\r\n\t\t\tlet pk = record.values.pk_linkman.value\r\n\t\t\tajax({\r\n\t\t\t\turl: queryLinkmanUrl,\r\n\t\t\t\tdata: {pk},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tprops.modal.show('linkman')\r\n\t\t\t\t\tprops.form.setAllFormValue({SPFLinkman: res.data.SPFLinkman})\r\n\t\t\t\t\tprops.form.setFormStatus('SPFLinkman','edit')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tlinkmanSaveClick() {\r\n\t\tlet linkmanData = this.props.form.getAllFormValue('SPFLinkman')\r\n\t\tlet finalData = {\r\n\t\t\tmodel: linkmanData\r\n\t\t}\r\n\t\tlet allOtherKeys = ['pk_suplinkman','pk_linkman','opr','isdefault','ts','def1','def2','def3','def4','def5','def6','def7','def8','def9','def10']\r\n\t\tlet allShowKeys = ['name','sex','vjob','phone','cell']\r\n\t\tlet allRows = this.props.cardTable.getAllRows('suplinkman')\r\n\t\tajax({\r\n\t\t\turl: saveLinkmanUrl,\r\n\t\t\tdata: finalData,\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tlet addResult = false\r\n\t\t\t\tlet pk_linkman = res.data\r\n\t\t\t\tallRows.forEach(item => {\r\n\t\t\t\t\tif(item.values.pk_linkman.value == pk_linkman) {\r\n\t\t\t\t\t\tallShowKeys.forEach(key => {\r\n\t\t\t\t\t\t\titem.values[`pk_linkman.${key}`].display = linkmanData.rows[0].values[key].value\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\titem.values.pk_linkman.value = pk_linkman\r\n\t\t\t\t\t\taddResult = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif(!addResult) {\r\n\t\t\t\t\tlet value = {}\r\n\t\t\t\t\tallShowKeys.forEach(key => {\r\n\t\t\t\t\t\tvalue[`pk_linkman.${key}`] = {\r\n\t\t\t\t\t\t\tvalue: linkmanData.rows[0].values[key].value,\r\n\t\t\t\t\t\t\tdisplay: linkmanData.rows[0].values[key].value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(key == 'sex') {\r\n\t\t\t\t\t\t\tlet sexValue = linkmanData.rows[0].values[key].value\r\n\t\t\t\t\t\t\tvalue[`pk_linkman.${key}`].display = sexValue && sexValue == '1' ? this.state.json['10140SPF-000034'] : this.state.json['10140SPF-000035']/* 国际化处理： 男,女*/\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tvalue.pk_linkman = {\r\n\t\t\t\t\t\tvalue: pk_linkman,\r\n\t\t\t\t\t\tdisplay: pk_linkman\r\n\t\t\t\t\t}\r\n \t\t\t\t\tlet newRow = {\r\n\t\t\t\t\t\trowid:pk_linkman,\r\n\t\t\t\t\t\tstatus: 2,\r\n\t\t\t\t\t\tvalues: value\r\n\t\t\t\t\t}\r\n\t\t\t\t\tallRows.push(newRow)\r\n\t\t\t\t}\r\n\t\t\t\tthis.props.cardTable.setTableData('suplinkman',{rows: allRows})\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\tgetAssginUsedr = (value) => {\r\n\t\tajax({\r\n\t\t\turl: commitUrl,\r\n\t\t\tdata: {content: value,pks:[this.props.getUrlParam('id')]},\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tif(res.data && res.data.workflow && (res.data.workflow == 'approveflow'|| res.data.workflow == 'workflow')) {\r\n\t\t\t\t\tthis.setState({\r\n                        compositedata: res.data,\r\n                        compositedisplay: true\r\n                    });\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tcompositedata: null,\r\n\t\t\t\t\t\tcompositedisplay: false\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttoast({ color: 'success', content: this.state.json['10140SPF-000026'] });/* 国际化处理： 提交成功*/\r\n\t\t\t\t\tthis.getdata(this.props.getUrlParam('id'),(billStatus) => {\r\n\t\t\t\t\t\ttoggleShow(this.props,billStatus)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n    }\r\n\r\n\tonApprTransClose() {\r\n        this.setState({\r\n            compositedata:null,\r\n            compositedisplay: false\r\n        });\r\n\t}\r\n\t\r\n\tcloseApprDetail = () =>{\r\n        this.setState({\r\n            showApprInfo: false\r\n        })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { cardTable, form, button, modal, cardPagination } = this.props;\r\n\t\tconst {createCardPagination} = cardPagination;\r\n\t\tlet { createForm } = form;\r\n\t\tlet { createCardTable } = cardTable;\r\n\t\tlet { createButtonApp } = button;\r\n\t\tlet { createModal } = modal;\r\n\t\tlet status = this.props.getUrlParam('status');\r\n\r\n\t\tlet iconItem = this.state.showBaseInfo ? 'icon-jiantouxia1' : 'icon-jiantouyou'\r\n\r\n\t\tlet groupItem = this.state.showBaseInfo ? \"show-form\" : \"hide-form\"\r\n\r\n\t\t//联系人form\r\n\t\treturn (\r\n\t\t\t\t<div className=\"nc-bill-card\">\r\n\t\t\t\t\t<div className=\"nc-bill-top-area\">\r\n\t\t\t\t\t\t<NCAffix>\r\n\t\t\t\t\t\t\t<div className='nc-bill-header-area'>\r\n\t\t\t\t\t\t\t\t<NCBackBtn className='title-search-detail' style={{'line-height':'32px',display: this.state.backVisible ? 'inline' : 'none'}}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ this.buttonClick.bind(this,this.props,'Back') }></NCBackBtn>\r\n\t\t\t\t\t\t\t\t<div className='header-title-search-area'>\r\n\t\t\t\t\t\t\t\t\t<h2 className='title-search-detail'>{this.state.json ? this.state.json['10140SPF-000043'] : '10140SPF-000043'/* 国际化处理： 供应商申请单*/}{status=='browse'?`：${this.state.title_code}`:''}</h2>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"header-button-area\">\r\n\t\t\t\t\t\t\t\t\t{createButtonApp({\r\n\t\t\t\t\t\t\t\t\t\tarea: 'header-action',//按钮注册中的按钮区域\r\n\t\t\t\t\t\t\t\t\t\t//buttonLimit: 5, \r\n\t\t\t\t\t\t\t\t\t\tonButtonClick: this.buttonClick.bind(this) \r\n\t\t\t\t\t\t\t\t\t\t//popContainer: document.querySelector('.header-button-area')\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{createCardPagination({\r\n\t\t\t\t\t\t\t\t\t\thandlePageInfoChange: this.pageInfoClick.bind(this),\r\n\t\t\t\t\t\t\t\t\t\tdataSource: dataSource\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NCAffix>\r\n\r\n\t\t\t\t\t\t<NCAnchor>\r\n\t\t\t\t\t\t\t<NCScrollLink\r\n\t\t\t\t\t\t\t\tto={this.formId}\r\n\t\t\t\t\t\t\t\tspy={true}\r\n\t\t\t\t\t\t\t\tsmooth={true}\r\n\t\t\t\t\t\t\t\tduration={300}\r\n\t\t\t\t\t\t\t\toffset={-100}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<p>{this.state.json ? this.state.json['10140SPF-000002'] : '10140SPF-000002'/* 国际化处理： 供应商信息*/}</p>\r\n\t\t\t\t\t\t\t</NCScrollLink>\r\n\t\t\t\t\t\t\t<NCScrollLink\r\n\t\t\t\t\t\t\t\tto={'suplinkman'}\r\n\t\t\t\t\t\t\t\tspy={true}\r\n\t\t\t\t\t\t\t\tsmooth={true}\r\n\t\t\t\t\t\t\t\tduration={300}\r\n\t\t\t\t\t\t\t\toffset={-100}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<p>{this.state.json ? this.state.json['10140SPF-000006'] : '10140SPF-000006'/* 国际化处理： 供应商联系人*/}</p>\r\n\t\t\t\t\t\t\t</NCScrollLink>\r\n\t\t\t\t\t\t\t<NCScrollLink\r\n\t\t\t\t\t\t\t\tto={'supcountrytaxes'}\r\n\t\t\t\t\t\t\t\tspy={true}\r\n\t\t\t\t\t\t\t\tsmooth={true}\r\n\t\t\t\t\t\t\t\tduration={300}\r\n\t\t\t\t\t\t\t\toffset={-100}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<p>{this.state.json ? this.state.json['10140SPF-000007'] : '10140SPF-000007'/* 国际化处理： 供应商国家税类*/}</p>\r\n\t\t\t\t\t\t\t</NCScrollLink>\r\n\t\t\t\t\t\t\t<NCScrollLink\r\n\t\t\t\t\t\t\t\tto={'finance'}\r\n\t\t\t\t\t\t\t\tspy={true}\r\n\t\t\t\t\t\t\t\tsmooth={true}\r\n\t\t\t\t\t\t\t\tduration={300}\r\n\t\t\t\t\t\t\t\toffset={-100}\r\n\t\t\t\t\t\t\t\tstyle = {{display: this.state.showFAndS ? 'block' : 'none'}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<p>{this.state.json ? this.state.json['10140SPF-000003'] : '10140SPF-000003'/* 国际化处理： 财务信息*/}</p>\r\n\t\t\t\t\t\t\t</NCScrollLink>\r\n\t\t\t\t\t\t\t<NCScrollLink\r\n\t\t\t\t\t\t\t\tto={'purchase'}\r\n\t\t\t\t\t\t\t\tspy={true}\r\n\t\t\t\t\t\t\t\tsmooth={true}\r\n\t\t\t\t\t\t\t\tduration={300}\r\n\t\t\t\t\t\t\t\toffset={-100}\r\n\t\t\t\t\t\t\t\tstyle = {{display: this.state.showFAndS ? 'block' : 'none'}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<p>{this.state.json ? this.state.json['10140SPF-000004'] : '10140SPF-000004'/* 国际化处理： 采购信息*/}</p>\r\n\t\t\t\t\t\t\t</NCScrollLink>\r\n\t\t\t\t\t\t\t<NCScrollLink\r\n\t\t\t\t\t\t\t\tto={'supbankacc'}\r\n\t\t\t\t\t\t\t\tspy={true}\r\n\t\t\t\t\t\t\t\tsmooth={true}\r\n\t\t\t\t\t\t\t\tduration={300}\r\n\t\t\t\t\t\t\t\toffset={-100}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<p>{this.state.json ? this.state.json['10140SPF-000005'] : '10140SPF-000005'/* 国际化处理： 供应商银行账户*/}</p>\r\n\t\t\t\t\t\t\t</NCScrollLink>\r\n\t\t\t\t\t\t</NCAnchor>\r\n\t\t\t\t\t\t<NCScrollElement name={this.formId}>\r\n\t\t\t\t\t\t\t<div className=\"nc-bill-form-area\">\r\n\t\t\t\t\t\t\t\t{createForm(this.formId, {\r\n\t\t\t\t\t\t\t\t\tonAfterEvent: this.afterEvent.bind(this),\r\n\t\t\t\t\t\t\t\t\tsetVisibleByForm:true\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NCScrollElement>\r\n\r\n\t\t\t\t\t\t<NCScrollElement name={this.state.json ? this.state.json['10140SPF-000000'] : '10140SPF-000000'/* 国际化处理： 供应商基本信息*/}>\r\n\t\t\t\t\t\t\t<div className=\"nc-bill-form-area\">\r\n\t\t\t\t\t\t\t\t<div className='group-form-wrapper'>\r\n\t\t\t\t\t\t\t\t\t<div className=\"group-form-name\">\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`toggle-form-icon iconfont ${iconItem}`}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet show = !this.state.showBaseInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowBaseInfo: show\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"name\">{this.state.json ? this.state.json['10140SPF-000000'] : '10140SPF-000000'/* 国际化处理： 供应商基本信息*/}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className={`group-form-item ${groupItem} `}>\r\n\t\t\t\t\t\t\t\t\t\t{createForm('supplier_baseInfo', {\r\n\t\t\t\t\t\t\t\t\t\t\tonAfterEvent: this.afterEvent.bind(this)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NCScrollElement>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"nc-bill-bottom-area\">\r\n\t\t\t\t\t\t<NCScrollElement name={'suplinkman'}>\r\n\t\t\t\t\t\t\t<div className=\"nc-bill-table-area\">\r\n\t\t\t\t\t\t\t\t{createCardTable(\"suplinkman\", {\r\n\t\t\t\t\t\t\t\t\ttableHead: this.getTableHead.bind(this,'suplinkman'),\r\n\t\t\t\t\t\t\t\t\tonBeforeEvent: this.onLinkmanBeforeEvent.bind(this),\r\n\t\t\t\t\t\t\t\t\t//onRowDoubleClick: this.cardTableDoubleClick.bind(this),\r\n\t\t\t\t\t\t\t\t\tmodelClose: this.suplinkmanClose.bind(this)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NCScrollElement>\r\n\t\t\t\t\t\t<NCScrollElement name={'supcountrytaxes'}>\r\n\t\t\t\t\t\t\t<div className=\"nc-bill-table-area\">\r\n\t\t\t\t\t\t\t\t{createCardTable(\"supcountrytaxes\", {\r\n\t\t\t\t\t\t\t\t\ttableHead: this.getTableHead.bind(this,'supcountrytaxes'),\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NCScrollElement>\r\n\t\t\t\t\t\t<NCScrollElement name={'finance'} style = {{display: this.state.showFAndS ? 'block' : 'none'}}>\r\n\t\t\t\t\t\t\t<div className=\"nc-bill-table-area\">\r\n\t\t\t\t\t\t\t\t{createCardTable(\"finance\", {\r\n\t\t\t\t\t\t\t\t\ttableHead: this.getTableHead.bind(this,'finance'),\r\n\t\t\t\t\t\t\t\t\tonBeforeEvent: this.onCardBeforeEdit.bind(this),\r\n\t\t\t\t\t\t\t\t\tonAfterEvent: this.onCardTableAfterEvent.bind(this),\r\n\t\t\t\t\t\t\t\t\thideAdd: true,\r\n\t\t\t\t\t\t\t\t\thideDel: true\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NCScrollElement>\r\n\t\t\t\t\t\t<NCScrollElement name={'purchase'} style = {{display: this.state.showFAndS ? 'block' : 'none'}}>\r\n\t\t\t\t\t\t\t<div className=\"nc-bill-table-area\">\r\n\t\t\t\t\t\t\t\t{createCardTable(\"purchase\", {\r\n\t\t\t\t\t\t\t\t\ttableHead: this.getTableHead.bind(this,'purchase'),\r\n\t\t\t\t\t\t\t\t\tonBeforeEvent: this.onCardBeforeEdit.bind(this),\r\n\t\t\t\t\t\t\t\t\tonAfterEvent: this.onCardTableAfterEvent.bind(this),\r\n\t\t\t\t\t\t\t\t\thideAdd: true,\r\n\t\t\t\t\t\t\t\t\thideDel: true\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NCScrollElement>\r\n\t\t\t\t\t\t<NCScrollElement name={'supbankacc'}>\r\n\t\t\t\t\t\t\t<div className=\"nc-bill-table-area\">\r\n\t\t\t\t\t\t\t\t{createCardTable(\"supbankacc\", {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NCScrollElement>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//一个奇怪的bug导致了需要写下面一行代码：银行账户弹出的form当中用到了一个地区代码的自定义档案参照\r\n\t\t\t\t\t\t//但是这个自定义档案的参照会导致模态框报错，必须首先创建一遍问题form,然后模态框才能正常工作。\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div style={{display: \"none\"}}>\r\n\t\t\t\t\t\t{createForm('netbankinfo',{})}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{createModal('delete', {\r\n\t\t\t\t\t\ttitle: this.state.json ? this.state.json['10140SPF-000023'] : '10140SPF-000023',/* 国际化处理： 注意*/\r\n\t\t\t\t\t\tcontent: this.state.json ? this.state.json['10140SPF-000024'] : '10140SPF-000024',/* 国际化处理： 确认删除？*/\r\n\t\t\t\t\t\tbeSureBtnClick: this.delConfirm\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{createBankaccList(Object.assign({json: this.state.json, applyType: this.state.applyType}, this.props),this.bankaccConfig)}\r\n\t\t\t\t\t{createBankaccForm(Object.assign({json: this.state.json, applyType: this.state.applyType}, this.props),this.bankaccConfig)}\r\n\t\t\t\t\t{createModal('linkman',{\r\n\t\t\t\t\t\ttitle: this.state.json ? this.state.json['10140SPF-000036'] : '10140SPF-000036',/* 国际化处理： 联系人*/\r\n\t\t\t\t\t\tcontent: (createForm('SPFLinkman',{\r\n\r\n\t\t\t\t\t\t})),\r\n\t\t\t\t\t\tbeSureBtnClick: this.linkmanSaveClick.bind(this)\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t{this.state.showUploader && <NCUploader \r\n\t\t\t\t\t\tbillId={\"uapbd/d6be4596-55a6-4476-9b1d-cb770c03bfdd/\" + this.state.billId}\r\n\t\t\t\t\t\tbillNo={'001'}\r\n\t\t\t\t\t\tplacement={'bottom'}\r\n\t\t\t\t\t\tonHide={this.onHideUploader}\r\n\t\t\t\t\t\tbeforeUpload={this.beforeUpload.bind(this)}\r\n\t\t\t\t\t\tbeforeDelete={this.beforeDelete.bind(this)} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<PrintOutput\r\n\t\t\t\t\t\tref='printOutput'\r\n\t\t\t\t\t\turl={printUrl}\r\n\t\t\t\t\t\tdata={{\r\n\t\t\t\t\t\t\tfuncode: '10140SPF',\r\n\t\t\t\t\t\t\toids: this.state.pks,\r\n\t\t\t\t\t\t\tnodekey: 'suppfcard',\r\n\t\t\t\t\t\t\toutputType: 'output'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{createModal('cancel',{\r\n\t\t\t\t\t\ttitle: this.state.json ? this.state.json['10140SPF-000027'] : '10140SPF-000027',/* 国际化处理： 确认取消*/\r\n\t\t\t\t\t\tcontent: this.state.json ? this.state.json['10140SPF-000028'] : '10140SPF-000028',/* 国际化处理： 是否确认要取消？*/\r\n\t\t\t\t\t\tbeSureBtnClick: this.onCancelSureClick.bind(this)\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t{/* 指派组件 */}\r\n\t\t\t\t\t{this.state.compositedisplay ? <ApprovalTrans\r\n\t\t\t\t\t\ttitle={this.state.json ? this.state.json['10140SPF-000037'] : '10140SPF-000037'/* 国际化处理： 指派*/}\r\n\t\t\t\t\t\tdata={this.state.compositedata}\r\n\t\t\t\t\t\tdisplay={this.state.compositedisplay}\r\n\t\t\t\t\t\tgetResult={this.getAssginUsedr.bind(this)}\r\n\t\t\t\t\t\tcancel={this.onApprTransClose.bind(this)}\r\n\t\t\t\t\t/> : \"\"}\r\n\r\n\t\t\t\t\t{/* 审批详情组件 */}\r\n\t\t\t\t\t<ApproveDetail\r\n\t\t\t\t\t\tshow={this.state.showApprInfo}\r\n\t\t\t\t\t\tclose={this.closeApprDetail.bind(this)}\r\n\t\t\t\t\t\tbilltype='10GY'\r\n\t\t\t\t\t\tbillid={this.state.billId}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCard = createPage({\r\n\tbillinfo:[\r\n\t\t{\r\n\t\t\tbilltype: 'form',\r\n        \tpagecode: '10140SPF_card',\r\n        \theadcode: formId\r\n\t\t}\r\n\t],\r\n\tinitTemplate: []\r\n})(Card);\r\n\r\n//ReactDOM.render(<Card />, document.querySelector('#app'));\r\n\r\nexport default Card\r\n","import { createPage, ajax, base, toast } from 'nc-lightapp-front';\r\nimport List from './bankacc/list'\r\nimport Form from './bankacc/form'\r\nconst { NCAffix,NCPopconfirm,NCFormControl,NCAnchor,NCScrollElement,NCScrollLink } = base;\r\n\r\nconst {createModal} = base\r\n\r\n/**\r\n * config对象结构：\r\n * config : {\r\n *  isList          //判定当前弹出层处于列表态\r\n *  bankaccModalChange    //弹出层导致卡片和列表切换的钩子函数\r\n *  tableId         //弹出层的列表界面的区域编码\r\n *  formId          //弹出层的卡片界面的区域编码\r\n *  cardTableId     //弹出层卡片机界面的子表的区域编码\r\n * }\r\n */\r\nexport function createBankaccList(props,config) {\r\n    let { cardTable, form, button, modal, cardPagination, table } = props;\r\n    let { createForm } = form;\r\n    let { createCardTable } = cardTable;\r\n    let { createButtonApp } = button;\r\n    let { createSimpleTable } = table\r\n    let { createModal } = modal\r\n    let listPage = (<div><List {...props} {...config} /></div>)\r\n    return createModal('bankaccList',{\r\n        content: listPage,\r\n        noFooter: true,\r\n        closeModalEve: config.bankaccModalClose\r\n    })\r\n}\r\n\r\nexport function createBankaccForm(props,config) {\r\n    let { cardTable, form, button, modal, cardPagination, table } = props;\r\n    let { createModal } = modal\r\n    let formPage = (<div><Form {...props} {...config} /></div>)\r\n    return createModal('bankaccForm',{\r\n        content: formPage,\r\n        size: 'xlg',\r\n        noFooter: true,\r\n        closeModalEve: config.bankaccModalClose\r\n    })\r\n}\r\n","//主子表列表\r\n\r\nimport React, { Component } from 'react';\r\nimport \"./index.less\"\r\nimport { createPage, ajax, base ,toast} from 'nc-lightapp-front';\r\nconst {NCPopconfirm, NCIcon,NCTabs}=base;\r\nconst NCTabPane=NCTabs.NCTabPane;\r\n\r\nconst queryList = '/nccloud/uapbd/supplierapply/queryBankaccListAction.do'\r\nconst deleteUrl = '/nccloud/uapbd/supplierapply/deleteBankaccAction.do'\r\n\r\nclass List extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n        this.tableId = props.tableId;\r\n        this.selectedRow = null\r\n\r\n        //将修改按钮移到行上\r\n        let meta = this.props.meta.getMeta()\r\n        let hasOprColumn = false\r\n        meta[this.tableId].items.forEach(item => {\r\n            if(item.attrcode == 'opr') {\r\n                hasOprColumn = true\r\n            }\r\n        })\r\n        if(!hasOprColumn) {\r\n            meta[this.tableId].items.push({\r\n                itemtype: \"customer\",\r\n                attrcode: 'opr',\r\n                label: this.props.json['10140SPF-000019'],/* 国际化处理： 操作*/\r\n                fixed: 'right',\r\n                className : 'tab le-opr',\r\n                visible: true,\r\n                render: (text, record, index) => {\r\n        \r\n                    let btnArray = []\r\n\r\n                    //若是供应商申请单的申请类型为启用或者停用的话，那么不显示行编辑按钮\r\n                    if(this.props.applyType != 3 && this.props.applyType != 4) {\r\n                        btnArray.push('RowBankEdit')\r\n                    }\r\n        \r\n                    return props.button.createOprationButton(\r\n                        btnArray,\r\n                        {\r\n                            area: \"row-action\",\r\n                            buttonLimit: 3,\r\n                            onButtonClick: (props, id) => this.editRow(props, id, text, record, index)\r\n                        }\r\n                    )\r\n                }\r\n            });\r\n            this.props.meta.setMeta(meta)\r\n        }\r\n    }\r\n    \r\n    updateButtonStatus() {\r\n        //若是停用和启用的供应商申请单，银行账户是不允许编辑的\r\n        let visibleActions = ['BankRefresh']\r\n        let unVisibleActions = ['BankCancel','BankSave','BankBack','BankCardRefresh','BankEdit']\r\n        if(this.props.applyType == 3 ||this.props.applyType == 4) {\r\n            unVisibleActions.push(...['BankAdd','BankDelete'])\r\n        }\r\n        else {\r\n            visibleActions.push('BankAdd','BankDelete')\r\n        }\r\n        this.props.button.setButtonVisible(visibleActions, true);\r\n        this.props.button.setButtonVisible(unVisibleActions, false);\r\n        if(this.selectedRow == null) {\r\n            this.props.button.setButtonDisabled({BankDelete: true})\r\n        }\r\n        else {\r\n            this.props.button.setButtonDisabled({BankDelete: false})\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData(this.props)\r\n        setTimeout(() => this.updateButtonStatus(),1)\r\n    }\r\n\r\n    editRow(props, id, text, record, index) {\r\n        let info = {\r\n            isList: true,\r\n            accnum: record.accnum.value,\r\n            pk_banktype: record.pk_banktype.value,\r\n            cardStatus: 'edit'\r\n        }\r\n        if(this.props.bankaccModalChange) {\r\n            this.props.bankaccModalChange(info)\r\n        }\r\n    }\r\n\r\n    getData(props, callback) {\r\n        let data = {\r\n            mainPk: props.mainPk\r\n        }\r\n        ajax({\r\n            url: queryList,\r\n            data,\r\n            success: res => {\r\n                //setTimeout(() => props.table.setAllTableData(props.tableId, res.data[props.tableId]),1);\r\n                if(res && res.data && res.data.hasOwnProperty(props.tableId)) {\r\n                    props.table.setAllTableData(props.tableId, res.data[props.tableId])\r\n                }\r\n                else {\r\n                    props.table.setAllTableData(props.tableId, {rows: []})\r\n                }\r\n            }\r\n        })\r\n\r\n        if(callback && typeof callback == 'function') {\r\n            callback()\r\n        }\r\n    }\r\n\r\n    buttonClick(props,id) {\r\n        switch(id) {\r\n            case 'BankAdd': \r\n                let row = this.selectedRow\r\n                let info = {\r\n                    isList: true,\r\n                    cardStatus: 'add'\r\n                }\r\n                if(this.props.bankaccModalChange) {\r\n                    this.props.bankaccModalChange(info)\r\n                }\r\n                break;\r\n            case 'BankEdit':\r\n                row = this.selectedRow\r\n                info = {\r\n                    isList: true,\r\n                    accnum: row.accnum.value,\r\n                    pk_banktype: row.pk_banktype.value,\r\n                    cardStatus: 'edit'\r\n                }\r\n                if(this.props.bankaccModalChange) {\r\n                    this.props.bankaccModalChange(info)\r\n                }\r\n                break;\r\n            case 'BankDelete':\r\n                row = this.selectedRow\r\n                info = {\r\n                    mainPk: this.props.mainPk,\r\n                    accnum: row.accnum.value,\r\n                    pk_banktype: row.pk_banktype.value\r\n                }\r\n                ajax({\r\n                    url: deleteUrl,\r\n                    data: info,\r\n                    success: res => {\r\n                        this.getData(this.props)\r\n                    }\r\n                })\r\n                break;\r\n            case 'BankRefresh':\r\n                this.getData(this.props,() => {\r\n                    this.selectedRow = null\r\n                    this.updateButtonStatus()\r\n                })\r\n                break;\r\n        }\r\n    }\r\n\r\n\tdoubleClick = (record, index, e)=>{\r\n        let info = {\r\n                isList: true,\r\n                cardStatus: 'browse',\r\n                accnum: record.accnum.value,\r\n                pk_banktype: record.pk_banktype.value\r\n        }\r\n        if(this.props.bankaccModalChange) {\r\n            this.props.bankaccModalChange(info)\r\n        }\r\n    }\r\n    \r\n    onRowClick(props,moduleId,record,index) {\r\n        this.selectedRow = record\r\n        this.updateButtonStatus()\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { table, button, search } = this.props;\r\n\t\tlet { createSimpleTable } = table;\r\n\t\tlet { createButtonApp } = button;\r\n\t\treturn (<div className=\"nc-bill-list\">\r\n\t\t\t\t<div className='nc-bill-header-area'>\r\n\t\t\t\t\t<div className='header-title-search-area'>\r\n\t\t\t\t\t<h2 className='title-search-detail'>{this.props.json['10140SPF-000020']/* 国际化处理： 供应商银行账户申请*/}</h2></div>\r\n\t\t\t\t\t<div className=\"header-button-area\">\r\n\t\t\t\t\t\t{createButtonApp({\r\n\t\t\t\t\t\t\tarea: 'bank-action',\r\n                            buttonLimit: 3, \r\n                            onButtonClick: this.buttonClick.bind(this),\r\n\t\t\t\t\t\t\tpopContainer: document.querySelector('.header-button-area')\r\n\t\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div style={{height:'10px'}}></div>\r\n\t\t\t\t<div className=\"nc-bill-table-area\">\r\n\t\t\t\t\t{createSimpleTable(this.tableId, {\r\n                        //showCheck:true,\r\n                        onRowClick: this.onRowClick.bind(this),\r\n                        onRowDoubleClick: this.doubleClick.bind(this),\r\n                        showIndex: true\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n                \r\n\t\t\t</div>\r\n        );\r\n\t}\r\n}\r\n\r\nexport default List\r\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".nc-bill-table-area .u-table-header {\\n  margin-bottom: 0px !important;\\n}\\n.nc-bill-table-btn-list {\\n  position: relative;\\n}\\n.nc-bill-table-btn-list .shoulder-definition-area {\\n  position: absolute;\\n  top: 0;\\n  right: 60px;\\n}\\n\", \"\"]);\n\n// exports\n","//主子表卡片\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createPage, ajax, base, toast, promptBox } from 'nc-lightapp-front';\r\nconst { NCAffix,NCPopconfirm,NCFormControl,NCBackBtn } = base;\r\n\r\nconst queryCardUrl = '/nccloud/uapbd/supplierapply/queryBankaccCardAction.do'\r\nconst saveUrl = '/nccloud/uapbd/supplierapply/saveBankaccAction.do'\r\nconst deleteUrl = '/nccloud/uapbd/supplierapply/deleteBankaccAction.do'\r\nconst exFieldUrl = '/nccloud/uapbd/supplierapply/supExField.do'\r\n\r\nclass Card extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.formId1 = this.props.formId1;\r\n\t\tthis.formId2 = this.props.formid2;\r\n\t\tthis.tableId = this.props.cardTableId;\r\n\t\tthis.cardStatus = this.props.cardStatus\r\n\t\t\r\n\t\t//关于过滤当前是哪条银行账户信息的字段\r\n\t\tthis.accnum = this.props.accnum\r\n\t\tthis.pk_banktype = this.props.pk_banktype\r\n\t\tthis.state = {\r\n\t\t\tpk_org : '',\r\n\t\t\ttitle_code : '',\r\n\t\t\ttotalcount : 0,\r\n\t\t\tapplycount : 0,\r\n\t\t\tshowAccbase: true,\r\n\t\t\tshowNetBank: false,\r\n\t\t\trefresh: 0\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet cardStatus = this.cardStatus\r\n\t\tif(cardStatus && cardStatus == 'add') {\r\n\t\t\tsetTimeout(() => this.props.form.EmptyAllFormValue(this.props.formId1),1)\r\n\t\t\tsetTimeout(() => this.props.form.EmptyAllFormValue(this.props.formId2),1)\r\n\t\t\tsetTimeout(() => this.props.cardTable.setTableData(this.props.cardTableId,{rows : []}),1)\r\n\t\t\tsetTimeout(() => this.props.form.setFormStatus(this.props.formId1,'edit'),1)\r\n\t\t\tsetTimeout(() => this.props.form.setFormStatus(this.props.formId2,'edit'),1)\r\n\t\t\tsetTimeout(() => this.props.cardTable.setStatus(this.props.cardTableId,'edit'),1)\r\n\r\n\t\t\tajax({\r\n                url: exFieldUrl,\r\n                data: {\r\n                    pk_country: this.props.form.getFormItemsValue('supplier_baseInfo','pk_country').value,\r\n                    operation: \"bankinfo\"\r\n                },\r\n                success: (res) => {\r\n                    if(res.data.pk_currtype) {\r\n                        this.props.cardTable.addRow(this.props.cardTableId,0,{pk_currtype: {\r\n                            value: res.data.pk_currtype,\r\n                            display: res.data.currtypename\r\n                        }})\r\n                        let accNameValue = this.props.form.getFormItemsValue('supplier_baseInfo','name')\r\n                        this.props.form.setFormItemsValue(this.props.formId1,{accname: {\r\n                            value: accNameValue.name.value,\r\n                            display: accNameValue.name.display\r\n                        }})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.props.form.setFormItemsValue(this.props.formId1, {enablestate: {\r\n\t\t\t\t\t\tvalue: '1',\r\n\t\t\t\t\t\tdisplay: this.props.json['10140SPF-000061']\r\n\t\t\t\t\t}})\r\n                }\r\n            })\r\n\t\t}\r\n\t\telse if(cardStatus && cardStatus == 'edit') {\r\n\t\t\tthis.getData(this.props.mainPk,this.accnum,this.pk_banktype)\r\n\t\t\tsetTimeout(() => this.props.form.setFormStatus(this.props.formId1,'edit'),1)\r\n\t\t\tsetTimeout(() => this.props.form.setFormStatus(this.props.formId2,'edit'),1)\r\n\t\t\tsetTimeout(() => this.props.cardTable.setStatus(this.props.cardTableId,'edit'),1)\r\n\t\t}\r\n\t\telse if(cardStatus && cardStatus == 'browse') {\r\n\t\t\tthis.getData(this.props.mainPk,this.accnum,this.pk_banktype)\r\n\t\t}\r\n\t\tsetTimeout(() => this.updateButtonStatus(),1)\r\n\t}\r\n\r\n\tupdateButtonStatus() {\r\n\t\tlet cardStatus = this.cardStatus\r\n\t\tlet visibleActions = []\r\n\t\tlet unVisibleActions = []\r\n\t\tif(this.props.applyType == 3 || this.props.applyType == 4) {\r\n\t\t\tthis.props.button.setButtonVisible(['BankRefresh','BankCardRefresh'], true)\r\n\t\t\tthis.props.button.setButtonVisible(['BankCancel','BankSave','BankRefresh','BankBack','BankAddLine','BankAdd','BankEdit','BankDelete','SetDefault'], false)\r\n\t\t\tthis.setState({\r\n\t\t\t\tbackVisible: true\r\n\t\t\t})\r\n\t\t}\r\n        else if(cardStatus && cardStatus == 'browse') {\r\n\t\t\tthis.props.button.setButtonVisible(['BankAdd','BankEdit','BankDelete','BankRefresh','BankCardRefresh','SetDefault'],true);\r\n\t\t\tthis.props.button.setButtonVisible(['BankCancel','BankSave','BankRefresh','BankBack','BankAddLine'],false);\r\n\t\t\tthis.setState({\r\n\t\t\t\tbackVisible: true\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.button.setButtonVisible(['BankAdd','BankEdit','BankDelete','BankRefresh','BankBack','BankRefresh','BankCardRefresh','SetDefault'],false);\r\n\t\t\tthis.props.button.setButtonVisible(['BankCancel','BankSave','BankAddLine'],true);\r\n\t\t\tthis.setState({\r\n\t\t\t\tbackVisible: false\r\n\t\t\t})\r\n\t\t}\r\n    }\r\n\r\n\tgetData(mainPk,accnum,pk_banktype) {\r\n\t\tlet data = {\r\n\t\t\tmainPk,\r\n\t\t\taccnum,\r\n\t\t\tpk_banktype\r\n\t\t}\r\n\r\n\t\tajax({\r\n\t\t\turl: queryCardUrl,\r\n\t\t\tdata,\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tthis.props.form.setAllFormValue({[this.props.formId1]: res.data.head.supbankacc})\r\n\t\t\t\tthis.props.form.setAllFormValue({[this.props.formId2]: res.data.head.supbankacc})\r\n\t\t\t\tif(res.data.body[this.props.cardTableId])\r\n\t\t\t\t\tthis.props.cardTable.setTableData(this.props.cardTableId,res.data.body[this.props.cardTableId])\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tbuttonClick(props,id) {\r\n\t\tswitch(id) {\r\n\t\t\tcase 'BankAdd':\r\n\t\t\t\tthis.props.form.EmptyAllFormValue(this.props.formId1)\r\n\t\t\t\tthis.props.form.EmptyAllFormValue(this.props.formId2)\r\n\t\t\t\tthis.props.cardTable.setTableData(this.props.cardTableId,{rows : []})\r\n\t\t\t\tsetTimeout(() => this.props.form.setFormStatus(this.props.formId1,'edit'),1)\r\n\t\t\t\tsetTimeout(() => this.props.form.setFormStatus(this.props.formId2,'edit'),1)\r\n\t\t\t\tsetTimeout(() => this.props.cardTable.setStatus(this.props.cardTableId,'edit'),1)\r\n\t\t\t\tthis.cardStatus = 'add'\r\n\t\t\t\tsetTimeout(() => this.updateButtonStatus(),1)\r\n\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: exFieldUrl,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpk_country: this.props.form.getFormItemsValue('supplier_baseInfo','pk_country').value,\r\n\t\t\t\t\t\toperation: \"bankinfo\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif(res.data.pk_currtype) {\r\n\t\t\t\t\t\t\tthis.props.cardTable.addRow(this.props.cardTableId,0,{pk_currtype: {\r\n\t\t\t\t\t\t\t\tvalue: res.data.pk_currtype,\r\n\t\t\t\t\t\t\t\tdisplay: res.data.currtypename\r\n\t\t\t\t\t\t\t}})\r\n\t\t\t\t\t\t\tlet accNameValue = this.props.form.getFormItemsValue('supplier_baseInfo','name')\r\n\t\t\t\t\t\t\tthis.props.form.setFormItemsValue(this.props.formId1,{accname: {\r\n\t\t\t\t\t\t\t\tvalue: accNameValue.name.value,\r\n\t\t\t\t\t\t\t\tdisplay: accNameValue.name.display\r\n\t\t\t\t\t\t\t}})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//启用状态字段修正一下\r\n\t\t\t\t\t\tthis.props.form.setFormItemsValue(this.props.formId1, {enablestate: {\r\n\t\t\t\t\t\t\tvalue: '1',\r\n\t\t\t\t\t\t\tdisplay: this.props.json['10140SPF-000061']\r\n\t\t\t\t\t\t}})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'BankEdit': \r\n\t\t\t\tthis.props.form.setFormStatus(this.props.formId1,'edit')\r\n\t\t\t\tthis.props.form.setFormStatus(this.props.formId2,'edit')\r\n\t\t\t\tthis.props.cardTable.setStatus(this.props.cardTableId,'edit')\r\n\t\t\t\tthis.cardStatus = 'edit'\r\n\t\t\t\tsetTimeout(() => this.updateButtonStatus(),1)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'BankSave':\r\n\t\t\t\t// if(!this.props.form.isCheckNow([this.formId1,this.formId2])){\r\n\t\t\t\t// \treturn\r\n\t\t\t\t// }\r\n\t\t\t\tlet finalData = {\r\n\t\t\t\t\tisAdd: this.cardStatus == 'add' ? true : false\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.getValueFromForm(finalData)) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tfinalData.mainPk = this.props.mainPk\r\n\t\t\t\tajax({\r\n\t\t\t\t\turl: saveUrl,\r\n\t\t\t\t\tdata: finalData,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.props.form.setFormStatus(this.props.formId1,'browse')\r\n\t\t\t\t\t\tthis.props.form.setFormStatus(this.props.formId2,'browse')\r\n\t\t\t\t\t\tthis.props.cardTable.setStatus(this.props.cardTableId,'browse') \r\n\t\t\t\t\t\tthis.props.form.setAllFormValue({[this.props.formId1]: res.data.head.supbankacc})\r\n\t\t\t\t\t\tthis.props.form.setAllFormValue({[this.props.formId2]: res.data.head.supbankacc})\r\n\t\t\t\t\t\tif(res.data.body[this.props.cardTableId])\r\n\t\t\t\t\t\t\tthis.props.cardTable.setTableData(this.props.cardTableId,res.data.body[this.props.cardTableId])\r\n\t\t\t\t\t\t//this.getData(this.props.mainPk,this.accnum,this.pk_banktype)\r\n\t\t\t\t\t\tthis.accnum = res.data.head.supbankacc.rows[0].values.accnum.value\r\n\t\t\t\t\t\tthis.pk_banktype = res.data.head.supbankacc.rows[0].values.pk_banktype.value\r\n\t\t\t\t\t\tthis.cardStatus = 'browse'\r\n\t\t\t\t\t\tthis.updateButtonStatus()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'BankDelete':\r\n\t\t\t\t//this.props.modal.show('deleteBankacc')\r\n\t\t\t\tpromptBox({\r\n\t\t\t\t\tcolor: 'warning',               // 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n\t\t\t\t\ttitle: this.props.json['10140SPF-000008'],                // 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 确认删除*/\r\n\t\t\t\t\tcontent: this.props.json['10140SPF-000009'],             // 提示内容,非必输/* 国际化处理： 您确定要删除所选数据吗*/\r\n\t\t\t\t\tnoFooter: false,                // 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n\t\t\t\t\tnoCancelBtn: false,             // 是否显示取消按钮,，默认显示(false),非必输\r\n\t\t\t\t\tbeSureBtnName: this.props.json['10140SPF-000010'],          // 确定按钮名称, 默认为\"确定\",非必输/* 国际化处理： 确定*/\r\n\t\t\t\t\tcancelBtnName: this.props.json['10140SPF-000011'],           // 取消按钮名称, 默认为\"取消\",非必输/* 国际化处理： 取消*/\r\n\t\t\t\t\tbeSureBtnClick: this.delConfirm.bind(this)   // 确定按钮点击调用函数,非必输\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'BankCancel':\r\n\t\t\t\t//特殊处理一下新增时卡片界面取消按钮的操作\r\n\t\t\t\tif(this.cardStatus == 'add') {\r\n\t\t\t\t\tlet info = {\r\n\t\t\t\t\t\tisList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//跳转回列表界面\r\n\t\t\t\t\tthis.props.bankaccModalChange(info)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.props.form.cancel(this.formId1)\r\n\t\t\t\tthis.props.form.cancel(this.formId2)\r\n\t\t\t\tthis.props.cardTable.resetTableData(this.tableId)\r\n\t\t\t\tthis.props.form.setFormStatus(this.props.formId1,'browse')\r\n\t\t\t\tthis.props.form.setFormStatus(this.props.formId2,'browse')\r\n\t\t\t\tthis.props.cardTable.setStatus(this.props.cardTableId,'browse') \r\n\t\t\t\t// if(this.accnum && this.pk_banktype) {\r\n\t\t\t\t// \tthis.getData(this.props.mainPk,this.accnum,this.pk_banktype)\r\n\t\t\t\t// }\r\n\t\t\t\tthis.cardStatus = 'browse'\r\n\t\t\t\tthis.updateButtonStatus()\r\n\t\t\t\tbreak\r\n\t\t\tcase 'BankAddLine':\r\n\t\t\t\tsetTimeout(() => this.props.cardTable.addRow(this.props.cardTableId),1)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'SetDefault':\r\n\t\t\t\tlet checkedRows = this.props.cardTable.getCheckedRows(this.props.cardTableId)\r\n\t\t\t\tif(checkedRows.length > 0) {\r\n\t\t\t\t\tlet checkedRow = checkedRows[0]\r\n\t\t\t\t\tlet pk_bankaccsub = checkedRow.data.values.pk_bankaccsub.value\r\n\r\n\t\t\t\t\t//对于设为默认的操作，前端处理下：当前银行账户存在默认币种，默认币种由其中一个变为另外一个的情形\r\n\t\t\t\t\t//对于多个银行账户且其他银行账户含有默认币种，然后设置当前银行账户的一个币种为默认币种的情形，后端做处理\r\n\t\t\t\t\tlet allRow = this.props.cardTable.getAllRows(this.props.cardTableId)\r\n\t\t\t\t\tallRow.forEach(row => {\r\n\t\t\t\t\t\tif(row.values.pk_bankaccsub.value == pk_bankaccsub) {\r\n\t\t\t\t\t\t\trow.values.isdefault = {\r\n\t\t\t\t\t\t\t\tvalue: true,\r\n\t\t\t\t\t\t\t\tdisplay: this.props.json['10140SPF-000012']/* 国际化处理： 是*/\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\trow.values.isdefault = {\r\n\t\t\t\t\t\t\t\tvalue: false,\r\n\t\t\t\t\t\t\t\tdisplay: this.props.json['10140SPF-000013']/* 国际化处理： 否*/\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.props.cardTable.setTableData(this.props.cardTableId,{rows: allRow},() => {\r\n\t\t\t\t\t\tthis.buttonClick(this.props,'BankSave')\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t//this.buttonClick(this.props,'BankSave')\t\r\n\t\t\t\t\t// if(!checkedRow.data.values.isdefault.value) {\r\n\t\t\t\t\t// \tthis.props.cardTable.setValByKeyAndIndex(this.props.cardTableId,checkedRow.index, 'isdefault', {value: true,display: '是'})\r\n\t\t\t\t\t// \tthis.buttonClick(this.props,'BankSave')\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase 'BankBack':\r\n\t\t\t\tlet info = {\r\n\t\t\t\t\tisList: false\r\n\t\t\t\t}\r\n\t\t\t\t//跳转回列表界面\r\n\t\t\t\tthis.props.bankaccModalChange(info)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'BankCardRefresh':\r\n\t\t\t\tthis.getData(this.props.mainPk,this.accnum,this.pk_banktype)\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\tgetValueFromForm(finalData) {\r\n\t\tlet formValue1 = this.props.form.getAllFormValue(this.props.formId1)\r\n\t\tlet formValue2 = this.props.form.getAllFormValue(this.props.formId2)\r\n\t\tdelete formValue1.rows[0].values.bankaccsub\r\n\t\tdelete formValue2.rows[0].values.bankaccsub\r\n\t\tfinalData.form1 = {model: formValue1}\r\n\t\tfinalData.form2 = {model: formValue2}\r\n\t\tlet currTypeInfo = this.props.cardTable.getAllRows(this.props.cardTableId)\r\n\t\tfinalData.cardTable = {\r\n\t\t\tmodel: {\r\n\t\t\t\trows: this.props.cardTable.getAllRows(this.props.cardTableId)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//构建必输项校验错误提示信息（isCheckNow不提供相应的提示信息？？？？？）\r\n\t\tlet emtpyNesItems = []\r\n\t\tlet meta = this.props.meta.getMeta()\r\n\t\tmeta[this.formId1].items.forEach(item => {\r\n\t\t\tif(item.required) {\r\n\t\t\t\tif(formValue1.rows[0].values[item.attrcode].value == null || formValue1.rows[0].values[item.attrcode].value == '') {\r\n\t\t\t\t\temtpyNesItems.push(item.label)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t//提示\r\n\t\tlet formErrorMsg = null\r\n\t\tif(emtpyNesItems.length > 0) {\r\n\t\t\tformErrorMsg = `${this.props.json['10140SPF-000018']}：\\n[${emtpyNesItems.join('],[')}]`/* 国际化处理： 下列字段值不能为空*/\r\n\t\t\ttoast({content: formErrorMsg, color: 'danger'})\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tif(currTypeInfo == null || currTypeInfo.length == 0) {\r\n\t\t\ttoast({color: 'warning',content: this.props.json['10140SPF-000014']})/* 国际化处理： 客商银行账户必须设置一个币种！*/\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\tonAfterEvent(props, moduleId, key, value, oldValue) {\r\n\t\tif(oldValue == null || oldValue.value == null || (oldValue.value && value.value != oldValue.value)) {\r\n\t\t\tif(key == 'pk_banktype') {\r\n\t\t\t\tlet meta = props.meta.getMeta()\r\n\t\t\t\tlet targetItem = meta.accbasinfo.items.find((item) => item.attrcode == 'pk_bankdoc')\r\n\t\t\t\ttargetItem.queryCondition = () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpk_banktype: value.value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tprops.meta.setMeta(meta)\r\n\t\t\t}\r\n\t\t\telse if(key == 'pk_bankdoc') {\r\n\t\t\t\tif(value && value.value) {\r\n\t\t\t\t\tajax({\r\n\t\t\t\t\t\turl: exFieldUrl,\r\n\t\t\t\t\t\tdata: {operation: 'bankdoc', primaryKey: value.value},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif(res.data) {\r\n\t\t\t\t\t\t\t\tlet setObj = {\r\n\t\t\t\t\t\t\t\t\tpk_banktype: {\r\n\t\t\t\t\t\t\t\t\t\tvalue: res.data.value,\r\n\t\t\t\t\t\t\t\t\t\tdisplay: res.data.display\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.props.form.setFormItemsValue(this.formId1, setObj)\r\n\t\t\t\t\t\t\t\tthis.props.form.setFormItemsDisabled(this.formId1,{pk_banktype: true})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.props.form.setFormItemsDisabled(this.formId1,{pk_banktype: false})\r\n\t\t\t\t\tthis.props.form.setFormItemsValue(this.formId1, {pk_banktype: {value: null, display: null}})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetTableHead() {\r\n\t\tlet {createButtonApp} = this.props.button\r\n\t\treturn (\r\n\t\t\t<div className=\"shoulder-definition-area\">\r\n\t\t\t\t<div className=\"definition-icons\">\r\n\t\t\t\t\t{createButtonApp({\r\n\t\t\t\t\t\tarea: 'bank-body',\r\n\t\t\t\t\t\tonButtonClick: this.buttonClick.bind(this)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t//删除单据\r\n\tdelConfirm = () => {\r\n\t\tlet info = {\r\n\t\t\tmainPk: this.props.mainPk,\r\n\t\t\taccnum: this.accnum,\r\n\t\t\tpk_banktype: this.pk_banktype\r\n\t\t}\r\n\t\tajax({\r\n\t\t\turl: deleteUrl,\r\n\t\t\tdata: info,\r\n\t\t\tsuccess: res => {\r\n\t\t\t\t// this.props.form.EmptyAllFormValue(this.props.formId1)\r\n\t\t\t\t// this.props.form.EmptyAllFormValue(this.props.formId2)\r\n\t\t\t\t// this.props.cardTable.setTableData(this.props.cardTableId,{rows : []})\r\n\t\t\t\t//还是直接跳转回卡片界面吧，不然删除啦，刷新啦，都会报错，还要做控制……\r\n\t\t\t\tinfo = {\r\n\t\t\t\t\tisList: false\r\n\t\t\t\t}\r\n\t\t\t\t//跳转回列表界面\r\n\t\t\t\tthis.props.bankaccModalChange(info)\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet { cardTable, form, button, modal, cardPagination } = this.props;\r\n\t\tconst {createCardPagination} = cardPagination;\r\n\t\tlet { createForm } = form;\r\n\t\tlet { createCardTable } = cardTable;\r\n\t\tlet { createButtonApp } = button;\r\n\t\tlet { createModal } = modal;\r\n\t\tlet iconItem = this.state.showAccbase ? 'icon-jiantouxia1' : 'icon-jiantouyou'\r\n\r\n\t\tlet groupItem = this.state.showAccbase ? \"show-form\" : \"hide-form\"\r\n\r\n\t\tlet iconItem2 = this.state.showNetBank ? 'icon-jiantouxia1' : 'icon-jiantouyou'\r\n\t\tlet groupItem2 = this.state.showNetBank ? \"show-form\" : \"hide-form\"\r\n\t\treturn (\r\n\t\t\t<div  id='nc-bill-card'>\r\n\t\t\t\t\t<div className=\"nc-bill-card\">\r\n\t\t\t\t\t\t<NCAffix>\r\n\t\t\t\t\t\t\t<div className='nc-bill-header-area'>\r\n\t\t\t\t\t\t\t\t<NCBackBtn className='title-search-detail' style={{'line-height':'32px',display: this.state.backVisible ? 'inline' : 'none'}}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ this.buttonClick.bind(this,this.props,'BankBack') }></NCBackBtn>\r\n\t\t\t\t\t\t\t\t<div className=\"header-button-area\">\r\n\t\t\t\t\t\t\t\t\t{createButtonApp({\r\n\t\t\t\t\t\t\t\t\t\tarea: 'bank-action',//按钮注册中的按钮区域\r\n\t\t\t\t\t\t\t\t\t\t//buttonLimit: 5, \r\n\t\t\t\t\t\t\t\t\t\tonButtonClick: this.buttonClick.bind(this) \r\n\t\t\t\t\t\t\t\t\t\t//popContainer: document.querySelector('.header-button-area')\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t                </div>\r\n\t\t\t\t\t\t</NCAffix>\r\n\t\t\t\t\t\t<div className=\"nc-bill-form-area\">\r\n\t\t\t\t\t\t\t<div className='group-form-wrapper'>\r\n\t\t\t\t\t\t\t\t<div className=\"group-form-name\">\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName={`toggle-form-icon iconfont ${iconItem}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tlet show = !this.state.showAccbase\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowAccbase: show\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<span className=\"name\">{this.props.json['10140SPF-000015']/* 国际化处理： 账户基本信息*/}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={`group-form-item ${groupItem} `}>\r\n\t\t\t\t\t\t\t\t\t{createForm(this.props.formId1, {\r\n\t\t\t\t\t\t\t\t\t\tonAfterEvent: this.onAfterEvent.bind(this)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='group-form-wrapper'>\r\n\t\t\t\t\t\t\t\t<div className=\"group-form-name\">\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName={`toggle-form-icon iconfont ${iconItem2}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tlet show = !this.state.showNetBank\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowNetBank: show\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<span className=\"name\">{this.props.json['10140SPF-000016']/* 国际化处理： 网银信息*/}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={`group-form-item ${groupItem2} `}>\r\n\t\t\t\t\t\t\t\t\t{createForm(this.props.formId2, {\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"nc-bill-table-area\">\r\n\t\t\t\t\t\t\t{createCardTable(this.tableId, {\r\n\t\t\t\t\t\t\t\ttableHead: this.getTableHead.bind(this),\r\n\t\t\t\t\t\t\t\tshowIndex:true,\r\n\t\t\t\t\t\t\t\tshowCheck: true\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{createModal('deleteBankacc', {\r\n\t\t\t\t\t\t\ttitle: this.props.json['10140SPF-000008'],/* 国际化处理： 确认删除*/\r\n\t\t\t\t\t\t\tcontent: this.props.json['10140SPF-000017'],/* 国际化处理： 您确定要删除所选数据吗?*/\r\n\t\t\t\t\t\t\tbeSureBtnClick: this.delConfirm.bind(this)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Card\r\n","import { high, base } from 'nc-lightapp-front';\nimport { conf as unitConf } from '../../org/BusinessUnitTreeRef/index';\n\nconst { PopRefer, MultiLangWrapper, ReferWithUnit } = high.Refer;\nconst { Refer } = high;\nconst { NCCheckbox: Checkbox, NCCollapse: Collapse, NCButton: Button, NCTable: Table } = base;\n\nclass PsndocGridTreeRef extends ReferWithUnit {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t...this.state, // 继承state\n\t\t\tunit: {},\n\t\t\tisShowDimission: false,  //是否显示离职人员\n\t\t}\n\t}\n\n\t// 复写原型方法\n\tgetParam = (param = {}) => {\n\t\tlet { queryCondition, pageSize, refType } = this.props,\n\t\t\t{ keyword = '', pid = '', pageInfo = {} } = param;\n\t\tpageInfo = {\n\t\t\tpageSize: pageInfo.pageSize || pageSize,\n\t\t\tpageIndex: pageInfo.pageIndex || (refType === 'tree' ? -1 : 0)\n\t\t};\n\n\t\tlet _param = {\n\t\t\tpid,\n\t\t\tkeyword,\n\t\t\tqueryCondition: queryCondition\n\t\t\t\t? typeof queryCondition === 'function'\n\t\t\t\t\t? queryCondition(this.props)\n\t\t\t\t\t: typeof queryCondition === 'object' ? queryCondition : {}\n\t\t\t\t: {},\n\t\t\tpageInfo,\n\t\t\trefType\n\t\t};\n\n\t\t_param.queryCondition.isShowDimission = this.state.isShowDimission ? 'Y' : 'N';\n\n\t\treturn _param;\n\t};\n\n\trenderPopoverLeftHeader = () => {\n\t\treturn this.props.isShowDimission && (<div style={{ 'margin-bottom': '5px', 'margin-left': '10px' }}>\n\t\t\t<Checkbox checked={this.state.isShowDimission} onChange={this.onChangeFirst.bind(this)}>{this.props.multiLang['refer-000570'] ? this.props.multiLang['refer-000570'] : '显示离职人员'}</Checkbox>\n\t\t</div>)\n\t}\n\n\tonChangeFirst = (checked) => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tisShowDimission: checked,\n\t\t\t\tisShowDisabledData: checked,\n\t\t\t\tisDisabledDataDisabled: checked,\n\t\t\t},\n\n\t\t\t() => {\n\t\t\t\tlet param = this.getParam({\n\t\t\t\t\tpid: this.state.selectedKeys[0],\n\t\t\t\t\tpageInfo: {\n\t\t\t\t\t\tpageSize: this.props.pageSize,\n\t\t\t\t\t\tpageIndex: 0\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (param.pid !== null && param.pid !== undefined && param.pid !== \"\") {\n\t\t\t\t\tthis.loadTableData(param).then((data) => {\n\t\t\t\t\t\tthis.setTableData('tableData', this.state.currentLevel, data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n}\n\nexport default function (props = {}) {\n\tvar conf = {\n\t\tmultiLang: {\n\t\t\tdomainName: 'uapbd',\n\t\t\tcurrentLocale: 'zh-CN',\n\t\t\tmoduleId: 'refer_uapbd',\n\t\t},\n\n\t\trefType: 'gridTree',\n\t\trefName: 'refer-000369',/* 国际化处理： 人员*/\n\t\tplaceholder: 'refer-000369',/* 国际化处理： 人员*/\n\t\trootNode: { refname: 'refer-000216', refpk: 'root' },/* 国际化处理： 部门*/\n\t\trefCode: 'uapbd.psninfo.PsndocTreeGridRef',\n\t\tqueryTreeUrl: '/nccloud/uapbd/ref/PsndocTreeRef.do',\n\t\tqueryGridUrl: '/nccloud/uapbd/ref/PsndocGridRef.do',\n\t\tcolumnConfig: [\n\t\t\t{\n\t\t\t\tname: ['refer-000370', 'refer-000371', 'refer-000216'],/* 国际化处理： 人员编码,姓名,部门*/\n\t\t\t\tcode: ['refcode', 'refname', 'deptname']\n\t\t\t}\n\t\t],\n\t\ttreeConfig: { name: ['refer-000002', 'refer-000003'], code: ['refcode', 'refname'] },/* 国际化处理： 编码,名称*/\n\t\tisMultiSelectedEnabled: false,\n\t\tunitProps: unitConf,\n\t\tisShowUsual: true,\n\t\tisShowUnit: false\n\t};\n\n\treturn <PsndocGridTreeRefWrapper {...conf} {...props} />\n}\n\nconst PsndocGridTreeRefWrapper = MultiLangWrapper(PsndocGridTreeRef)\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","import { high } from 'nc-lightapp-front';\nconst {Refer} = high;\n\nexport default function (props = {}) {\n\treturn <Refer {...conf} {...props} />\n}\n\nexport \tvar conf = {multiLang: { \t\tdomainName: 'uap', \t\tcurrentLocale: 'zh-CN', \t\tmoduleId: 'uapRefer', \t},\n\tqueryTreeUrl:'/nccloud/riart/ref/groupRefTreeAction.do',\n\trefType:\"tree\",\n\t//isMultiSelectedEnabled:true\n\tplaceholder:'1880000025-000061',/* 国际化处理： 集团*/\n\trefName:'1880000025-000061',/* 国际化处理： 集团*/\n\trootNode: { refname: '1880000025-000061', refpk: 'root' },/* 国际化处理： 集团*/\n};\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n"],"sourceRoot":""}