{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/./node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js","webpack://[name]/./node_modules/_style-loader@0.18.2@style-loader/lib/urls.js","webpack://[name]/./src/uapbd/pmbase/project_base/card/index.js","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://[name]/external {\"root\":\"ReactDOM\",\"var\":\"ReactDOM\",\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\"}","webpack://[name]/./src/uapbd/pmbase/project_base/assign/AssignModal.js","webpack://[name]/./src/uapbd/public/utils/BDCreateUIDom.js","webpack://[name]/./src/uapbd/pmbase/project_base/assign/OrgSelect.js","webpack://[name]/./src/uapbd/public/uapbdstyle/uapbd_style_common.less?0b4f","webpack://[name]/./src/uapbd/public/uapbdstyle/uapbd_style_common.less","webpack://[name]/./node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","stylesInDom","isOldIE","fn","memo","apply","this","arguments","memoize","document","all","atob","getElement","selector","target","querySelector","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","options","length","item","domStyle","id","refs","j","parts","push","addStyle","listToStyles","list","newStyles","base","part","css","media","sourceMap","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","transform","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","link","rel","createLinkElement","autoFixUrls","undefined","convertToAbsoluteUrls","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","replaceText","textStore","index","replacement","filter","Boolean","join","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","_react","_ncLightappFront","cardCache","getCacheById","updateCache","addCache","getCurrentLastId","getNextId","deleteCacheById","setDefData","getDefData","NCAffix","NCBackBtn","NCPopconfirm","NCFormControl","PrintOutput","high","formId","tableId","searchId","printUrl","pk_item","titleCode","cachKey","Card","props","_classCallCheck","_this2","_possibleConstructorReturn","__proto__","getPrototypeOf","_initialiseProps","state","pk_org","title_code","totalcount","applycount","json","_BDCreateUIDom2","default","pagecode","pagecode_card","domainName","data","langData","template","meta","modifierMeta","setMeta","button","setButtons","toggleShow","Component","getUrlParam","pk","getdata","nodeType","setDefaultValue","l_formstatus","form","getFormStatus","onbeforeunload","pushTo","listUrl","pagecode_list","appcode","status","_this3","_props","cardTable","modal","createCardPagination","cardPagination","createForm","getButtons","createCardTable","createButtonApp","createModal","nodeName","_react2","className","onClick","onReturnClick","area","onButtonClick","buttonClick","handlePageInfoChange","pageInfoClick","dataSource","marginBottom","onAfterEvent","onOrgChange","afterEvent","tableHead","getTableHead","modelSave","showIndex","title","content","beSureBtnClick","delConfirm","_AssignModal2","_extends","ref","assignModal","getData","url","funcode","printFunCode","nodekey","printNodeKey","oids","ids","outputType","callback","rst","_this4","setValue","ajax","success","res","event","setAllFormValue","_defineProperty","head","billcode","rows","values","setFormItemsDisabled","billnumberIsEditable","body","setTableData","getFormItemsValue","setDeptPsnRefCond","setFormStatus","setStatus","EmptyAllFormValue","setUrlParam","valid","promptBox","color","cacheTools","saveClick","cancel","addRow","enableAction","disableAction","show","onPrint","onOutput","_data","pks","allData","getAllFormValue","print","toast","setState","printOutput","open","isSwitch","curSels","enablestate","model","getMeta","items","map","attrcode","queryCondition","busifuncode","setEnablestate","stat","setFormItemsValue","display","changedrows","g","pk_dutier","scale","pk_duty_dept_v","pk_vid","pk_currtype","deptValue","cancelBtnClick","rowNum","getNumberOfRows","isChangedRow","element","setValByKeyAndIndex","refpk","refcode","refname","showorder","pk_parti_org_v","pk_parti_org_v.name","split","btn","pk_group","orgvalue","validBodyRepeat","pkMap","Map","row","toString","set","errMsg","includes","validHead","formData","startDate","plan_start_date","finishDate","plan_finish_date","Date","parse","isCheckNow","checkTableRequired","msg","filterEmptyRows","visibleRows","getVisibleRows","CardData","createMasterChildData","validateToSave","pk_value","deleteinfo","ts","nextId","closeModel","getButtonNames","codeId","_data2","createBrowseIcons","iconArr","maxDestAreaId","AppCode","TreeRefActionExt","isMultiSelectedEnabled","onlyLeafCanSelect","that","porCol","label","visible","width","itemtype","fixed","render","text","record","btnArray","tableBtnAry","createOprationButton","buttonLimit","tableButtonClick","delRowsByIndex","toggleRowView","openModel","console","log","setButtonDisabled","setButtonVisible","setCardPaginationVisible","hideColByKey","isAdd","showColByKey","headOrg","NCButton","NCModal","AssignModal","_this","loadData","loadSaleInfoGridData","loadSubGridData","config","subGrid5","custsaleForm","loadFinaceInfoGridData","subGrid4","custfinanceForm","loadCreDitCtlInfoGridData","subGrid6","creditctlForm","modalDropup","size","backdrop","isAssign","pk_project","flag","orgSelect","reset","targetOrgIds","selectData","datas","table","getCheckedRows","gridId","projectpks","pkcustList","message","modalCfg","onHide","Header","closeButton","Title","Body","_OrgSelect2","Footer","onsubmit","pageCfg","langCfg","count","hander","templateData","inlt","newLangCfg","MultiInit","getMultiLang","createUIDom","NCTable","NCTree","NCCol","NCRow","OrgSelect","onExpandFn","tree","expandedKeys","main","defNodeCfg","renderNode","renderfn","disableCheckbox","nodeData","orgclazz","loopRender","nodecfg","children","NCTreeNode","isExpand","renderFileTreeTitle","isLeaf","checkable","defaultExpandAll","checkStrictly","onCheck","selectedKeys","e","node","checked","selectedData","code","concat","rowKey","bodyStyle","overflow-y","height","columns","dataIndex","orgtypeIDs","isCludeGlobalAndGroupVO","isProject_grp","treedata","selectDatas","checkedKeys","marginTop","padding","background","field","marginLeft","fieldname","closeIcon","class","openIcon","onExpand","overflow","scroll","y","locals","useSourceMap","cssMapping","sourceMapping","toComment","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules"],"mappings":"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","file":"uapbd/pmbase/project_base/card/index.5e1f70a4.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/pmbase/project_base/card/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"uapbd/pmbase/project_base/card/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"], root[\"ReactDOM\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 164);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","//主子表卡片\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createPage, ajax, base, toast,cacheTools,print,high,getBusinessInfo,promptBox,getMultiLang,cardCache} from 'nc-lightapp-front';\r\nlet { getCacheById, updateCache ,addCache,getCurrentLastId ,getNextId, deleteCacheById,setDefData, getDefData} = cardCache;\r\nconst { NCAffix,NCPopconfirm,NCFormControl,NCBackBtn} = base;\r\nconst {PrintOutput} = high;\r\nimport AssignModal from '../assign/AssignModal';\r\nimport createUIDom from '../../../public/utils/BDCreateUIDom';\r\n\r\nconst formId = 'head';                      //表头id\r\nconst tableId = 'bodyvos';                  //子表id\r\nconst pageId = '10140PRJG_card';            //pagecode\r\nconst searchId = 'search';                  //查询区id\r\nconst appId ='10140PRJG';        //按钮注册id\r\nconst queryCardUrl = '/nccloud/uapbd/pmbase/ProjectCardQuery.do';   //卡片查询url\r\nconst saveUrl = '/nccloud/uapbd/pmbase/ProjectSave.do';             //新增保存\r\nconst updateUrl = '/nccloud/uapbd/pmbase/ProjectUpdate.do';         //修改保存\r\nconst deleteUrl = '/nccloud/uapbd/pmbase/ProjectDelete.do';         //删除\r\nconst qryUserInfoUrl = '/nccloud/uapbd/sminfo/PaymentLoginUserInfoQuery.do'//登录用户信息\r\nconst enableUrl = '/nccloud/uapbd/pmbase/ProjectEnable.do';         //启用\r\nconst disableUrl = '/nccloud/uapbd/pmbase/ProjectDisable.do';       //停用\r\nconst printUrl = '/nccloud/uapbd/pmbase/ProjectPrint.do';       //打印\r\nconst addUrl = '/nccloud/uapbd/pmbase/ProjectAdd.do';           //新增\r\nconst vaidUrl = '/nccloud/uapbd/pmbase/ProjectValid.do';        //校验\r\nconst pk_item = 'pk_project';               //单据主键--用于卡片查询刷新\r\nconst titleCode = 'project_code';           //单据编码--用于卡片表头显示\r\n// const titleName = this.state.json['10140PRJB-000011'];\t\t\t\t\t//节点名称/* 国际化处理： 项目*/\r\n//const tableBtnAry = ['delline','detail','spread'];\t\t//表格列操作按钮\r\nconst cachKey = '10140PRJG_list';//缓存的标识\r\n\r\nlet tableBtnAry =(props)=>{\r\n    return props.getUrlParam('status') === 'browse'\r\n        ? [ 'detail' ]: ['insertline','delline','spread'];\r\n}\r\n\r\n//\r\n// let initTemplate =(props)=>{\r\n//\r\n// }\r\n\r\n\r\nclass Card extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.formId = formId;\r\n        this.searchId = searchId;\r\n        this.tableId = tableId;\r\n        this.state = {\r\n            pk_org : '',\r\n            title_code : '',\r\n            totalcount : 0,\r\n            applycount : 0,\r\n            json:{}\t\r\n        }\r\n        createUIDom(props)(\r\n            {\r\n                pagecode: props.pagecode_card//,//页面id\r\n                // appcode: props.appcode//注册按钮的id\r\n            },\r\n            {\r\n                moduleId: \"10140PRJB\",domainName: 'uapbd'\r\n            },\r\n            (data,langData)=>{\r\n                if(langData){\r\n                    this.state.json = langData;\r\n                }\r\n                if(data){\r\n                    if(data.template){\r\n                        let meta = data.template;\r\n                        this.modifierMeta(props, meta)\r\n                        props.meta.setMeta(meta);\r\n                        // let status = props.getUrlParam('status');\r\n                        // if(status && status == 'add'){\r\n                        // \tprops.cardTable.addRow(tableId);\r\n                        // }\r\n                    }\r\n                    if(data.button){\r\n                        let button = data.button;\r\n                        props.button.setButtons(button);\r\n                        this.toggleShow(props);\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        // toggleShow(this.props);\r\n\r\n        let status = this.props.getUrlParam('status');\r\n        if(status != \"add\"){\r\n            let\tpk = this.props.getUrlParam('id');\r\n            if(pk && pk != 'undefined'){\r\n                this.getdata(pk);\r\n            }\r\n        }\r\n        else{\r\n            let data = {\r\n                nodeType:this.props.nodeType\r\n            }\r\n            this.setDefaultValue(data);\r\n        }\r\n        this.toggleShow(this.props);\r\n    }\r\n\r\n\r\n    componentDidUpdate(){\r\n        let l_formstatus = this.props.form.getFormStatus(formId);\r\n        if(l_formstatus != 'add' && l_formstatus != \"edit\"){\r\n            window.onbeforeunload = null;\r\n        }\r\n        else{\r\n            window.onbeforeunload = () => {//编辑态关闭页签或浏览器的提示\r\n                return '';\r\n            };\r\n        }\r\n    }\r\n\r\n    setDefaultValue = (data,callback) =>{\r\n        // this.props.form.setFormItemsValue(this.formId,{'bill_status':{value:'0',display:'自由态'}});\r\n        // if(this.props.nodeType == 'group'){\r\n        //    ajax({\r\n        //        url:qryUserInfoUrl,\r\n        //        success:(res)=>{\r\n        //            this.props.form.setFormItemsValue(this.formId,{'pk_org':\r\n        //                    {\r\n        //                        value:res.data.group.pk_group,\r\n        //                        display:res.data.group.name\r\n        //                    }});\r\n        //        }\r\n        //    })\r\n        // }\r\n        // else if(this.props.nodeType == 'global'){\r\n        //\r\n        //    this.props.form.setFormItemsValue(this.formId,{'pk_org':\r\n        //            {\r\n        //                value:'GLOBLE00000000000000',\r\n        //                display:'全局'\r\n        //            }});\r\n        // }\r\n\r\n        let rst = getDefData('listAddData',cachKey);\r\n        if(rst && rst != null){\r\n            this.setValue(data,rst);\r\n            setDefData('listAddData',cachKey,null);\r\n        }else{\r\n            ajax({\r\n                url:addUrl,\r\n                data,\r\n                success:(res)=>{\r\n                    if(res){\r\n                        this.setValue(data,res);\r\n                        callback && callback();\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    setValue=(data,res)=>{  \r\n\r\n        if(!(data.event && data.event == 'cancel')){\r\n\r\n            this.props.form.setAllFormValue({[this.formId]:res.data[\"10140PRJG_card\"].head[this.formId]});\r\n            \r\n            let billcode = res.data[\"10140PRJG_card\"].head[this.formId].rows[0].values[titleCode].value;\r\n\r\n            if(billcode && billcode != ''){\r\n                //是否可编辑\r\n                this.props.form.setFormItemsDisabled(this.formId,{[titleCode]:res.data.billnumberIsEditable=='Y'?false:true});\r\n            }\r\n            if(res.data[\"10140PRJG_card\"].body){\r\n                this.props.cardTable.setTableData(this.tableId, res.data[\"10140PRJG_card\"].body[this.tableId]);\r\n            }else{\r\n                this.props.cardTable.setTableData(this.tableId, []);\r\n            }\r\n            // translateSwitch();\r\n            // this.props.form.setFormItemsValue(this.formId,{'enablestate':{value:true,display:'已启用'}});\r\n            // 项目组织节点，责任组织由项目组织带出,修改态不能编辑项目组织，所以取管理组织值，不触发编辑后事件,这先加上处理，之后可以看看改成编辑前事件\r\n            if(this.props.nodeType == 'org'){\r\n                let pk_org = this.props.form.getFormItemsValue(this.formId,'pk_org').value;\r\n                this.setDeptPsnRefCond(this.props,pk_org);\r\n\r\n                //项目组织节点，没有选项目组织的时候，表头不可编辑\r\n                if(pk_org){\r\n                    this.props.form.setFormStatus(formId,this.props.getUrlParam('status'))\r\n                    this.props.cardTable.setStatus(tableId, this.props.getUrlParam('status'));\r\n                }else{\r\n                    this.props.form.setFormStatus(formId, 'browse');\r\n                    this.props.cardTable.setStatus(tableId, 'browse');\r\n                }                        \r\n            }\r\n        }\r\n        this.toggleShow(this.props);\r\n    \r\n    }\r\n\r\n\r\n    buttonClick =(props, id)=>{\r\n\r\n        let _this = this;\r\n        switch (id) {\r\n            case 'add':\r\n                let data = {\r\n                    nodeType:props.nodeType\r\n                }\r\n                this.setDefaultValue(data,()=>{\r\n                    props.form.EmptyAllFormValue(\"org_select\")\r\n                    props.form.EmptyAllFormValue(this.formId)\r\n                    props.cardTable.setTableData(this.tableId, { rows: [] })\r\n                    // props.linkTo(props.cardUrl, {\r\n                    //     appcode:props.appcode,\r\n                    //     pagecode:props.pagecode_card,\r\n                    //     status: 'add'\r\n                    // })   \r\n                    props.setUrlParam({\r\n                        appcode:props.appcode,\r\n                        pagecode:props.pagecode_card,\r\n                        status: 'add'\r\n                    });\r\n                });\r\n                break\r\n            case 'edit':\r\n                this.valid(props,()=>{\r\n                    // props.linkTo(props.cardUrl, {\r\n                    //     appcode:props.appcode,\r\n                    //     pagecode:props.pagecode_card,\r\n                    //     status: 'edit',\r\n                    //     id: props.getUrlParam('id')\r\n                    // })\r\n                    props.setUrlParam({\r\n                        appcode:props.appcode,\r\n                        pagecode:props.pagecode_card,\r\n                        status: 'edit',\r\n                        id: props.getUrlParam('id')\r\n                    });\r\n                    this.toggleShow(props);\r\n                })\r\n                break;\r\n            case 'delete':\r\n                this.valid(props,()=>{\r\n                        promptBox({\r\n                            color:\"warning\",title: this.state.json['10140PRJB-000010'],/* 国际化处理： 删除*/\r\n                            content: this.state.json['10140PRJB-000013'],/* 国际化处理： 确定要删除吗？*/\r\n                            beSureBtnClick: this.delConfirm.bind(this)\r\n                    })})\r\n                break\r\n            case 'back':\r\n                props.pushTo(props.listUrl, {\r\n                    appcode:props.appcode,\r\n                    pagecode:props.pagecode_list,\r\n                    status: 'browse'\r\n                });\r\n                cacheTools.remove('preid');\r\n                break\r\n            case 'save':\r\n                this.saveClick();\r\n                break\r\n            case 'cancel':\r\n                promptBox({\r\n                    color:\"warning\",\r\n                    title: this.state.json['10140PRJB-000012'],/* 国际化处理： 取消*/\r\n                    content: this.state.json['10140PRJB-000014'],/* 国际化处理： 确定要取消吗？*/\r\n                    beSureBtnClick: this.cancel.bind(this,props)\r\n                });\r\n                break\r\n            case 'addline':\r\n                props.cardTable.addRow(this.tableId);\r\n                break\r\n            case 'refresh':\r\n                // props.linkTo(props.cardUrl, {\r\n                //     appcode:props.appcode,\r\n                //     pagecode:props.pagecode_card,\r\n                //     status:props.getUrlParam('status'),\r\n                //     id:props.getUrlParam('id')\r\n                // })\r\n                props.setUrlParam({\r\n                    appcode:props.appcode,\r\n                    pagecode:props.pagecode_card,\r\n                    status:props.getUrlParam('status'),\r\n                    id:props.getUrlParam('id')\r\n                });\r\n                this.getdata(props.getUrlParam('id'),'refresh');\r\n                break;\r\n            case 'enable':\r\n                this.valid(props,()=>{\r\n                    promptBox({\r\n                        color:\"warning\",\r\n                        title: this.state.json['10140PRJB-000012'],/* 国际化处理： 注意*/\r\n                        content: this.state.json['10140PRJB-000015'],/* 国际化处理： 确认启用？*/\r\n                        beSureBtnClick: this.enableAction.bind(this)\r\n                    });\r\n                })\r\n                break;\r\n            case 'enable1':\r\n                this.valid(props,()=>{\r\n                    promptBox({\r\n                        color:\"warning\",\r\n                        title: this.state.json['10140PRJB-000012'],/* 国际化处理： 注意*/\r\n                        content: this.state.json['10140PRJB-000015'],/* 国际化处理： 确认启用？*/\r\n                        beSureBtnClick: this.enableAction.bind(this)\r\n                    });\r\n                })\r\n                break;\r\n            case 'disable':\r\n                this.valid(props,()=>{\r\n                    promptBox({\r\n                        color:\"warning\",\r\n                        title: this.state.json['10140PRJB-000012'],/* 国际化处理： 注意*/\r\n                        content: this.state.json['10140PRJB-000016'],/* 国际化处理： 确认停用？*/\r\n                        beSureBtnClick: this.disableAction.bind(this)\r\n                    });\r\n                })\r\n                break;\r\n            case 'assig':\r\n                this.valid(props,()=>{this.assignModal.show('assign');})\r\n                break;\r\n            case 'assig1':\r\n                this.valid(props,()=>{this.assignModal.show('assign');})\r\n            case 'unassig':\r\n                this.valid(props,()=>{this.assignModal.show('unassig');})\r\n                break;\r\n            case 'printGrp':\r\n                this.onPrint();\r\n                break;\r\n            case 'print':\r\n                this.onPrint();\r\n                break;\r\n            case 'output':\r\n                this.onOutput();\r\n                break;\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    \r\n    cancel=(props)=>{\r\n\r\n        let pk = this.props.getUrlParam('id');\r\n        if(!pk){\r\n            pk = getCurrentLastId(cachKey);\r\n        }\r\n\r\n        //回退单据号\r\n        if (props.getUrlParam('status') === 'add') {\r\n            let billcode = this.props.form.getFormItemsValue(this.formId,titleCode).value;\r\n            let data ={\r\n                event:'cancel',\r\n                [titleCode]:billcode==null?null:billcode,\r\n                nodeType:props.nodeType\r\n            }\r\n            this.setDefaultValue(data);\r\n        }\r\n\r\n        props.setUrlParam({\r\n            appcode:props.appcode,\r\n            pagecode:props.pagecode_card,\r\n            status: 'browse',\r\n            id: pk \r\n        });\r\n\r\n        this.getdata(pk);\r\n        this.toggleShow(this.props);\r\n\r\n        // debugger\r\n        // if (props.getUrlParam('status') === 'add') {\r\n\r\n        //     let billcode = this.props.form.getFormItemsValue(this.formId,titleCode).value;\r\n\r\n        //     let data ={\r\n        //         event:'cancel',\r\n        //         [titleCode]:billcode==null?null:billcode\r\n        //     }\r\n\r\n        //     this.setDefaultValue(data);\r\n\r\n        //     if(cacheTools.get(\"preid\")){\r\n\r\n        //         props.form.cancel(this.formId);\r\n        //         props.cardTable.resetTableData(this.tableId);\r\n        //         // props.linkTo(props.cardUrl, {\r\n        //         //     appcode:props.appcode,\r\n        //         //     pagecode:props.pagecode_card,\r\n        //         //     status: 'browse',\r\n        //         //     id: cacheTools.get(\"preid\")\r\n        //         // })\r\n        //         props.setUrlParam({\r\n        //             appcode:props.appcode,\r\n        //             pagecode:props.pagecode_card,\r\n        //             status: 'browse',\r\n        //             id: cacheTools.get(\"preid\")\r\n        //         });\r\n        //         this.toggleShow(this.props);\r\n        //     }\r\n        //     else{\r\n        //         props.pushTo(props.listUrl, {\r\n        //             appcode:props.appcode,\r\n        //             pagecode:props.pagecode_list,\r\n        //             status: 'browse'\r\n        //         })\r\n        //     }\r\n        // }\r\n        // if ((props.getUrlParam('status') === 'edit')) {\r\n        //     // props.form.cancel(this.formId);\r\n        //     // props.cardTable.resetTableData(this.tableId);//新增的子表数据依旧存在\r\n        //     // props.linkTo(props.cardUrl, {\r\n        //     //     appcode:props.appcode,\r\n        //     //     pagecode:props.pagecode_card,\r\n        //     //     status: 'browse',\r\n        //     //     id: props.getUrlParam('id')\r\n        //     // })\r\n        //     let\tpk = this.props.getUrlParam('id');\r\n        //     if(pk && pk != 'undefined'){\r\n        //         this.getdata(pk);\r\n        //     }\r\n        //     props.setUrlParam({\r\n        //         appcode:props.appcode,\r\n        //         pagecode:props.pagecode_card,\r\n        //         status: 'browse',\r\n        //         id: props.getUrlParam('id')\r\n        //     });\r\n        // }\r\n        // this.toggleShow(this.props);\r\n    }\r\n\r\n    valid=(props,callback)=>{\r\n        let data = {\r\n            pks:[props.form.getFormItemsValue(formId,pk_item).value],\r\n            nodeType:props.nodeType\r\n        }\r\n        ajax({\r\n            url:vaidUrl,\r\n            data,\r\n            success:(res)=>{\r\n                callback && callback();\r\n            }\r\n        })\r\n    }\r\n    /**\r\n     * 返回按钮操作\r\n     */\r\n    onReturnClick(){\r\n        this.props.pushTo(this.props.listUrl, {\r\n            pagecode: this.props.pagecode_list,\r\n            appcode: this.props.appcode,\r\n            status: 'browse'\r\n        })\r\n    }\r\n    //打印\r\n    onPrint=()=>{\r\n\r\n        let allData = this.props.form.getAllFormValue(formId);\r\n\r\n        if(allData.length === 0){\r\n            toast({content:this.state.json['10140PRJB-000017'],color:'warning'});/* 国际化处理： 无可打印数据*/\r\n            return;\r\n        }\r\n\r\n        let pks = [];\r\n\r\n        allData.rows.forEach((item,key)=>{\r\n            pks.push(item.values[pk_item].value);\r\n        });\r\n        print(\r\n            'pdf',\r\n            printUrl,\r\n            {\r\n                funcode:this.props.printFunCode,//小应用编码\r\n                nodekey:this.props.printNodeKey,//模板节点编码\r\n                oids:pks\r\n            }\r\n        )\r\n    }\r\n    //输出\r\n    onOutput=()=>{\r\n\r\n        let allData = this.props.form.getAllFormValue(formId);\r\n        if(allData.length === 0){\r\n            toast({content:this.state.json['10140PRJB-000018'],color:'warning'});/* 国际化处理： 无可输出的数据*/\r\n            return;\r\n        }\r\n        let pks = [];\r\n\r\n        allData.rows.forEach((item,key)=>{\r\n            pks.push(item.values[pk_item].value);\r\n        });\r\n        this.setState({\r\n            ids : pks\r\n        },this.refs.printOutput.open());\r\n    }\r\n\r\n    //启用\r\n    enableAction=(isSwitch)=>{\r\n\r\n        let curSels = this.props.form.getAllFormValue(formId).rows[0];\r\n\r\n        let rows = [];\r\n        //获取到的是新状态，所以修改回原状态，做后台更新用\r\n        if(isSwitch){\r\n            curSels.values.enablestate.value = curSels.values.enablestate.value==true?'3':'2';\r\n        }else{\r\n            curSels.values.enablestate.value = curSels.values.enablestate.value==true?'2':'3';\r\n        }\r\n\r\n        rows.push(curSels);\r\n\r\n        let data= {\r\n            model:{rows:rows}\r\n        }\r\n\r\n        ajax({\r\n            url:enableUrl,\r\n            data:data,\r\n            success: (res) => {\r\n                toast({title : this.state.json['10140PRJB-000019'],color : 'success'});/* 国际化处理： 启用成功*/\r\n                this.getdata(this.props.getUrlParam('id'));\r\n            }\r\n        })\r\n    }\r\n    //停用\r\n    disableAction=(isSwitch)=>{\r\n        let curSels = this.props.form.getAllFormValue(formId).rows[0];\r\n\r\n        let rows = [];\r\n        //获取到的是新状态，所以修改回原状态，做后台更新用，开关事件，修改了启用状态\r\n        if(isSwitch){\r\n            curSels.values.enablestate.value = curSels.values.enablestate.value==true?'3':'2';\r\n        }else{\r\n            curSels.values.enablestate.value = curSels.values.enablestate.value==true?'2':'3';\r\n        }\r\n\r\n        rows.push(curSels);\r\n\r\n        let data= {\r\n            model:{rows:rows}\r\n        }\r\n\r\n        ajax({\r\n            url:disableUrl,\r\n            data:data,\r\n            success: (res) => {\r\n                toast({title : this.state.json['10140PRJB-000020'],color : 'success'});/* 国际化处理： 停用成功*/\r\n                this.getdata(this.props.getUrlParam('id'));\r\n            }\r\n        })\r\n    }\r\n\r\n    pageInfoClick=(props, pk)=>{\r\n\r\n        this.getdata(pk);\r\n\r\n        // let data = {\r\n        //     \"pk\": pk,\r\n        //     \"pageid\": props.pagecode_card\r\n        // };\r\n        // ajax({\r\n        //     url: queryCardUrl,\r\n        //     data: data,\r\n        //     success: (res) =>{\r\n        //         if (res.data.head) {\r\n\r\n        //             props.form.setAllFormValue({ [formId]: res.data.head[formId] });\r\n        //             props.setUrlParam(pk)//动态修改地址栏中的id的值\r\n        //         }\r\n        //         if (res.data.body) {\r\n        //             props.cardTable.setTableData(tableId, res.data.body[tableId]);\r\n        //         }\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    setDeptPsnRefCond=(props,pk_org)=>{\r\n\r\n        let meta = props.meta.getMeta();\r\n\r\n        if(meta && meta != null && meta['head'] && meta['head'] != null){\r\n            meta['head'].items = meta['head'].items.map((item) => {\r\n                //责任部门参照需要将责任组织pk_org作为过滤条件\r\n                if (item.attrcode == 'pk_duty_dept_v') {\r\n                    item.queryCondition = () => {\r\n                        return {\r\n                            pk_org: pk_org,\r\n                            busifuncode: 'it',\r\n                        }\r\n                    }\r\n                }\r\n                //责任人参照需要将责任组织pk_org作为过滤条件\r\n                if (item.attrcode == 'pk_dutier') {\r\n                    item.queryCondition = {\r\n                        pk_org: pk_org,\r\n                        busifuncode: 'it'\r\n                    }\r\n                }\r\n                return item;\r\n            })\r\n            props.meta.setMeta(meta);\r\n        }\r\n    }\r\n\r\n    setEnablestate = (stat)=>{\r\n        this.props.form.setFormItemsValue(this.formId,{'enablestate':{value:stat,display:(stat == true?this.state.json['10140PRJB-000021']:this.state.json['10140PRJB-000022'])}});/* 国际化处理： 已启用,已停用*/\r\n    }\r\n\r\n    afterEvent =(props, moduleId, key,value, changedrows, i, s, g)=>{\r\n\r\n        //选择某一参照后需将参照值作为关联参照的过滤条件\r\n        if (key === 'pk_duty_org_v' && value.value !== '' && value.value != undefined && value.value != null) {\r\n            //选择责任组织后清空责任人和责任部门值\r\n            props.form.setFormItemsValue(formId,{'pk_dutier':{value:'',scale: \"-1\",display:''},'pk_duty_dept_v':{value:'',scale: \"-1\",display:''}});\r\n            let pk_vid = props.form.getFormItemsValue(formId, 'pk_duty_org_v');\r\n            let pk_org;\r\n            //根据责任组织pk_vid获取其pk_org\r\n            ajax({\r\n                url: '/nccloud/uapbd/pmbase/ProjectItemChangeQuery.do',\r\n                data: {\r\n                    item: 'pk_duty_org_v',\r\n                    pk: pk_vid.value\r\n                },\r\n                success: (res) => {\r\n                    pk_org = res.data['pk_itemorg']\r\n                    this.setDeptPsnRefCond(props,pk_org)\r\n                    // 设置币种\r\n                    let pk_currtype = res.data['PK_CURRTYPE']\r\n                    this.props.form.setFormItemsValue(formId,{'pk_currtype':{value:pk_currtype,display:''}})\r\n                }\r\n            });\r\n        }\r\n        //选择完责任人后,若责任部门为空则自动填充责任部门\r\n        if (key === 'pk_dutier') {\r\n            let pk_duty_dept_v = props.form.getFormItemsValue(formId, 'pk_duty_dept_v');\r\n            let deptValue = pk_duty_dept_v.value;\r\n            if ((deptValue === ''||deptValue==null||deptValue==undefined) && value.value !== '' && value.value != undefined && value.value != null) {\r\n                ajax({\r\n                    url: '/nccloud/uapbd/pmbase/ProjectItemChangeQuery.do',\r\n                    data: {\r\n                        item: 'pk_psndoc',\r\n                        pk: value.value\r\n                    },\r\n                    success: (res) => {\r\n                        props.form.setFormItemsValue(formId, { 'pk_duty_dept_v': { display: res.data['name'], scale: \"-1\", value: res.data['pk_vid'] } })\r\n                    }\r\n                });\r\n            }\r\n\r\n\r\n\r\n        }\r\n        if(key === 'enablestate' && props.form.getFormStatus(moduleId) == 'browse'){\r\n\r\n            this.valid(props,()=>{\r\n                if (value.value == true || value.value == '2') {\r\n                    promptBox({\r\n                        color:\"warning\",\r\n                        title: this.state.json['10140PRJB-000012'],/* 国际化处理： 注意*/\r\n                        content: this.state.json['10140PRJB-000015'],/* 国际化处理： 确认启用？*/\r\n                        beSureBtnClick: this.enableAction.bind(this,true),\r\n                        cancelBtnClick: this.setEnablestate.bind(this,false)\r\n                    });\r\n                }\r\n                else {\r\n                    promptBox({\r\n                        color:\"warning\",\r\n                        title: this.state.json['10140PRJB-000012'],/* 国际化处理： 注意*/\r\n                        content: this.state.json['10140PRJB-000016'],/* 国际化处理： 确认停用？*/\r\n                        beSureBtnClick: this.disableAction.bind(this,true),\r\n                        cancelBtnClick: this.setEnablestate.bind(this,true)\r\n                    });\r\n                }})\r\n        }\r\n\r\n        if(key === 'pk_parti_org_v' && s.status === '2'){\r\n            let rowNum = props.cardTable.getNumberOfRows(this.tableId)-1;\r\n            let isChangedRow = true;\r\n            // props.cardTable.delRowsByIndex(moduleId, rowNum);\r\n            //子表编辑弹出侧拉框，组织参照没有更新成多选，此处做个判断先，之后提问题给平台\r\n            if(value.length != undefined){\r\n                \r\n                value.forEach(element => {\r\n                    if(isChangedRow){\r\n                        props.cardTable.setValByKeyAndIndex(this.tableId,i,'pk_parti_org_v',{value: element.refpk, display: element.refcode});\r\n                        props.cardTable.setValByKeyAndIndex(this.tableId,i,'pk_parti_org_v.name',{value: element.refname, display: element.refname});\r\n                        isChangedRow = false;\r\n                    }\r\n                    else{\r\n                        props.cardTable.addRow(this.tableId,rowNum,{'showorder':{display:'',value:rowNum+1+''},'pk_parti_org_v':{display:element.refcode,value:element.refpk},'pk_parti_org_v.name':{display:element.refname,value:element.refname}},false);\r\n                    }\r\n                });\r\n            }\r\n            else{\r\n                // props.cardTable.addRow(this.tableId,rowNum,{'pk_parti_org_v':{display:value.refcode,value:value.refpk},'pk_parti_org_v.name':{display:value.refname,value:value.refname}},false);\r\n                props.cardTable.setValByKeyAndIndex(this.tableId,i,'pk_parti_org_v.name',{value: value.refname, display: value.refname});\r\n            }   \r\n        }\r\n        if(key === 'pk_parti_org_v' && s.status === '1'){\r\n            // props.cardTable.delRowsByIndex(moduleId, i);\r\n            var ss = s.values['pk_parti_org_v'].display.split(\",\");\r\n            var sProjectB = s.values['pk_project_b'].value;\r\n            let isChangedRow = true;\r\n            //先默认带备注，模板配其他字段后需要继承时可以用循环赋值，以后再处理！！！！！\r\n            let rowNum = props.cardTable.getNumberOfRows(this.tableId);\r\n            //props.cardTable.setValByKeyAndRowId(moduleId,rowNum,'item',{value: '' })\r\n            if(value.length != undefined){\r\n                value.forEach(element => {\r\n                    \r\n                    if(isChangedRow){\r\n                        props.cardTable.setValByKeyAndIndex(this.tableId,i,'pk_parti_org_v',{value: element.refpk, display: element.refcode});\r\n                        props.cardTable.setValByKeyAndIndex(this.tableId,i,'pk_parti_org_v.name',{value: element.refname, display: element.refname});\r\n                        isChangedRow = false;\r\n                    }\r\n                    else{\r\n                        // if(element.refcode == null){\r\n                        //     element.refcode = ss[0]\r\n                        // }\r\n                        props.cardTable.addRow(this.tableId,rowNum,{'showorder':{display:'',value:rowNum+1+''},'pk_parti_org_v':{display:element.refcode,value:element.refpk},'pk_parti_org_v.name':{display:element.refname,value:element.refname}},false);\r\n                    \r\n                    }\r\n                });\r\n            }\r\n            else{\r\n                // props.cardTable.addRow(this.tableId,rowNum,{'pk_parti_org_v':{display:value.refcode,value:value.refpk},'pk_parti_org_v.name':{display:value.refname,value:value.refname}},false);\r\n                props.cardTable.setValByKeyAndIndex(this.tableId,i,'pk_parti_org_v.name',{value: value.refname, display: value.refname});\r\n            }       \r\n        }\r\n    }\r\n\r\n    //通过单据id查询单据信息\r\n    getdata = (pk,btn) =>{\r\n        debugger;\r\n        if(pk == undefined || pk == ''){\r\n            // toast({ 'color':'danger','content':this.state.json['10140PRJB-000023']});/* 国际化处理： 卡片数据异常，返回列表后重新进入！*/\r\n            //清除上个界面的所有的值\r\n            this.props.form.EmptyAllFormValue(formId);\r\n            this.props.cardTable.setTableData(tableId,{rows: []});\r\n            return;\r\n        }\r\n        let data = {pk};\r\n        ajax({\r\n            url: queryCardUrl,\r\n            data,\r\n            success: (res) => {\r\n                if(res.data==undefined){\r\n                    toast({ 'color':'danger','content':this.state.json['10140PRJB-000024']});/* 国际化处理： 数据不存在或已删除！请返回列表*/\r\n                    return; \r\n                }\r\n                if (res.data.head) {\r\n                    res.data.head.head.rows[0].values.enablestate.value=res.data.head.head.rows[0].values.enablestate.value === '2'?true:false;\r\n                    // this.props.form.setFormItemsValue('org_select','pk_org',res.data.head.head.rows[0].values.pk_org);\r\n                    this.props.form.setAllFormValue({ [this.formId]: res.data.head[this.formId]});\r\n                    let title_code = res.data.head[this.formId].rows[0].values[titleCode].value;\r\n                    this.setState({title_code});\r\n\r\n                    // 设置项目组织默认值\r\n                    if(this.props.nodeType == 'org'){\r\n                        let pk_org = this.props.form.getFormItemsValue(this.formId,'pk_org');\r\n                        let pk_group = this.props.form.getFormItemsValue(this.formId,'pk_group');\r\n                        // let orgvalue= {'pk_org':{pk_org}};\r\n                        let orgvalue= {pk_org};\r\n                        if(pk_org && pk_org.value !=pk_group.value&&pk_org.value!='GLOBLE00000000000000'){\r\n                            this.props.form.setFormItemsValue('org_select',orgvalue);\r\n                        }\r\n                    }else{\r\n                        this.props.form.setFormItemsValue('org_select',{});\r\n                    }\r\n                    this.props.setUrlParam(pk)//动态修改地址栏中的id的值\r\n                }\r\n                if (res.data.body) {\r\n                    this.props.cardTable.setTableData(this.tableId, res.data.body[this.tableId]);\r\n                    // let totalcount = this.props.cardTable.getNumberOfRows(this.tableId);\r\n                    // let arr = this.props.cardTable.getAllRows(this.tableId);\r\n                    // let applycount = 0;\r\n                    // arr.map((item)=>{\r\n                    // \tapplycount += parseInt(item.values.pk_project.value);\r\n                    // })\r\n                    // this.setState({applycount});\r\n                    // this.setState({totalcount});\r\n                }else{\r\n                    this.props.cardTable.setTableData(this.tableId, {rows: []});\r\n                }\r\n                if(btn == 'refresh'){\r\n                    toast({title : this.state.json['10140PRJB-000025'],color : 'success'});/* 国际化处理： 刷新成功*/\r\n                }\r\n                this.toggleShow(this.props);\r\n            }\r\n        });\r\n    }\r\n\r\n    validBodyRepeat=(rows)=> {\r\n\r\n        if(!rows || rows.length == 0)\r\n            return true;\r\n\r\n        let pkMap = new Map();\r\n\r\n        if(rows && rows.length>0){\r\n            let i = 1;\r\n            rows.forEach((row,key)=>{\r\n                let pk = row.values.pk_parti_org_v.value;\r\n                let rowNum = pkMap.get(pk);\r\n                if(!rowNum || rowNum == null){\r\n                    rowNum = i.toString();\r\n                    i++;\r\n                }else{\r\n                    rowNum = `${rowNum},${i}`;\r\n                    i++;\r\n                }\r\n                pkMap.set(pk,rowNum);\r\n            });\r\n        }\r\n        let errMsg = this.state.json['10140PRJB-000026'];/* 国际化处理： 输入错误提示：项目-参与组织主键行  */\r\n        pkMap.forEach((value,key, map) => {\r\n            if(value.includes(',')){\r\n                errMsg = errMsg + '['+ value + this.state.json['10140PRJB-000027']/* 国际化处理： ] 不能重复*/\r\n            }\r\n        });\r\n        if(errMsg != this.state.json['10140PRJB-000026']){/* 国际化处理： 输入错误提示：项目-参与组织主键行  */\r\n            toast({content : errMsg ,color : 'danger'});\r\n            return false;\r\n        }\r\n        return true;\r\n    } \r\n\r\n    // 表头信息校验\r\n    validHead=(formData)=>{\r\n\r\n        if(formData){\r\n            let row = formData.rows[0];\r\n\r\n            if(row){\r\n                let startDate = row.values.plan_start_date;\r\n                let finishDate = row.values.plan_finish_date;\r\n                if(!(startDate && startDate.value != null))\r\n                    return this.state.json['10140PRJB-000028'];/* 国际化处理： 计划开始日期不能为空*/\r\n                if(!(finishDate && finishDate.value != null))\r\n                    return this.state.json['10140PRJB-000029'];/* 国际化处理： 计划完成日期不能为空*/\r\n                if(Date.parse(new Date(startDate.value))>Date.parse(new Date(finishDate.value)))\r\n                    return this.state.json['10140PRJB-000030']/* 国际化处理： 计划完成日期必须大于等于计划开始日期*/\r\n            }\r\n        }\r\n    }\r\n\r\n    //保存单据\r\n    saveClick = () =>{\r\n\r\n        if(this.props.form.isCheckNow(this.formId) && this.props.cardTable.checkTableRequired(tableId)){\r\n\r\n            let formData = this.props.form.getAllFormValue(this.formId);\r\n            \r\n            let msg = this.validHead(formData);\r\n\r\n            if( msg!= null){\r\n                toast({content : msg,color : 'danger'});\r\n                return;\r\n            } \r\n\r\n            this.props.cardTable.filterEmptyRows(tableId);\r\n            \r\n            let visibleRows = this.props.cardTable.getVisibleRows(tableId);\r\n            if(!this.validBodyRepeat(visibleRows))\r\n                return;\r\n\r\n            let CardData = this.props.createMasterChildData(this.props.pagecode_card, this.formId, this.tableId);\r\n            // CardData.head.head.rows[0].values.bill_code = _this.state.bill_code;\r\n            let url = saveUrl;//新增保存\r\n            if (this.props.getUrlParam('status') === 'edit') {\r\n                //启用状态调整\r\n                CardData.head.head.rows[0].values.enablestate.value = CardData.head.head.rows[0].values.enablestate.value==true?'2':'3';\r\n                url = updateUrl;//修改保存\r\n            }\r\n            //验证公式的校验方法\r\n            this.props.validateToSave( CardData ,()=>{\r\n                ajax({\r\n                    url: url,\r\n                    data: CardData,\r\n                    success: (res) => {\r\n                        let pk_value = null\r\n                        if (res.success) {\r\n                            if (res.data) {\r\n                                if (res.data.head && res.data.head[this.formId]) {\r\n                                    this.props.form.setAllFormValue({ [this.formId]: res.data.head[this.formId] });\r\n                                    pk_value = res.data.head[this.formId].rows[0].values[pk_item].value\r\n                                }\r\n                                if (res.data.body && res.data.body[this.tableId]) {\r\n                                    this.props.cardTable.setTableData(this.tableId, res.data.body[this.tableId])\r\n                                }\r\n                            }\r\n                            toast({title : this.state.json['10140PRJB-000031'],color : 'success'});/* 国际化处理： 保存成功*/\r\n                            this.getdata(pk_value);\r\n                            this.props.setUrlParam({\r\n                                appcode:this.props.appcode,\r\n                                pagecode:this.props.pagecode_card,\r\n                                status: 'browse',\r\n                                id: pk_value\r\n                            });\r\n                            cacheTools.set('preid',pk_value);\r\n                            this.toggleShow(this.props)\r\n                        }\r\n                    }\r\n                })\r\n            }, {\r\n                formId: 'form',\r\n                [tableId]: 'cardTable'\r\n            },'card');\r\n\r\n        }\r\n    }\r\n\r\n    //删除单据\r\n    delConfirm = () => {\r\n        // var pk = this.props.getUrlParam('id');\r\n        var pk =  props.form.getFormItemsValue(formId,pk_item).value\r\n        // var ts =  props.form.getFormItemsValue(formId,pk_item).value\r\n        ajax({\r\n            url: deleteUrl,\r\n            data: {deleteinfo:[{\r\n                    id: pk,\r\n                    ts: this.props.form.getFormItemsValue(this.formId, 'ts').value\r\n                }]},\r\n            success: (res) => {\r\n                if(res){\r\n                    // this.props.pushTo(this.props.listUrl,{\r\n\r\n                    //     appcode:this.props.appcode,\r\n                    //     pagecode:this.props.pagecode_list,\r\n                    //     status: 'browse'\r\n                    // });\r\n                    //删除后显示下一条数据\r\n                    let nextId = getNextId(pk_item, cachKey);//根据当前id,获取下个id\r\n                    //调用删除缓存数据方法\r\n                    deleteCacheById(\"pk_item\",pk,cachKey);\r\n                    this.props.setUrlParam({\r\n                        appcode:this.props.appcode,\r\n                        pagecode:this.props.pagecode_card,\r\n                        status: 'browse',\r\n                        id: nextId \r\n                    });\r\n                     //根据nextId查询下条数据\r\n                     this.getdata(nextId);\r\n                     this.toggleShow(this.props);\r\n                }\r\n\r\n            }\r\n        });\r\n    };\r\n\r\n    modelSave = (props)=>{\r\n        props.cardTable.closeModel(this.tableId);\r\n        this.saveClick();\r\n    }\r\n\r\n    getButtonNames = (codeId) => {\r\n        if (codeId === 'edit'||codeId === 'add'||codeId === 'save'){\r\n            return 'main-button'\r\n        }else {\r\n            return 'secondary - button'\r\n        }\r\n    };\r\n\r\n    onOrgChange=(props, moduleId, key,value, changedrows, i, s, g)=>{\r\n        // let pk_org = this.props.form.getFormItemsValue('org_select','pk_org');\r\n        // this.props.form.setFormItemsValue(this.formId,{'pk_org':pk_org});\r\n        if(key == 'pk_org'){\r\n\r\n            let billcode = this.props.form.getFormItemsValue(this.formId,titleCode).value;\r\n            let ts = this.props.form.getFormItemsValue(this.formId,'ts').value;\r\n            let pk = this.props.form.getFormItemsValue(this.formId,pk_item).value;\r\n            let data={\r\n                'nodeType':this.props.nodeType,\r\n                [titleCode]:billcode==null?null:billcode,\r\n                [key]:value.value,\r\n                ts,\r\n                [pk_item]:pk\r\n            }\r\n\r\n            if(changedrows.value == null && changedrows.display == null){\r\n                \r\n                this.setDefaultValue(data)\r\n            }else{\r\n\r\n                promptBox({\r\n                    color:\"warning\",\r\n                    title: this.state.json['10140PRJB-000012'],/* 国际化处理： 注意*/\r\n                    content: this.state.json['10140PRJB-000032'],/* 国际化处理： 是否修改组织，这样会清空您录入的信息？*/\r\n                    beSureBtnClick: this.setDefaultValue.bind(this,data)\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    //获取列表肩部信息\r\n    getTableHead = () => {\r\n        let {button} = this.props;\r\n        let { createButtonApp } = button;\r\n        let buttons  = this.props.button.getButtons();\r\n        let status = this.props.getUrlParam(\"status\");\r\n        return (\r\n            <div className=\"shoulder-definition-area\">\r\n\r\n                <div className=\"definition-icons\">\r\n                    {createButtonApp({\r\n                        area: 'definition-icons',//按钮注册中的按钮区域\r\n                        //buttonLimit: 5,\r\n                        onButtonClick: this.buttonClick.bind(this)\r\n                        //popContainer: document.querySelector('.header-button-area')\r\n                    })}\r\n                    {this.props.cardTable.createBrowseIcons(this.tableId, {\r\n                        iconArr: ['close', 'open', 'max','setCol'],\r\n                        maxDestAreaId: 'nc-bill-card'\r\n                    })}\r\n                    {/* {createButton(\"deleteline\", {\r\n\t\t\t\t\t\tname: '删行',\r\n\t\t\t\t\t\tonButtonClick: buttonClick.bind(this)\r\n\t\t\t\t\t})} */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    render() {\r\n        let { cardTable, form, button, modal, cardPagination } = this.props;\r\n        const {createCardPagination} = cardPagination;\r\n        let buttons = this.props.button.getButtons();\r\n        // buttons = buttons.sort((a,b)=>{\r\n        // \treturn b.btnorder - a.btnorder;\r\n        // });\r\n        let { createForm } = form;\r\n        let { createCardTable } = cardTable;\r\n        let { createButtonApp } = button;\r\n        let { createModal } = modal;\r\n        let status = this.props.getUrlParam('status');\r\n        let nodeName = this.state.json['10140PRJB-000044'];/* 国际化处理： 项目-全局*/\r\n        if(this.props.appcode === '10140PRJG'){\r\n            nodeName = this.state.json['10140PRJB-000034'];\r\n        }\r\n        if(this.props.appcode === '10140PRJO'){\r\n            nodeName = this.state.json['10140PRJB-000045'];\r\n        }\r\n        return (\r\n            <div  id='nc-bill-card'>\r\n                <div className=\"nc-bill-card\">\r\n                    <NCAffix>\r\n                        <div className='nc-bill-header-area'>\r\n                            <div>\r\n                                {status=='browse'?<NCBackBtn onClick={ this.onReturnClick.bind(this) }></NCBackBtn>:''}\r\n                            </div>\r\n                            <div className='header-title-search-area'>\r\n                                <h2 className='title-search-detail'>{nodeName}{status=='browse'?`：${this.state.title_code}`:''}</h2>\r\n                            </div>\r\n                            {/*分页 */}\r\n                            {/* {status=='browse'?<div className='header-button-cardPagination'>\r\n\t\t\t\t\t\t\t\t\t{createCardPagination({\thandlePageInfoChange: pageInfoClick.bind(this)})}\r\n\t\t\t\t\t\t\t\t\t</div>:''} */}\r\n                            <div className=\"header-button-area\">\r\n                                {createButtonApp({\r\n                                    area: 'header-button-area',//按钮注册中的按钮区域\r\n                                    //buttonLimit: 5,\r\n                                    onButtonClick: this.buttonClick.bind(this)\r\n                                    //popContainer: document.querySelector('.header-button-area')\r\n                                })}\r\n                                {createCardPagination({\r\n                                    handlePageInfoChange: this.pageInfoClick.bind(this),\r\n                                    dataSource: cachKey\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </NCAffix>\r\n                    <div className=\"nc-bill-form-area\" style={{marginBottom: 8}}>\r\n                        {this.props.nodeType === 'org'?createForm('org_select', {\r\n                            onAfterEvent: this.onOrgChange.bind(this)\r\n                        }):(<span/>)}\r\n                        {createForm(this.formId, {\r\n                            onAfterEvent: this.afterEvent.bind(this)\r\n                        })}\r\n                    </div>\r\n                    <div className=\"nc-bill-table-area\">\r\n                        {createCardTable(this.tableId, {\r\n                            tableHead: this.getTableHead.bind(this),\r\n                            modelSave: this.modelSave.bind(this),\r\n                            onAfterEvent: this.afterEvent.bind(this),\r\n                            showIndex:true\r\n                        })}\r\n                    </div>\r\n                    {createModal('delete', {\r\n                        title: this.state.json['10140PRJB-000012'],/* 国际化处理： 注意*/\r\n                        content: this.state.json['10140PRJB-000013'],/* 国际化处理： 确认删除？*/\r\n                        beSureBtnClick: this.delConfirm.bind(this)\r\n                    })}\r\n                    <AssignModal ref={(item => this.assignModal = item)} {...{getData:this.getdata,json:this.state.json}} {...this.props}/>\r\n                    <PrintOutput\r\n                        ref='printOutput'\r\n                        url={printUrl}\r\n                        data={{\r\n                            funcode:this.props.printFunCode,//功能节点编码\r\n                            nodekey:this.props.printNodeKey,//模板节点编码\r\n                            oids : this.state.ids,\r\n                            outputType : 'output'\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n\r\n        \r\n    modifierMeta=(props, meta)=> {\r\n        let status = props.getUrlParam('status');\r\n        meta[formId].status = status;\r\n        if(meta[tableId]){\r\n            meta[tableId].status = status;\r\n        }\r\n\r\n        meta['org_select'].items = meta['org_select'].items.map((item, key) => {\r\n            if(item.attrcode == 'pk_org'){\r\n                item.queryCondition = {\r\n                    \"AppCode\": props.appcode,\r\n                    TreeRefActionExt:'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder'\r\n                };\r\n            }\r\n            return item;\r\n        })\r\n\r\n        meta[tableId].items = meta[tableId].items.map((item, key) => {\r\n            if(item.attrcode == 'pk_parti_org_v'){\r\n                item.isMultiSelectedEnabled = true;\r\n            }\r\n            return item;\r\n        })\r\n\r\n        meta[formId].items = meta[formId].items.map((item, key) => {\r\n            if(item.attrcode == 'pk_eps'){//eps参照只能选择叶子节点\r\n                item.onlyLeafCanSelect = true;\r\n            }\r\n            return item;\r\n        })\r\n        let that = this;\r\n        let porCol = {\r\n            attrcode: 'opr',\r\n            label: this.state.json['10140PRJB-000009'],/* 国际化处理： 操作*/\r\n            visible: true,\r\n            className:'table-opr',\r\n            width:'200px',\r\n            itemtype: 'customer',\r\n            fixed:'right',\r\n            render(text, record, index) {\r\n\r\n                let btnArray = tableBtnAry(props);\r\n\r\n                return props.button.createOprationButton(\r\n                    btnArray,\r\n                    {\r\n                        area: \"table-opr-area\",\r\n                        buttonLimit: 3,\r\n                        onButtonClick: (props, id) => that.tableButtonClick(props, id, text, record, index)\r\n                    }\r\n                )\r\n\r\n                // let status = props.cardTable.getStatus(tableId);\r\n                // return status === 'browse' ? (\r\n                // \t<span\r\n                // \t\tonClick={() => {\r\n                //             props.cardTable.toggleRowView(tableId, record)\r\n\r\n                //         }}\r\n                //         > 展开\r\n                //  \t</span>\r\n                // ):(<div className=\"currency-opr-col\">\r\n                // \t\t<span\r\n                // \t\t\tclassName=\"currency-opr-del\"\r\n                // \t\t\tonClick={(e) => {\r\n                // \t\t\t\tprops.cardTable.openModel(tableId, 'edit', record, index);\r\n                // \t\t\t\te.stopPropagation();\r\n                // \t\t\t}}\r\n                // \t\t>更多</span>\r\n                // \t\t&nbsp;&nbsp;\r\n                // \t\t<span\r\n                // \t\t\tclassName=\"currency-opr-del\"\r\n                // \t\t\tonClick={(e) => {\r\n                // \t\t\t\tprops.cardTable.delRowsByIndex(tableId, index);\r\n                // \t\t\t\te.stopPropagation();\r\n                // \t\t\t}}\r\n                // \t\t>删除</span>\r\n                // \t</div>\r\n                // );\r\n            }\r\n        };\r\n        meta[tableId].items.push(porCol);\r\n\r\n        return meta;\r\n    }\r\n\r\n    tableButtonClick=(props, id, text, record, index)=>{\r\n\r\n        switch(id){\r\n            case 'insertline'://插入行\r\n                props.cardTable.addRow(tableId,index,false);\r\n                break;\r\n            case \"delline\"://删除行\r\n                props.cardTable.delRowsByIndex(tableId, index);\r\n                break;\r\n            case \"detail\"://更多\r\n                props.cardTable.toggleRowView(tableId, record);\r\n                break;\r\n            case \"spread\"://展开\r\n                props.cardTable.openModel(tableId, 'edit', record, index);\r\n                break;\r\n            default:\r\n                console.log(id,index);\r\n                break;\r\n        }\r\n    }\r\n\r\n    //切换页面状态\r\n    toggleShow=(props)=>{\r\n        let status = props.getUrlParam('status');\r\n        let pk = this.props.getUrlParam('id');\r\n        if(status === 'browse'&&(!pk||pk===undefined||pk==='')){\r\n            props.button.setButtonDisabled(['edit','back','delete','refresh','detail','assig','assig1','unassig','printGrp','print','output','enable','enable1','disable'],true);\r\n            props.button.setButtonVisible(['add'],true);\r\n            props.button.setButtonVisible(['save','cancel','addline','insertline','delline','spread'],false);\r\n            props.form.setFormStatus(formId, 'browse');\r\n            props.form.setFormStatus('org_select', status);\r\n            props.cardTable.setStatus(tableId, 'browse');\r\n            props.cardPagination.setCardPaginationVisible('cardPaginationBtn', true);\r\n            //隐藏子表操作列\r\n            if(props.meta.getMeta()[tableId]){\r\n                props.cardTable.hideColByKey(tableId,'opr');\r\n            }\r\n            return;\r\n        }\r\n        let isAdd = status === 'add' ? true : false;\r\n        let enablestate = props.form.getFormItemsValue(formId,'enablestate');\r\n        //按钮的显示状态\r\n        if(status == 'edit' || status == 'add'){\r\n            //隐藏子表操作列\r\n            if(props.meta.getMeta()[tableId]){\r\n                props.cardTable.showColByKey(tableId,'opr');\r\n            }\r\n\r\n            props.button.setButtonVisible(['edit','add','back','delete','refresh','detail','assig','assig1','unassig','printGrp','print','output','enable','enable1','disable'],false);\r\n            props.button.setButtonVisible(['save','cancel','addline','insertline','delline','spread'],true);\r\n            props.cardPagination.setCardPaginationVisible('cardPaginationBtn', false);\r\n            if(enablestate){\r\n                props.form.getFormItemsValue(formId,'enablestate').value = (enablestate.value=='2' || enablestate.value == true)?true:false;\r\n            }\r\n            props.form.setFormItemsDisabled(formId,{'enablestate':true});\r\n        }else{\r\n            //隐藏子表操作列\r\n            if(props.meta.getMeta()[tableId]){\r\n                props.cardTable.hideColByKey(tableId,'opr');\r\n            }\r\n            \r\n            props.button.setButtonVisible(['save','cancel','addline','insertline','delline','spread','assig1','enable1','print','back'],false);\r\n            props.button.setButtonVisible(['add','edit','delete','refresh','detail','assig','unassig','printGrp','output','enable','disable'],true);\r\n            //全局时没有分配\r\n            props.nodeType == 'global' && props.button.setButtonVisible('assig',false);\r\n\r\n            props.cardPagination.setCardPaginationVisible('cardPaginationBtn', true);\r\n    \r\n            //卡片停启用有开关，按钮直接隐藏不用\r\n            props.button.setButtonVisible(['enable','disable'],false);\r\n            // if(enablestate && (enablestate.value == '2' || enablestate.value == true)){\r\n            //     props.button.setButtonDisabled(['enable1','enable'],true);\r\n            //     props.button.setButtonDisabled('disable',false);\r\n                \r\n            // }else{\r\n            //     props.button.setButtonDisabled(['enable1','enable'],false);\r\n            //     props.button.setButtonDisabled('disable',true);\r\n            // } \r\n            props.form.setFormItemsDisabled(formId,{'enablestate':false});\r\n        }\r\n        //只有新增是可编辑,写法累赘，回头优化\r\n        props.form.setFormItemsDisabled('org_select',{'pk_org':!isAdd})\r\n        \r\n        props.form.setFormStatus('org_select', status);\r\n\r\n        let headOrg = props.form.getFormItemsValue(formId,'pk_org');\r\n        if(props.form.nodeType == 'org' && (headOrg || headOrg.value == null)){\r\n            props.form.setFormStatus(formId, 'browse');\r\n            props.cardTable.setStatus(tableId, 'browse');\r\n        }else{\r\n            props.form.setFormStatus(formId, status);\r\n            props.cardTable.setStatus(tableId, status);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n// ReactDOM.render(<Card />, document.querySelector('#app'));\r\nexport default Card;\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","import React, { Component } from 'react';\r\nimport { createPage, base,ajax,toast,cacheTools} from 'nc-lightapp-front';\r\nlet { NCButton, NCModal} = base;\r\nimport OrgSelect  from './OrgSelect';\r\nvar EMPTY_FN = function(){};\r\nclass AssignModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            modal:{\r\n                show: false,\r\n                modalDropup: true,\r\n                size: 'xlg',\r\n                // backdrop:false/\"static\"//是否弹出遮罩层/点击遮罩层是否触发关闭事件\r\n                backdrop:true\r\n            },\r\n        }\r\n        this.config = {isAssign:true,};\r\n        this.pk_project = this.props.getUrlParam('id');\r\n    }\r\n\r\n    show(flag){\r\n        this.state.modal.show = true;\r\n        this.setState(this.state, ()=>{\r\n            this.orgSelect.reset();\r\n        });\r\n        this.config.isAssign = flag ==='assign'?true:false;\r\n    }\r\n\r\n    onsubmit(){\r\n        debugger\r\n        let targetOrgIds = [];\r\n        this.orgSelect.state.selectData.datas\r\n        &&this.orgSelect.state.selectData.datas.map((item)=>{\r\n            targetOrgIds.push(item['id']);\r\n        });\r\n\r\n        let pk = this.props.getUrlParam('id');\r\n\r\n        if(!(pk || this.props.table.getCheckedRows(this.props.gridId))){\r\n            toast({ 'color':'danger','content':this.props.json['10140PRJB-000000']})/* 国际化处理： 请勾选分配项目！*/\r\n        }\r\n        let projectpks = pk||this.props.table.getCheckedRows(this.props.gridId)[0].data.values.pk_project.value\r\n\r\n        targetOrgIds.length===0?toast({\r\n            'color':'danger',\r\n            'content':this.props.json['10140PRJB-000001']/* 国际化处理： 请选择目标组织！*/\r\n        }): ajax({\r\n            url:'/nccloud/uapbd/pmbase/ProjectAssignOrgs.do',\r\n            data:{\r\n                pkcustList:[projectpks],\r\n                targetOrgIds:targetOrgIds,\r\n                isAssign:this.config.isAssign\r\n            },\r\n            success:(res)=>{\r\n                let{success,data} = res;\r\n                if(success){\r\n                    if(data&&data.hasOwnProperty('message')){\r\n                        toast({'color':'success','content':data.message});\r\n                        this.loadData();\r\n                        this.cancel();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    cancel(){\r\n        this.state.modal.show = false;\r\n        this.setState(this.state);\r\n    }\r\n\r\n    loadData=()=>{\r\n\r\n        this.props.getData&&this.props.getData(this.props.getUrlParam('id'));\r\n    }\r\n\r\n\r\n    loadSaleInfoGridData = ()=>{\r\n        let editStatusBtns = ['subG5ModalSave','subG5ModalCancel'];\r\n        let browseStatusBtns=['subGrid5Edit','subGrid5Del','subGrid5Addr','subGrid5Ref','subGrid5Print']\r\n        this.props.loadSubGridData&&this.props.loadSubGridData(\r\n            'shoulder',\r\n            this.props.config.subGrid5,\r\n            this.props.config.custsaleForm,\r\n            this.props.config.pagecode,\r\n            'querySubFormOrGrid',\r\n            editStatusBtns,\r\n            browseStatusBtns\r\n        );\r\n    }\r\n    loadFinaceInfoGridData = ()=>{\r\n        let editStatusBtns = ['subG4ModalSave','subG4ModalCancel'];\r\n        let browseStatusBtns=['subGrid4Edit','subGrid4Del','subGrid4Ref','subGrid4Pri'];\r\n        this.props.loadSubGridData&&this.props.loadSubGridData(\r\n            'shoulder',\r\n            this.props.config.subGrid4,\r\n            this.props.config.custfinanceForm,\r\n            this.props.config.pagecode,\r\n            'querySubFormOrGrid',\r\n            editStatusBtns,\r\n            browseStatusBtns\r\n        )\r\n    }\r\n    loadCreDitCtlInfoGridData =()=>{\r\n        let editStatusBtns = ['subG6ModalSave','subG6ModalCancel'];\r\n        let browseStatusBtns=['subG6Edit','subG6Del','subG6Ref','subG6Pri']\r\n        this.props.loadSubGridData&&this.props.loadSubGridData(\r\n            'shoulder',\r\n            this.props.config.subGrid6,\r\n            this.props.config.creditctlForm,\r\n            this.props.config.pagecode,\r\n            'querySubFormOrGrid',\r\n            editStatusBtns,\r\n            browseStatusBtns\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n        let json = this.props.json;\r\n        var modalCfg = {...this.state.modal}\r\n        return (\r\n            <NCModal {...modalCfg} onHide = {this.cancel.bind(this)}>\r\n                <NCModal.Header closeButton={true}>\r\n                    <NCModal.Title>{this.config.isAssign?json['10140PRJB-000002']:json['10140PRJB-000003']}</NCModal.Title>{/* 国际化处理： 快速分配,快速取消分配*/}\r\n                </NCModal.Header>\r\n                <NCModal.Body>\r\n                    <div><OrgSelect ref={( item )=> this.orgSelect = item} {...{json:json}}/></div>\r\n                </NCModal.Body>\r\n                <NCModal.Footer>\r\n\r\n                    <NCButton onClick={ this.onsubmit.bind(this) }>{json['10140PRJB-000004']}</NCButton>{/* 国际化处理： 确定*/}\r\n                    <NCButton onClick={ this.cancel.bind(this) }>{json['10140PRJB-000005']}</NCButton>{/* 国际化处理： 取消*/}\r\n                </NCModal.Footer>\r\n            </NCModal>\r\n        );\r\n    }\r\n}\r\nexport default AssignModal;\r\n","//   pagecode:props.config.pageCode?props.config.pageCode:pagecode\r\n//  getMultiLang({moduleId: \"10140ADRB\",domainName: 'uapbd',callback})\r\n\r\n\r\nimport { toast} from 'nc-lightapp-front';\r\nexport default function(props){\r\n     return ( pageCfg = {} , langCfg = {}, callback ) => {\r\n\r\n         var count = 0;\r\n         var result = {};\r\n\r\n         var hander = () => {\r\n             if(count == 2){\r\n                 callback && callback(result.templateData || {} , result.langData || {},result.inlt||{});\r\n             }\r\n         }\r\n         if(langCfg.callback){\r\n             console.log('咱们自己createUIDom会同时获取多语和单据模板,并通过一个回调函数返回, langCfg中的回调函数将被忽略');\r\n         }\r\n\r\n         var newLangCfg = { ...langCfg, callback: (data, success,inlt) => {\r\n                    count = count + 1;\r\n                 if(!success){\r\n                     toast({content:'load muti lang error',color:'warning'});\r\n                 }\r\n                 result.langData = data || {};\r\n                 result.inlt = inlt || {};\r\n                 hander();\r\n         }};\r\n         props.MultiInit.getMultiLang(newLangCfg);\r\n\r\n         props.createUIDom(pageCfg, (data) => {\r\n             count = count + 1;\r\n             result.templateData = data || {};\r\n             hander();\r\n         });\r\n    };\r\n};","import React, { Component } from 'react';\r\nimport {base,ajax } from 'nc-lightapp-front';\r\nlet { NCTable,NCButton,NCCol,NCRow,NCTree  } = base;\r\n\r\nimport '../../../public/uapbdstyle/uapbd_style_common'\r\n\r\nvar EMPTY_FN = function(){};\r\n\r\nclass OrgSelect extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tree: {\r\n                main: this,\r\n                defNodeCfg: {\r\n\r\n                },\r\n                root: {\r\n                    root: true,\r\n                    key: 'root',\r\n                    title: this.props.json['10140PRJB-000006']/* 国际化处理： 组织*/\r\n                },\r\n                expandedKeys:[],\r\n                datas: [],\r\n                renderNode: function(datas = [],  parent){\r\n                    let renderFileTreeTitle = (item)=>{\r\n                        console.log(this,'renderFileTreeTitle');\r\n                        let className,\r\n                        isExpand = this.expandedKeys.includes(item.refpk);\r\n                        if(item && item.hasOwnProperty('children') && item.children.length > 0){\r\n                            className = isExpand ? \"icon iconfont  icon-wenjianjiadakai tree-wenjian\":\"icon iconfont  icon-wenjianjia tree-wenjian\";\r\n                        }else{\r\n                            className = \"tree-dian\";\r\n                        }\r\n                        return(\r\n                            <div className={\"title-con\"}>\r\n                                <i className={className}/><span className=\"title-middle\">{item.refname}</span>\r\n                            </div>\r\n                        )\r\n                    };\r\n                    var defNodeCfg = this.main.state.tree.defNodeCfg || {},\r\n                        renderfn = function(data){\r\n                            data.disableCheckbox = data.root == true || data.nodeData.orgclazz == 'orgtype';\r\n                            return data;\r\n                        },\r\n                        loopRender = function(datas){\r\n                            return datas.map(function(item){\r\n                                var nodecfg = {...defNodeCfg, ...item},\r\n                                children = item.children || [];\r\n                                return <NCTree.NCTreeNode\r\n                                            className='node-item'\r\n                                            { ...(renderfn ? renderfn(nodecfg) : nodecfg)} \r\n                                            title={renderFileTreeTitle(item)}\r\n                                            isLeaf={children.length ==0}>\r\n                                            {children.length ==0 ? '' : loopRender(children, item, renderfn)}\r\n                                        </NCTree.NCTreeNode>;  //根节点和一级节点不可勾选\r\n                            });\r\n                        };\r\n                    return loopRender( [{...this.root, children: this.datas}]);\r\n                },\r\n                config: function(){\r\n                    return {\r\n                        checkable: true,\r\n                        defaultExpandAll: true,\r\n                        checkStrictly: true,\r\n                        onCheck: function(selectedKeys, e){\r\n                            var node = e.node.props,\r\n                                checked = e.checked,\r\n                                selectedData = this.main.state.selectData.datas,\r\n                                data = {\r\n                                    id: node.id,\r\n                                    name: node.name,\r\n                                    code: node.nodeData.code\r\n                                };\r\n                            selectedData =  checked ? selectedData.concat(data) : selectedData.filter( (n) => n.id != data.id );\r\n                            this.main.state.selectData.datas = selectedData;\r\n                            this.main.setState(this.main.state);\r\n                        }.bind(this)\r\n                    }\r\n                }\r\n            },\r\n            table: {\r\n                main: this,\r\n                rowKey: 'id',\r\n                bodyStyle:{'overflow-y':'hidden',height:'390px'},\r\n                columns:[{\r\n                    title: this.props.json['10140PRJB-000007'],/* 国际化处理： 组织编码*/\r\n                    dataIndex: 'code',\r\n                    width: '40%'\r\n                },{\r\n                    title: this.props.json['10140PRJB-000008'],/* 国际化处理： 组织名称*/\r\n                    dataIndex: 'name',\r\n                    width: '40%'\r\n                },{\r\n                    title: this.props.json['10140PRJB-000009'],/* 国际化处理： 操作*/\r\n                    dataIndex: 'doit',\r\n                    width: '20%',\r\n                    render: function(text, record, index) {\r\n                        var delFn = function(){\r\n                            var datas = this.state.selectData.datas;\r\n                            this.state.selectData.datas = datas.filter((data) => data.id != record.id);\r\n                            this.setState(this.state);\r\n                        };\r\n                        return (<NCButton onClick={delFn.bind(this)}>{this.props.json['10140PRJB-000010']}</NCButton>);{/* 国际化处理： 删除*/}\r\n                    }.bind(this)\r\n                }]\r\n            },\r\n            selectData: {\r\n                datas: []\r\n            }\r\n\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.reset();\r\n    }\r\n    reset(){\r\n        ajax({\r\n            url: '/nccloud/uapbd/customer/assignTree.do',\r\n            data: {\r\n                orgtypeIDs:['BUSINESSUNIT00000000'],\r\n                isCludeGlobalAndGroupVO: false,\r\n                isProject_grp:true\r\n            },\r\n            success:(res) => {\r\n\r\n                var treedata =res.data;\r\n                this.state.selectData.datas = [];\r\n                this.state.tree.datas = treedata;\r\n                this.setState(this.state);\r\n            }\r\n        });\r\n    }\r\n\r\n    getData(){\r\n        return this.state.selectData.datas.map ( n => n.id);\r\n    }\r\n    // 树展开的回调函数\r\n    onExpandFn=(keys)=>{\r\n        this.state.tree.expandedKeys = keys;\r\n        this.setState(this.state);\r\n    }\r\n    render() {\r\n        var tree  = this.state.tree,\r\n            table = this.state.table,\r\n            selectDatas = this.state.selectData.datas,\r\n            checkedKeys = selectDatas.map( (d) => d.id );\r\n        return (\r\n            <div className = 'transfer_tree_container' style={{marginTop: 10}}>\r\n                <div className = 'left-area' style={{height:'450px',padding:'10px',background:'rgba(249,249,249,1)',width:'calc(50% - 25px)'}}>\r\n                    <div className = 'left-area-nei'>\r\n                        <div field=\"tree-area\" className=\"syncTreeCom\" style={{marginLeft: 20,height:'calc(100% - 40px)'}}>\r\n                            <div className='synctree-area'  fieldname=\"树控件\">\r\n                                <NCTree \r\n                                    closeIcon={<i field=\"tree-switcher\" fieldname=\"树开关\" class=\"icon iconfont icon-shushouqi tree-swich\"></i>}\r\n                                    openIcon={<i field=\"tree-switcher\" fieldname=\"树开关\" class=\"icon iconfont icon-shu_zk tree-swich\"></i>}\r\n                                    onExpand={this.onExpandFn}\r\n                                    expandedKeys={this.state.tree.expandedKeys}\r\n                                    {...tree.config()}\r\n                                    { ...{checkedKeys:checkedKeys}}>\r\n                                    {tree.renderNode()}\r\n                                </NCTree>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className = 'right-area' style={{marginLeft:30,height:'450px',padding:'10px',background:'rgba(249,249,249,1)',width:'calc(50% - 25px)',overflow:'hidden'}}>\r\n                    <NCTable  {...table} data={selectDatas} {...{scroll:{y: 390 }} }></NCTable>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default OrgSelect;\r\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./uapbd_style_common.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./uapbd_style_common.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./uapbd_style_common.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\n  padding: 0;\\n  margin: 0;\\n}\\n/*定位容器*/\\n.uapbd_style_center_container {\\n  position: relative;\\n  /*容器 子元素 未定义距离*/\\n  /*容器 子元素 距离右边 20px*/\\n  /*容器 use 子元素 距离右边 20px*/\\n}\\n.uapbd_style_center_container .uapbd_style_center_undefined {\\n  position: absolute;\\n}\\n.uapbd_style_center_container .uapbd_style_center_right20 {\\n  position: absolute;\\n  top: 0;\\n  right: 20px;\\n  bottom: 0;\\n}\\n.uapbd_style_center_container .uapbd_style_center_left20 {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 20px;\\n}\\n/*出现 滚动条的容器*/\\n.uapbd_style_scroll_container {\\n  overflow: auto;\\n}\\n/*定义滚动条轨道*/\\n.uapbd_style_scroll_container::-webkit-scrollbar-track {\\n  border-radius: 8px;\\n  background-color: white;\\n}\\n/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\\n.uapbd_style_scroll_container::-webkit-scrollbar {\\n  width: 8px;\\n}\\n/*定义滑块 内阴影+圆角*/\\n.uapbd_style_scroll_container::-webkit-scrollbar-thumb {\\n  border-radius: 8px;\\n  width: 8px;\\n  background-color: #d8d8d8;\\n}\\n.transfer_tree_container {\\n  clear: both;\\n  height: 90%;\\n  width: 100%;\\n  margin-top: 10px;\\n}\\n.transfer_tree_container .left-area {\\n  height: 100%;\\n  display: inline-block;\\n  vertical-align: top;\\n  width: calc(50% - 91px);\\n  overflow: auto;\\n}\\n.transfer_tree_container .button-area {\\n  height: 100%;\\n  width: 50px;\\n  display: inline-block;\\n  vertical-align: middle;\\n  padding-top: 30px;\\n  text-align: center;\\n}\\n.transfer_tree_container .button-area .opr-botton {\\n  padding-top: 25px;\\n  display: block;\\n  margin: 0 auto;\\n}\\n.transfer_tree_container .right-area {\\n  height: 100%;\\n  display: inline-block;\\n  vertical-align: top;\\n  width: calc(50% - 91px);\\n  overflow: auto;\\n}\\n.transfer_tree_container .transferSwitcherClassSelfNameHidden i {\\n  visibility: hidden;\\n}\\n.transfer_tree_container .left-area-tree .u-tree,\\n.transfer_tree_container .right-area-tree .u-tree {\\n  height: 360px;\\n  overflow: auto;\\n}\\n.transfer_tree_container .left-area-nei,\\n.transfer_tree_container .right-area-nei {\\n  height: 100%;\\n  border-radius: 3px;\\n  border: 1px solid #d0d0d0;\\n  background: #ffffff;\\n}\\n.transfer_tree_container .opr-botton-trans button {\\n  min-width: auto;\\n  width: 32px;\\n  height: 32px;\\n  padding: 0;\\n}\\n/*\\n * 这个是左树的 控制搜索框 宽度的。\\n */\\n.NC_syncTreeSearch_self_width {\\n  width: 240px!important;\\n}\\n.NC_syncTreeSearch_self_width .u-form-control-wrapper {\\n  width: 240px!important;\\n}\\n/*\\n * 这个是左树中加虚线样式。\\n */\\n.syncTreeComLineStyle .synctree-area .u-tree > li:only-child > ul:before {\\n  border-left: none;\\n}\\n.syncTreeComLineStyle .synctree-area .u-tree > li > ul:last-child::before {\\n  border-left: none;\\n}\\n.syncTreeComLineStyle .synctree-area .u-tree-child-tree-open > li::after {\\n  position: absolute;\\n  left: 8px;\\n  top: -15px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 1px;\\n  height: 28px;\\n  border-left: 1px dashed #d0d0d0;\\n}\\n.syncTreeComLineStyle .synctree-area .node-item .u-tree-switcher {\\n  position: relative;\\n  z-index: 2;\\n}\\n.syncTreeComLineStyle .synctree-area li::after {\\n  border: none;\\n}\\n.syncTreeComLineStyle .synctree-area li {\\n  position: relative;\\n}\\n.syncTreeComLineStyle .synctree-area li .u-tree-switcher {\\n  position: relative;\\n}\\n.syncTreeComLineStyle .synctree-area li .u-tree-switcher::before {\\n  position: absolute;\\n  left: 11px;\\n  top: 8px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 10px;\\n  border-top: 1px dashed #d0d0d0;\\n}\\n.syncTreeComLineStyle .synctree-area li .isLeaf_hiden_point_line > i::before {\\n  visibility: hidden;\\n}\\n/*\\n * 穿梭树 线样式修改\\n */\\n.syncTreeComTransferLineStyle .synctree-area .u-tree > li:only-child > ul:before {\\n  border-left: none;\\n}\\n.syncTreeComTransferLineStyle .synctree-area .u-tree > li > ul:last-child::before {\\n  border-left: none;\\n}\\n.syncTreeComTransferLineStyle .synctree-area .u-tree-child-tree-open > li::after {\\n  position: absolute;\\n  left: 8px;\\n  top: -15px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 1px;\\n  height: 28px;\\n  border-left: 1px dashed #d0d0d0;\\n}\\n.syncTreeComTransferLineStyle .synctree-area .node-item .u-tree-switcher {\\n  position: relative;\\n  z-index: 2;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li::after {\\n  border: none;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li {\\n  position: relative;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_show_point_line::before {\\n  position: absolute;\\n  left: 11px;\\n  top: 8px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 10px;\\n  border-top: 1px dashed #d0d0d0;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_hiden_point_line::before {\\n  position: absolute;\\n  left: 11px;\\n  top: 8px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 10px;\\n  border-top: 1px dashed #d0d0d0;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_hiden_point_line > i::before {\\n  visibility: hidden;\\n}\\n.node-item-edit-point-style-self > a {\\n  background-color: #ebedf2;\\n}\\n.node-item-edit-point-style-self > a span {\\n  color: #e14c46!important;\\n}\\n.table-slef-set-long span {\\n  margin-right: 0px!important;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n"],"sourceRoot":""}