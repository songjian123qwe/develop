{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/./src/uapbd/other/assigntemplate/card/index.js","webpack://[name]/./src/uapbd/other/assigntemplate/component/uapRefer.js","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://[name]/./src/uapbd/public/utils/BDCreateUIDom.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_react","_ncLightappFront","NCAffix","base","NCForm","NCRadio","NCFormControl","NCCol","NCRow","NCBackBtn","NCFormItem","getCacheById","cardCache","updateCache","addCache","getCurrentLastId","getNextId","deleteCacheById","tableId","pageId","assdatasource","pk_item","urls","Card","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","_initialiseProps","formId","state","pagetype","bill_code","selectedValue","pk_docclass0","pk_org0","isMultiSelectedEnabled","stated","json","initTemplate","status","getUrlParam","toggleShow","pk","getdata","setDefaultValue","renderRef","buttonClick","Component","setState","formStatus","form","getFormStatus","tableStatus","cardTable","getStatus","onbeforeunload","id","_this2","EmptyAllFormValue","setTableData","rows","setUrlParam","promptBox","color","title","content","beSureBtnClick","delConfirm","cancelBtnClick","closeBtnClick","pushTo","saveClick","cancel","setFormStatus","setStatus","button","setButtonVisible","setDisabled","tabadd","tabsave","tabedit","tabcancel","tabset","edit","delete","refresh","allrefresh","toast","addRow","tabletoggleShow","filterEmptyRows","tableData","getChangedRows","length","tabrefresh","ajax","url","data","pageid","model","pageinfo","areacode","userjson","success","res","resetTableData","pk_docclass","pk_org","meta","getMeta","items","forEach","e","attrcode","modal","show","pk_docclassvalue","len","getNumberOfRows","refpk","display","refname","pk_orgvalue","callback","_this3","pk_assign_tab","table","param","_this4","book","_react2","default","createElement","xs","md","onChange","_defineProperty","setTimeout","createScript","refcode","_props","createCardPagination","cardPagination","createForm","createCardTable","createButtonApp","createModal","className","onClick","area","buttonLimit","onButtonClick","popContainer","document","querySelector","style","float","handlePageInfoChange","pageInfoClick","dataSource","onAfterEvent","afterEvent","paddingLeft","tableHead","getTableHead","modelSave","showIndex","showSubmit","isRequire","NCRadioGroup","handleChange","label","noFooter","_BDCreateUIDom2","pagecode","domainName","langData","_this5","template","modifierMeta","setMeta","setButtons","setPopContent","tabdelete","push","visible","itemtype","width","fixed","render","text","record","index","btnArray","tableBtnAry","createOprationButton","tableButtonClick","refName","isShowUnit","delRowsByIndex","setFormItemsValue","bill_status","setCardPaginationVisible","sta","flag","add","that","cardData","form1","setAllFormValue","form2","formId1","refreshgetdata","isCheckNow","formData","getAllFormValue","formData2","model1","idvalue","values","nextId","closeModel","createBrowseIcons","iconArr","maxDestAreaId","createPage","handleLoad","code","Item","src","refKey","scripts","Array","from","getElementsByTagName","split","slice","join","substring","find","includes","script","type","body","appendChild","onload","pageCfg","arguments","undefined","langCfg","count","result","hander","templateData","inlt","console","log","newLangCfg","MultiInit","getMultiLang","createUIDom"],"mappings":"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","file":"uapbd/other/assigntemplate/card/index.8b63c4b1.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/other/assigntemplate/card/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse\n\t\troot[\"uapbd/other/assigntemplate/card/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 155);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","//主子表卡片\r\nimport React, { Component } from 'react';\r\nimport { createPage, ajax, base, toast ,cardCache,promptBox} from 'nc-lightapp-front';\r\n\r\nconst { NCAffix ,NCForm,NCFormControl,NCRadio,NCCol,NCRow,NCBackBtn} = base;\r\nconst NCFormItem = NCForm.NCFormItem;\r\nlet { getCacheById, updateCache ,addCache,getCurrentLastId ,getNextId, deleteCacheById } = cardCache;\r\nimport createScript from '../../../other/assigntemplate/component/uapRefer.js';\r\nimport createUIDom from \"../../../public/utils/BDCreateUIDom\";\r\n\r\nconst formId = 'assigntemp';\r\nconst tableId = 'assignrules';\r\nconst pageId = '10180ADVCG_assigntemp_card';\r\nconst appcode = '10180ADVCG'//注册按钮的id\r\nconst pk_value = \"pk_assign_temp\";\r\nconst assdatasource = 'uapbd.other.assigntemplate.dataSource';\r\nconst pk_item = 'pk_assign_temp';\r\nlet urls={\r\n    querycardUrl:\"/nccloud/uapbd/assigntemp/AssigntemLoadCardData.do\",\r\n    SaveassigntempUrl:\"/nccloud/uapbd/assigntemp/AssigntemSaveCardData.do\",\r\n    updateassigntempUrl:\"/nccloud/uapbd/assigntemp/AssigntemUpdateCardData.do\",\r\n    deleteCardUrl:\"/nccloud/uapbd/assigntemp/AssigntemDelCardData.do\",\r\n    SaveRulesUrl:\"/nccloud/uapbd/assigntemp/AssigntemSaveRulesData.do\",\r\n};\r\n\r\nlet tableBtnAry =(props)=>{\r\n    return props.getUrlParam('status') === 'browse'\r\n        ? ['tabdelete']:[ '' ];\r\n}\r\n\r\nclass Card extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.formId = 'assigntemp';\r\n        this.tableId = 'assignrules';\r\n        this.state = {\r\n            pagetype:null,\r\n            bill_code : '',\r\n            selectedValue:'org',\r\n            pk_docclass0:null,\r\n            pk_org0:null,\r\n            isMultiSelectedEnabled:true,\r\n            stated:'browse',\r\n            json:{}\r\n        }\r\n        this.initTemplate(this.props,()=>{\r\n            let status = this.props.getUrlParam('status');\r\n            this.toggleShow();\r\n            if(status != \"add\"){\r\n                let\tpk = this.props.getUrlParam('id');\r\n                if(pk && pk != 'undefined'&&pk!=null){\r\n                    this.getdata(pk,this.props.getUrlParam('pk_assign_tab'),this.props.getUrlParam('pagetype'));\r\n                }\r\n            }\r\n            else{\r\n                this.setDefaultValue();\r\n            }\r\n        })\r\n        this.renderRef = this.renderRef.bind(this)\r\n        this.buttonClick = this.buttonClick.bind(this)\r\n\r\n    }\r\n\r\n    initTemplate = (props,callback) => {\r\n        createUIDom(props)(\r\n            {\r\n                pagecode: pageId//页面id\r\n            },\r\n            {\r\n                moduleId: \"10180ADVCG\",domainName: 'uapbd'\r\n            },\r\n            (data,langData)=>{\r\n                if(langData){\r\n                    this.state.json = langData\r\n                }\r\n                if(data){\r\n                    if(data.template){\r\n                        let meta = data.template;\r\n                        meta = this.modifierMeta(props, meta)\r\n                        props.meta.setMeta(meta);\r\n                    }\r\n                    if(data.button){\r\n                        let button = data.button;\r\n                        props.button.setButtons(button);\r\n                        props.button.setPopContent({'tabdelete':this.state.json['10180ADVCG-000047']});/* 国际化处理： 确认要删除该信息吗？*/\r\n                    }\r\n                }\r\n                callback&&callback();\r\n            }\r\n        )\r\n    }\r\n\r\n    modifierMeta = (props, meta) => {\r\n        let status = props.getUrlParam('status')?props.getUrlParam('status'):'browse';\r\n        let pagetype = props.getUrlParam('pagetype');\r\n        meta[formId].status = status;\r\n        meta[tableId].status = 'browse';\r\n        meta[tableId].items.push({\r\n            attrcode: 'opr',\r\n            label: this.state.json['10180ADVCG-000023'],/* 国际化处理： 操作*/\r\n            visible: true,\r\n            className:'table-opr',\r\n            itemtype: 'customer',\r\n            width:200,\r\n            fixed:'right',\r\n            render:(text, record, index) => {\r\n\r\n                const btnArray = tableBtnAry(props);\r\n\r\n                return props.button.createOprationButton(\r\n                    btnArray,\r\n                    {\r\n                        area: \"table-opr-button\",\r\n                        buttonLimit: 3,\r\n                        onButtonClick: (props, id) => this.tableButtonClick(props, id, text, record, index)\r\n                    }\r\n                )\r\n            }\r\n        });\r\n        if(pagetype){\r\n            meta[pagetype].status = status;\r\n            switch (pagetype){\r\n                //commonItemHander[pagetype].addMetaItem(meta);\r\n                case 'custcreditctl':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            // e.itemtype = 'refer',\r\n                            e.label = this.state.json['10180ADVCG-000000'],/* 国际化处理： 客户基本分类*/\r\n                                e.refcode =\"uapbd/refer/customer/CustClassDefaultTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000000']/* 国际化处理： 客户基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000001'],/* 国际化处理： 组织_信用控制域*/\r\n                                e.refcode =\"uapbd/refer/org/CreditCtlRegionGridRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000002']/* 国际化处理： 信用控制域*/\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'custfinance':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            // e.itemtype = 'refer',\r\n                            e.label = this.state.json['10180ADVCG-000000'],/* 国际化处理： 客户基本分类*/\r\n                                e.refcode =\"uapbd/refer/customer/CustClassDefaultTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000000']/* 国际化处理： 客户基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000003'],/* 国际化处理： 组织_业务单元_财务组织*/\r\n                                e.refcode =\"uapbd/refer/org/FinanceOrgTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000004']/* 国际化处理： 财务组织*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_respdept1\"){\r\n                            e.isShowUnit=true;\r\n                            e.refcode =\"uapbd/refer/org/DeptTreeRef/index.js\";\r\n                        }\r\n                        if(e.attrcode==\"pk_resppsn1\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"pk_payterm\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'custsale':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000000'],/* 国际化处理： 客户基本分类*/\r\n                                e.refcode =\"uapbd/refer/customer/CustClassDefaultTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000000']/* 国际化处理： 客户基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000005'],/* 国际化处理： 组织_业务单元_销售组织*/\r\n                                e.refcode =\"uapbd/refer/org/SaleOrgTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000006']/* 国际化处理： 销售组织*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        switch (e.attrcode){\r\n                            case 'pk_financeorg':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'pk_receiveorg':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'pk_liabilitycenter':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'respdept':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'respperson':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'pk_custsaleclass':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'billingcust':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'issuecust':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'pk_paycust':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'paytermdefault':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            default :\r\n                                break\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'materialcost':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000007'],/* 国际化处理： 物料基本分类*/\r\n                                e.refcode =\"uapbd/refer/material/MaterialBasClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000007']/* 国际化处理： 物料基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000008'],/* 国际化处理： 组织_成本域*/\r\n                                e.refcode =\"uapbd/refer/org/CostRegionDefaultGridRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000009']/* 国际化处理： 成本域*/\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'materialfi':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000007'],/* 国际化处理： 物料基本分类*/\r\n                                e.refcode =\"uapbd/refer/material/MaterialBasClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000007']/* 国际化处理： 物料基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000003'],/* 国际化处理： 组织_业务单元_财务组织*/\r\n                                e.refcode =\"uapbd/refer/org/FinanceOrgTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000004']/* 国际化处理： 财务组织*/\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'materialplan':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000007'],/* 国际化处理： 物料基本分类*/\r\n                                e.refcode =\"uapbd/refer/material/MaterialBasClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000007']/* 国际化处理： 物料基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000010'],/* 国际化处理： 组织*/\r\n                                e.refcode =\"uapbd/refer/org/OrgWithGlobalAllDataTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000011']/* 国际化处理： 组织(包含全局)(所有)*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_prodfactory\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'materialprod':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000007'],/* 国际化处理： 物料基本分类*/\r\n                                e.refcode =\"uapbd/refer/material/MaterialBasClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000007']/* 国际化处理： 物料基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000012'],/* 国际化处理： 组织_业务单元_工厂*/\r\n                                e.refcode =\"uapbd/refer/org/FactoryGridRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000013']/* 国际化处理： 工厂*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_prodeptdoc\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"pk_propsndoc\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"pk_marcostclass\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"disbrcostctr\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"disbearfactory\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'materialpu':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000007'],/* 国际化处理： 物料基本分类*/\r\n                                e.refcode =\"uapbd/refer/material/MaterialBasClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000007']/* 国际化处理： 物料基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000014'],/* 国际化处理： 组织_业务单元_采购组织*/\r\n                                e.refcode =\"uapbd/refer/org/PurchaseOrgGridRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000015']/* 国际化处理： 采购组织*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_cumandoc\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'materialsale':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000007'],/* 国际化处理： 物料基本分类*/\r\n                                e.refcode =\"uapbd/refer/material/MaterialBasClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000007']/* 国际化处理： 物料基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000005'],/* 国际化处理： 组织_业务单元_销售组织*/\r\n                                e.refcode =\"uapbd/refer/org/SaleOrgTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000006']/* 国际化处理： 销售组织*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_marsaleclass\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'materialstock':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000007'],/* 国际化处理： 物料基本分类*/\r\n                                e.refcode =\"uapbd/refer/material/MaterialBasClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000007']/* 国际化处理： 物料基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000016'],/* 国际化处理： 组织_业务单元_库存组织*/\r\n                                e.refcode =\"uapbd/refer/org/StockOrgGridRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000017']/* 国际化处理： 库存组织*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_purchaseorg\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"pk_suplystockorg\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"pk_marpuclass\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"pk_stordoc\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'materialpfc':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000007'],/* 国际化处理： 物料基本分类*/\r\n                                e.refcode =\"uapbd/refer/material/MaterialBasClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000007']/* 国际化处理： 物料基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000018'],/* 国际化处理： 组织_业务单元_利润中心*/\r\n                                e.refcode =\"uapbd/refer/org/LiabilityCenterOrgTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000019']/* 国际化处理： 利润中心*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_marcostcls\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'materialpfcc':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000007'],/* 国际化处理： 物料基本分类*/\r\n                                e.refcode =\"uapbd/refer/material/MaterialBasClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000007']/* 国际化处理： 物料基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000020'],/* 国际化处理： 组织_业务单元_利润中心成本域*/\r\n                                e.refcode =\"uapbd/refer/riaorgbd/LiactCostrgDefaultGridRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000021']/* 国际化处理： 利润中心成本域*/\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'supfinance':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000022'],/* 国际化处理： 供应商基本分类*/\r\n                                e.refcode =\"uapbd/refer/supplier/SupplierClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000022']/* 国际化处理： 供应商基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000003'],/* 国际化处理： 组织_业务单元_财务组织*/\r\n                                e.refcode =\"uapbd/refer/org/FinanceOrgTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000004']/* 国际化处理： 财务组织*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_respdept\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"pk_resppsn\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                        if(e.attrcode==\"pk_payterm\"){\r\n                            e.isShowUnit=true;\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'supstock':\r\n                    meta[tableId].items.forEach((e)=>{\r\n                        if(e.attrcode==\"pk_docclass\"){\r\n                            e.label = this.state.json['10180ADVCG-000022'],/* 国际化处理： 供应商基本分类*/\r\n                                e.refcode =\"uapbd/refer/supplier/SupplierClassTreeRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000022']/* 国际化处理： 供应商基本分类*/\r\n                        }\r\n                        if(e.attrcode== 'pk_org'){\r\n                            e.label = this.state.json['10180ADVCG-000014'],/* 国际化处理： 组织_业务单元_采购组织*/\r\n                                e.refcode =\"uapbd/refer/org/PurchaseOrgGridRef/index.js\",\r\n                                e.refName = this.state.json['10180ADVCG-000015']/* 国际化处理： 采购组织*/\r\n                        }\r\n                    })\r\n                    meta[pagetype].items.forEach((e)=>{\r\n                        switch (e.attrcode){\r\n                            case 'respdept':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'respperson':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'paytermdefault':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'billingsup':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'issuesup':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            case 'pk_gathering':\r\n                                e.isShowUnit=true;\r\n                                break;\r\n                            default :\r\n                                break\r\n                        }\r\n                    })\r\n                    break;\r\n            }\r\n        }\r\n\r\n\r\n        return meta;\r\n    }\r\n\r\n    tableButtonClick=(props, id, text, record, index)=>{\r\n        switch(id){\r\n            case \"tabdelete\"://删除行\r\n                props.cardTable.delRowsByIndex(tableId, index);\r\n                let status = props.cardTable.getStatus(tableId);\r\n                if(status==\"browse\"){\r\n                    let tableData = props.cardTable.getChangedRows(tableId);\r\n                    ajax({\r\n                        url: urls.SaveRulesUrl,\r\n                        data: {\r\n                            pageid :pageId,\r\n                            model:{\r\n                                'pageinfo':{},\r\n                                'areacode':tableId,\r\n                                'rows':tableData\r\n                            },\r\n                            userjson : `{id:${props.getUrlParam('id')},pagetype:${props.getUrlParam('pagetype')},pk_assign_tab:${props.getUrlParam('pk_assign_tab')}}`\r\n                        },\r\n                        success: (res) => {\r\n                            if (res.success) {\r\n                                if (res.data) {\r\n                                    toast({content:this.state.json['10180ADVCG-000024'],color:'success'});/* 国际化处理： 删除成功*/\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                }else{\r\n\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        let pagetype = this.props.getUrlParam('pagetype');\r\n        this.state.pagetype = pagetype;\r\n        this.setState(this.state);\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        let formStatus = this.props.form.getFormStatus(this.formId);\r\n        let tableStatus = this.props.cardTable.getStatus(this.tableId);\r\n        if(formStatus === 'browse'&&tableStatus === 'browse'){\r\n            window.onbeforeunload = null;\r\n        }else{\r\n            window.onbeforeunload = () => {//编辑态关闭页签或浏览器的提示\r\n                return '';\r\n            };\r\n        }\r\n    }\r\n\r\n    setDefaultValue = () =>{\r\n        this.props.form.setFormItemsValue(this.formId,{'bill_status':{value:'0',display:this.state.json['10180ADVCG-000025']}});/* 国际化处理： 自由态*/\r\n        this.toggleShow();\r\n    }\r\n\r\n    //切换页面状态\r\n    toggleShow = () => {\r\n        let status = this.props.getUrlParam('status');\r\n        let length = this.props.cardTable.getNumberOfRows(tableId);\r\n        this.props.button.setButtonVisible(['tabsave','tabcancel'],false);\r\n        //按钮的显示状态\r\n        if(status == 'edit' || status == 'add'){\r\n            this.props.button.setButtonVisible(['edit','add','back','delete','refresh'],false);\r\n            this.props.button.setButtonVisible(['save','cancel'],true);\r\n            this.props.cardPagination.setCardPaginationVisible('cardPaginationBtn', false);\r\n            this.props.button.setDisabled({\r\n                tabadd:true,\r\n                tabsave:true,\r\n                tabedit:true,\r\n                tabcancel:true,\r\n                tabset:true,\r\n            })\r\n        }else{\r\n            this.props.button.setButtonVisible(['save','cancel'],false);\r\n            this.props.button.setButtonVisible(['add','edit','delete','back','refresh'],true);\r\n            this.props.cardPagination.setCardPaginationVisible('cardPaginationBtn', true);\r\n            this.props.button.setDisabled({\r\n                tabadd:false,\r\n                tabsave:true,\r\n                tabedit:!(length>0),\r\n                tabcancel:true,\r\n                tabset:false,\r\n            })\r\n        }\r\n        this.props.form.setFormStatus(this.formId, status);\r\n        this.props.form.setFormStatus(this.state.pagetype, status);\r\n        this.setState({\r\n            stated:status\r\n        });\r\n    };\r\n\r\n    tabletoggleShow=(sta)=>{\r\n        let status = sta?sta:this.props.cardTable.getStatus(tableId);\r\n        this.props.button.setPopContent(status === 'browse' ?{'tabdelete':this.state.json['10180ADVCG-000047']}:{'tabdelete':null});/* 国际化处理： 确认要删除该信息吗？*/\r\n        let length = this.props.cardTable.getNumberOfRows(tableId);\r\n        let flag = status === 'browse' ? false : true;\r\n        this.props.button.setDisabled({\r\n            add:flag,\r\n            edit:flag,\r\n            delete:flag,\r\n            refresh:flag,\r\n        })\r\n        this.props.button.setButtonVisible({tabsave:flag,tabcancel:flag,tabedit:!flag});\r\n        this.props.button.setDisabled({\r\n            tabsave:!flag,\r\n            tabedit:!(length>0&&!flag),\r\n            tabcancel:!flag,\r\n            tabset:false,\r\n            tabrefresh:flag,\r\n        })\r\n        this.setState({\r\n            stated:status\r\n        });\r\n    }\r\n\r\n    //按钮点击事件\r\n    buttonClick(props, id) {\r\n        switch (id) {\r\n            case 'add':\r\n                props.form.EmptyAllFormValue(this.formId)\r\n                props.form.EmptyAllFormValue(this.state.pagetype)\r\n                props.cardTable.setTableData(this.tableId, { rows: [] })\r\n                props.setUrlParam({status:'add'})\r\n                this.setDefaultValue();\r\n                break\r\n            case 'edit':\r\n                props.setUrlParam({status:'edit'})\r\n                this.toggleShow();\r\n                break;\r\n            case 'delete':\r\n                promptBox({\r\n                    color:\"info\",\r\n                    title: this.state.json['10180ADVCG-000031'],/* 国际化处理： 注意*/\r\n                    content: this.state.json['10180ADVCG-000032'],/* 国际化处理： 确认删除？*/\r\n                    beSureBtnClick: this.delConfirm.bind(this),\r\n                    cancelBtnClick:()=>{\r\n                        return;\r\n                    },\r\n                    closeBtnClick:()=>{\r\n                        return;\r\n                    }\r\n                })\r\n                break\r\n            case 'back':\r\n                props.pushTo(\"/list\")\r\n                break\r\n            case 'save':\r\n                this.saveClick();\r\n                break\r\n            case 'cancel':\r\n                promptBox({\r\n                    color:\"warning\",\r\n                    title:this.state.json['10180ADVCG-000026'],/* 国际化处理： 确认取消*/\r\n                    content:this.state.json['10180ADVCG-000027'],/* 国际化处理： 是否确认要取消?*/\r\n                    beSureBtnClick:()=>{\r\n                        if (props.getUrlParam('status') === 'add') {\r\n                            let id =  props.getUrlParam('id')||getCurrentLastId(assdatasource);\r\n                            if(id){\r\n                                this.props.setUrlParam({status:'browse',id:id})\r\n                                this.getdata(id,this.props.getUrlParam('pk_assign_tab'),this.props.getUrlParam('pagetype'));\r\n                            }else{\r\n                                props.setUrlParam({status:'browse'})\r\n                                this.props.form.cancel(this.formId);\r\n                                this.props.form.cancel(this.state.pagetype);\r\n                                props.form.setFormStatus(this.formId, \"browse\");\r\n                                props.form.setFormStatus(this.state.pagetype, \"browse\");\r\n                                props.cardTable.setStatus(tableId,\"browse\");\r\n                                this.props.button.setButtonVisible(['save','cancel'],false);\r\n                                this.props.button.setButtonVisible(['add','edit','delete','back','refresh'],true);\r\n                                this.props.button.setDisabled({\r\n                                    tabadd:true,\r\n                                    tabsave:true,\r\n                                    tabedit:true,\r\n                                    tabcancel:true,\r\n                                    tabset:true,\r\n                                    edit:true,\r\n                                    delete:true,\r\n                                    refresh:true,\r\n                                })\r\n                                this.setState({\r\n                                        stated:\"browse\"\r\n                                    });\r\n                                return;\r\n                            }\r\n                        }\r\n                        if (props.getUrlParam('status') === 'edit') {\r\n                            props.form.cancel(this.formId);\r\n                            props.form.cancel(this.state.pagetype);\r\n                            props.setUrlParam({status:'browse'});\r\n                            this.toggleShow();\r\n                        }\r\n                    },\r\n                    cancelBtnClick:()=>{\r\n                        return;\r\n                    },\r\n                    closeBtnClick:()=>{\r\n                        return;\r\n                    }\r\n                })\r\n                break\r\n            case 'refresh':\r\n                this.allrefresh(()=>{toast({title:this.state.json['10180ADVCG-000028']});});/* 国际化处理： 刷新成功！*/\r\n                break\r\n            case 'tabadd':\r\n                this.props.cardTable.setStatus(tableId, 'edit');\r\n                props.cardTable.addRow(this.tableId);\r\n                this.tabletoggleShow('edit');\r\n                break\r\n            case 'tabsave':\r\n                this.props.cardTable.filterEmptyRows(tableId,['pk_docclass']);\r\n                let tableData = this.props.cardTable.getChangedRows(tableId);   //保存时，只获取改变的数据行而不是table的所有数据行，减少数据传输\r\n                if(!tableData || tableData.length === 0) {\r\n                    this.props.cardTable.setStatus(tableId, 'browse');\r\n                    toast({title:this.state.json['10180ADVCG-000029']});/* 国际化处理： 保存成功！*/\r\n                    this.tabrefresh();\r\n                    return\r\n                }\r\n                ajax({\r\n                    url: urls.SaveRulesUrl,\r\n                    data: {\r\n                        pageid :pageId,\r\n                        model:{\r\n                            'pageinfo':{},\r\n                            'areacode':tableId,\r\n                            'rows':tableData\r\n                        },\r\n                        userjson : `{id:${this.props.getUrlParam('id')},pagetype:${this.props.getUrlParam('pagetype')},pk_assign_tab:${this.props.getUrlParam('pk_assign_tab')}}`\r\n                    },\r\n                    success: (res) => {\r\n                        if (res.success) {\r\n                            if (res.data) {\r\n                                this.props.cardTable.setStatus(tableId, 'browse');\r\n                                toast({title:this.state.json['10180ADVCG-000029']});/* 国际化处理： 保存成功！*/\r\n                                this.tabrefresh();\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                break\r\n            case 'tabedit':\r\n                this.props.cardTable.setStatus(tableId, 'edit');\r\n                this.tabletoggleShow('edit');\r\n                break\r\n            case 'tabcancel':\r\n                this.props.cardTable.resetTableData(tableId);\r\n                this.props.cardTable.setStatus(tableId, 'browse');\r\n                this.tabletoggleShow('browse');\r\n                break\r\n            case 'tabrefresh':\r\n                this.tabrefresh(()=>{toast({title:this.state.json['10180ADVCG-000028']});});/* 国际化处理： 刷新成功！*/\r\n                break\r\n            case 'tabset':\r\n                let pk_docclass;\r\n                let pk_org;\r\n                this.props.meta.getMeta()[tableId].items.forEach((e)=>{\r\n                    if(e.attrcode==\"pk_docclass\"){\r\n                        pk_docclass = e;\r\n                    }\r\n                    if(e.attrcode== 'pk_org'){\r\n                        pk_org = e;\r\n                    }\r\n                });\r\n                this.setState({\r\n                    pk_docclass0:pk_docclass,\r\n                    pk_org0:pk_org\r\n                })\r\n                props.modal.show('modal',{\r\n                    beSureBtnClick:()=>{\r\n                        props.cardTable.setStatus(\"edit\");\r\n                        if(this.state.isMultiSelectedEnabled){\r\n                            this.state.pk_docclassvalue.forEach((e)=>{\r\n                                let len = props.cardTable.getNumberOfRows(tableId);\r\n                                props.cardTable.addRow(this.tableId, len, {pk_docclass:{value:e.refpk,display:e.refname},pk_org:{value:this.state.pk_orgvalue.refpk,display:this.state.pk_orgvalue.refname}});\r\n                            })\r\n                        }else{\r\n                            this.state.pk_orgvalue.forEach((e)=>{\r\n                                let len = props.cardTable.getNumberOfRows(tableId);\r\n                                props.cardTable.addRow(this.tableId, len, {pk_docclass:{value:this.state.pk_docclassvalue.refpk,display:this.state.pk_docclassvalue.refname},pk_org:{value:e.refpk,display:e.refname}});\r\n                            })\r\n                        }\r\n                        this.tabletoggleShow();\r\n                    }\r\n                })\r\n                break;\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    //表格刷新\r\n    tabrefresh(callback){\r\n        let status = this.props.getUrlParam('status');\r\n        if(status != \"browse\"){\r\n            let\tpk = this.props.getUrlParam('id');\r\n            let pk_assign_tab = this.props.getUrlParam('pk_assign_tab');\r\n            let pagetype = this.props.getUrlParam('pagetype');\r\n            if(pk && pk != 'undefined'){\r\n                let data = {pk,pk_assign_tab,pagetype};\r\n                ajax({\r\n                    url: urls.querycardUrl,\r\n                    data,\r\n                    success: (res) => {\r\n                        if(res.data.table){\r\n                            this.props.cardTable.setTableData(this.tableId, res.data.table[this.tableId]);\r\n                        }\r\n                        this.tabletoggleShow();\r\n                        callback&&callback()\r\n                    }\r\n                });\r\n            }else{\r\n                callback&&callback();\r\n            }\r\n        }else{\r\n            callback&&callback();\r\n        }\r\n    }\r\n\r\n    //通过单据id查询单据信息\r\n    getdata = (pk,pk_assign_tab,pagetype) =>{\r\n        let that = this;\r\n        let cardData = getCacheById(pk, assdatasource);\r\n        if(cardData){\r\n            if (cardData.form1) {\r\n                this.props.form.setAllFormValue({ [that.formId]: cardData.form1[that.formId] });\r\n            }\r\n            if (cardData.form2) {\r\n                this.props.form.setAllFormValue({ [that.state.pagetype]: cardData.form2[that.state.pagetype] });\r\n            }\r\n            if(cardData.table){\r\n                this.props.cardTable.setTableData(that.tableId, cardData.table[that.tableId]);\r\n            }\r\n            this.toggleShow();\r\n            this.tabletoggleShow();\r\n        }else{\r\n            let data = {pk,pk_assign_tab,pagetype};\r\n            ajax({\r\n                url: urls.querycardUrl,\r\n                data,\r\n                success: (res) => {\r\n                    if (res.data.form1) {\r\n                        this.props.form.setAllFormValue({ [that.formId]: res.data.form1[that.formId] });\r\n                        // let project_code = res.data[that.formId].rows[0].values[pk_value].value;\r\n                        // this.setState({project_code});\r\n                    }\r\n                    if (res.data.form2) {\r\n                        this.props.form.setAllFormValue({ [that.state.pagetype]: res.data.form2[that.state.pagetype] });\r\n                    }\r\n                    if(res.data.table){\r\n                        this.props.cardTable.setTableData(that.tableId, res.data.table[that.tableId]);\r\n                    }\r\n                    res.data['head']=res.data[\"form1\"];\r\n                    updateCache(pk_item,pk,res.data,this.formId1,assdatasource);\r\n                    this.toggleShow();\r\n                    this.tabletoggleShow();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    //刷新缓存查询\r\n    refreshgetdata = (pk,pk_assign_tab,pagetype) =>{\r\n        let that = this;\r\n        let data = {pk,pk_assign_tab,pagetype};\r\n        ajax({\r\n            url: urls.querycardUrl,\r\n            data,\r\n            success: (res) => {\r\n                if (res.data.form1) {\r\n                    this.props.form.setAllFormValue({ [that.formId]: res.data.form1[that.formId] });\r\n                }\r\n                if (res.data.form2) {\r\n                    this.props.form.setAllFormValue({ [that.state.pagetype]: res.data.form2[that.state.pagetype] });\r\n                }\r\n                if(res.data.table){\r\n                    this.props.cardTable.setTableData(that.tableId, res.data.table[that.tableId]);\r\n                }\r\n                res.data['head']=res.data[\"form1\"];\r\n                updateCache(pk_item,pk,res.data,this.formId1,assdatasource);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    allrefresh = (callback)=>{\r\n        let\tpk = this.props.getUrlParam('id');\r\n        this.refreshgetdata(pk,this.props.getUrlParam('pk_assign_tab'),this.props.getUrlParam('pagetype'));\r\n        this.props.cardTable.setStatus(tableId,\"browse\");\r\n        this.tabrefresh();\r\n        this.tabletoggleShow();\r\n        callback&&callback();\r\n    }\r\n    //保存单据\r\n    saveClick = () =>{\r\n        this.props.cardTable.filterEmptyRows(tableId);\r\n        let flag = this.props.form.isCheckNow([this.formId,this.state.pagetype]);\r\n        if(!flag)return\r\n        let formData = this.props.form.getAllFormValue(this.formId);\r\n        formData.areacode = this.formId;\r\n        let formData2 = this.props.form.getAllFormValue(this.state.pagetype);\r\n        formData2.areacode = this.state.pagetype;\r\n\r\n        let url = urls.SaveassigntempUrl//新增保存\r\n        if (this.props.getUrlParam('status') === 'edit') {\r\n            url = urls.updateassigntempUrl//修改保存\r\n        }\r\n        ajax({\r\n            url: url,\r\n            data: {\r\n                pageid :pageId,\r\n                pagetype:this.props.getUrlParam('pagetype'),\r\n                pk_assign_tab:this.props.getUrlParam('pk_assign_tab'),\r\n                model:formData,\r\n                model1:formData2\r\n            },\r\n            success: (res) => {\r\n                let pk_project = null\r\n                if (res.success) {\r\n                    if (res.data) {\r\n                        if (res.data.form1) {\r\n                            this.props.form.setAllFormValue({ [this.formId]: res.data.form1[this.formId] });\r\n                            // let project_code = res.data[that.formId].rows[0].values[pk_value].value;\r\n                            // this.setState({project_code});\r\n                        }\r\n                        if (res.data.form2) {\r\n                            this.props.form.setAllFormValue({ [this.state.pagetype]: res.data.form2[this.state.pagetype] });\r\n                        }\r\n                        if(res.data.table){\r\n                            this.props.cardTable.setTableData(this.tableId, res.data.table[this.tableId]);\r\n                        }\r\n                        res.data['head']=res.data[\"form1\"];\r\n                        let idvalue = res.data.form1[this.formId].rows[0].values[pk_value].value;\r\n                        if (this.props.getUrlParam('status') === 'add'){\r\n                            addCache(idvalue,res.data,this.formId1,assdatasource);\r\n                        }{\r\n                            updateCache(pk_item,idvalue,res.data,this.formId1,assdatasource);\r\n                        }\r\n                        toast({title : this.state.json['10180ADVCG-000029'],color : 'success'});/* 国际化处理： 保存成功！*/\r\n                        this.props.setUrlParam({status:'browse',id: res.data.form1[this.formId].rows[0].values[\"pk_assign_temp\"].value})\r\n                        this.toggleShow();\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    //删除单据\r\n    delConfirm = () => {\r\n        ajax({\r\n            url: urls.deleteCardUrl,\r\n            data: {\r\n                pagetype:this.props.getUrlParam('pagetype'),\r\n                id: this.props.getUrlParam('id'),\r\n                pk_assign_tab:this.props.getUrlParam('pk_assign_tab')\r\n            },\r\n            success: (res) => {\r\n                debugger\r\n                let id =this.props.getUrlParam('id');\r\n                let nextId = getNextId(id, assdatasource);\r\n                deleteCacheById(pk_item,id,assdatasource);\r\n                toast({ color: 'success', title: this.state.json['10180ADVCG-000030'] });/* 国际化处理： 删除成功！*/\r\n                if(nextId){\r\n                    this.props.setUrlParam({status:'browse',id: nextId})\r\n                    this.getdata(nextId,this.props.getUrlParam('pk_assign_tab'),this.props.getUrlParam('pagetype'));\r\n                }else{\r\n                    this.props.pushTo(\"/list\",{\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    modelSave = (props)=>{\r\n        props.cardTable.closeModel(this.tableId);\r\n        this.saveClick();\r\n    }\r\n\r\n    //动态加载参照\r\n    renderRef(param, e ) {\r\n        if(!e){\r\n            return\r\n        }\r\n        let book;\r\n        if(!this.state[param]) {\r\n            setTimeout(()=>{\r\n                {createScript.call(this,e.refcode, param)}\r\n            })\r\n        } else {\r\n            book =  (\r\n                <NCRow>\r\n                    <NCCol xs={12} md={12}>\r\n                        {this.state[param]?(this.state[param])(\r\n                            {\r\n                                isMultiSelectedEnabled:param==\"pk_docclass\"?this.state.isMultiSelectedEnabled:!this.state.isMultiSelectedEnabled,\r\n                                value: this.state[param+\"value\"],\r\n                                onChange:(value)=> {\r\n                                    this.setState({[param+\"value\"]:value});\r\n                                }\r\n                            }\r\n                        ):<div/>}\r\n                    </NCCol>\r\n                </NCRow>\r\n            );\r\n        }\r\n        return book;\r\n    }\r\n\r\n    afterEvent = () =>{}\r\n\r\n    handleChange=(value)=>{\r\n        if(value == \"org\"){\r\n            this.setState({\r\n                isMultiSelectedEnabled:true,\r\n                selectedValue:value,\r\n            });\r\n        }else{\r\n            this.setState({\r\n                isMultiSelectedEnabled:false,\r\n                selectedValue:value,\r\n            }) ;\r\n        }\r\n    }\r\n\r\n    //分页器\r\n    pageInfoClick=(props, pk)=> {\r\n        if(pk&&pk!=null){\r\n            props.setUrlParam({id:pk});\r\n            this.getdata(pk,this.props.getUrlParam('pk_assign_tab'),this.props.getUrlParam('pagetype'));\r\n        }\r\n    }\r\n\r\n    //获取列表肩部信息\r\n    getTableHead = () => {\r\n        let {button} = this.props;\r\n        let { createButtonApp } = button;\r\n        let status = this.props.getUrlParam(\"status\");\r\n        return (\r\n            <div className=\"shoulder-definition-area\">\r\n                <div className=\"\">\r\n                    {createButtonApp({\r\n                        area: 'table-button-area',\r\n                        buttonLimit: 3,\r\n                        onButtonClick: this.buttonClick.bind(this),\r\n                        popContainer: document.querySelector('.table-button-area')\r\n\r\n                    })}\r\n                </div>\r\n                <div className=\"definition-icons\">\r\n                    {this.props.cardTable.createBrowseIcons(this.tableId, {\r\n                        iconArr: ['close', 'open', 'max','setCol'],\r\n                        maxDestAreaId: 'nc-bill-card'\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    render() {\r\n        let { cardTable, form, button, modal, cardPagination } = this.props;\r\n        const {createCardPagination} = cardPagination;\r\n        let { createForm } = form;\r\n        let { createCardTable } = cardTable;\r\n        let { createButtonApp } = button;\r\n        let { createModal } = modal;\r\n        return (\r\n            <div  className='nc-bill-card'>\r\n                <div className=\"nc-bill-top-area\">\r\n                    <NCAffix>\r\n                    <div className='nc-bill-header-area'>\r\n                        {this.state.stated === 'browse'&&\r\n                        <NCBackBtn className='title-search-detail'\r\n                                   onClick={ this.buttonClick.bind(this,this.props,'back') }></NCBackBtn>}\r\n                        <h2 className='title-search-detail'>{this.state.json['10180ADVCG-000034']/* 国际化处理： 分配默认值配置*/}</h2>\r\n                        <div className=\"header-button-area\">\r\n                            {createButtonApp({\r\n                                area: 'header-button-area',\r\n                                buttonLimit: 3,\r\n                                onButtonClick: this.buttonClick.bind(this),\r\n                                popContainer: document.querySelector('.header-button-area')\r\n\r\n                            })}\r\n                            <div className='header-cardPagination-area' style={{float:'right'}}>\r\n                                {createCardPagination({\r\n                                    handlePageInfoChange: this.pageInfoClick.bind(this),\r\n                                    dataSource: assdatasource\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </NCAffix>\r\n                    <div className=\"nc-bill-form-area\">\r\n                        {\r\n                            createForm(this.formId, {\r\n                                onAfterEvent: this.afterEvent.bind(this)\r\n                            })\r\n                        }\r\n                        <div  style={{paddingLeft: 20}}>{this.state.json['10180ADVCG-000035']/* 国际化处理： 属性默认值*/}</div>\r\n                        {\r\n                            createForm(this.state.pagetype, {\r\n                                onAfterEvent: this.afterEvent.bind(this)\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"nc-bill-bottom-area\">\r\n                    {createCardTable(this.tableId, {\r\n                        tableHead: this.getTableHead.bind(this),\r\n                        modelSave: this.modelSave.bind(this),\r\n                        showIndex:true,\r\n                    })}\r\n                </div>\r\n                {createModal('delete', {\r\n                    title: this.state.json['10180ADVCG-000031'],/* 国际化处理： 注意*/\r\n                    content: this.state.json['10180ADVCG-000032'],/* 国际化处理： 确认删除？*/\r\n                    beSureBtnClick: this.delConfirm.bind(this)\r\n                })}\r\n                {createModal('modal',{\r\n                    color:\"warning\",\r\n                    title:this.state.json['10180ADVCG-000033'],/* 国际化处理： 快速设置*/\r\n                    content:(\r\n                        <NCForm  showSubmit={false}>\r\n                            <NCFormItem  isRequire={true}  >\r\n                                <NCRadio.NCRadioGroup\r\n                                    selectedValue={this.state.selectedValue}\r\n                                    onChange={this.handleChange.bind(this)}\r\n                                >\r\n                                    <NCRadio value=\"org\" >{this.state.json['10180ADVCG-000036']/* 国际化处理： 多分类同一组织*/}</NCRadio>\r\n                                    <NCRadio value=\"class\" >{this.state.json['10180ADVCG-000037']/* 国际化处理： 多组织同一分类*/}</NCRadio>\r\n                                </NCRadio.NCRadioGroup>\r\n                            </NCFormItem>\r\n\r\n                            <NCCol md={12}> <NCCol md={3}>{this.state.pk_docclass0&&this.state.pk_docclass0.label}</NCCol><NCCol md={4}>\r\n                                {this.renderRef('pk_docclass',this.state.pk_docclass0&&this.state.pk_docclass0)}\r\n                            </NCCol></NCCol>\r\n                            <NCCol md={12}> <NCCol md={3}>{this.state.pk_org0&&this.state.pk_org0.label}</NCCol><NCCol md={4}>\r\n                                {this.renderRef('pk_org',this.state.pk_org0&&this.state.pk_org0)}\r\n                            </NCCol></NCCol>\r\n\r\n                        </NCForm>\r\n\r\n                    ),\r\n                    noFooter:false\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nCard =  createPage({\r\n    //initTemplate: initTemplate.bind(this),\r\n})(Card);\r\n//export default Card\r\n//ReactDOM.render(<Card />, document.querySelector('#app'));\r\n\r\nexport default Card;\r\n","\r\n//@Author: lijun \r\nexport function handleLoad(refcode,code) {\r\n\tlet Item = window[refcode].default;\r\n\tlet that=this\r\n\tthis.setState({\r\n\t\t[code]: Item\r\n\t})\r\n\t// let Item = require(`${refcode}`).default;\r\n\t//  console.log(this.)\r\n\t//this.(, , , typeof Item === 'function' ? Item() : Item);\r\n}\r\n\r\n/* refcode */\r\nexport default function createScript (src,code) {\r\n\tvar that = this,\r\n\t\tscripts = Array.from(document.getElementsByTagName('script')),\r\n\t\ts = src.split('/'),\r\n\t\tflag,\r\n\t\trefKey;\r\n\trefKey = s.slice(s.length - 5).join('/');\r\n\trefKey = refKey.substring(0, refKey.length - 3);\r\n\tflag = scripts.find((e) => {\r\n\t\treturn e.src.includes(refKey);\r\n\t});\r\n\tif (window[refKey]) {\r\n\t\t// 已经加载过script标签\r\n\t\thandleLoad.call(that,refKey,code);\r\n\t} else {\r\n\t\tlet script;\r\n\t\tif (flag) {\r\n\t\t\tscript = flag;\r\n\t\t} else {\r\n\t\t\tscript = document.createElement('script');\r\n\t\t\tscript.src = '../../../../' + src;\r\n\t\t\tscript.type = 'text/javascript';\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t}\r\n\r\n\t\tscript.onload = script.onload || handleLoad.bind(that, refKey);\r\n\t}\r\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","//   pagecode:props.config.pageCode?props.config.pageCode:pagecode\r\n//  getMultiLang({moduleId: \"10140ADRB\",domainName: 'uapbd',callback})\r\n\r\n\r\nimport { toast} from 'nc-lightapp-front';\r\nexport default function(props){\r\n     return ( pageCfg = {} , langCfg = {}, callback ) => {\r\n\r\n         var count = 0;\r\n         var result = {};\r\n\r\n         var hander = () => {\r\n             if(count == 2){\r\n                 callback && callback(result.templateData || {} , result.langData || {},result.inlt||{});\r\n             }\r\n         }\r\n         if(langCfg.callback){\r\n             console.log('咱们自己createUIDom会同时获取多语和单据模板,并通过一个回调函数返回, langCfg中的回调函数将被忽略');\r\n         }\r\n\r\n         var newLangCfg = { ...langCfg, callback: (data, success,inlt) => {\r\n                    count = count + 1;\r\n                 if(!success){\r\n                     toast({content:'load muti lang error',color:'warning'});\r\n                 }\r\n                 result.langData = data || {};\r\n                 result.inlt = inlt || {};\r\n                 hander();\r\n         }};\r\n         props.MultiInit.getMultiLang(newLangCfg);\r\n\r\n         props.createUIDom(pageCfg, (data) => {\r\n             count = count + 1;\r\n             result.templateData = data || {};\r\n             hander();\r\n         });\r\n    };\r\n};"],"sourceRoot":""}