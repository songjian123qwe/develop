{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/./src/uapbd/orgcloseacc/closeaccbook/closecheck/index.js","webpack://[name]/./src/uapbd/orgcloseacc/closeaccbook/closecheck/report.js","webpack://[name]/external \"nc-report\"","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__151__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_react","_ncLightappFront","base","NCMessage","NCDropdown","NCMenu","NCCheckbox","NCPopconfirm","NCTree","NCIcon","NCTreeNode","Closecheck","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","onExpand","expandedKeys","setState","autoExpandParent","config","assign","treeId","rootName","checkconfig","json","accperiod","treeData","urls","isleaf","title","id","innercode","pid","refname","refpk","state","checkRes","itemvos","selectedKeys","comps","curComp","undefined","pk_checkitem","print","isReport","reportParam","initButtonVisib","Component","moduleid","button","setButtonsVisible","isCheck","onCheckClose","data","forEach","e","deleteDataChildrenProp","node","children","length","isLeaf","_this2","promptBox","color","content","beSureBtnClick","onPrintClose","onOutputClose","oneKeySign","_this3","ajax","url","success","res","isPass","getCheckItemTypeIds","selectTree","printPreVIew","output","checkItemTypeIds","setCheckItemTypeId","nodeData","itempk","flag","item","isCheckItem","_this4","_this5","_ref$refpk","arguments","getUrl","indexOf","funid","split","appCode","pagecode","pk_report","reportName","toast","moduleName","substring","script","document","createElement","src","type","onload","moduleClass","default","onerror","body","appendChild","_this6","userdefObj","period","selref_pk_accperiodmonth","pk_accountingbook","model1","rows","values","pk_checkaccbook","pk_org","exdata","selref_accperiodmonth_name","isShowOnclose","key_time_offset","pk_storedoc","closeAccOrgPks","appcode","LinkReport","JSON","stringify","logic","conditions","React","_report2","linkParam","panel","paramData","fthis","ref","curCompInstance","_this7","_props","asyncTree","syncTree","DragWidthCom","modal","search","createButtonApp","treedat","dealTreeData","_extends","leftDom","className","style","height","overflow","onSelect","onSelectTree","openIcon","field","fieldname","class","closeIcon","loop","map","icon","marginTop","marginRight","display","width","justifyContent","alignItems","borderRadius","fontSize","rightDom","createRightPanel","paddingBottom","area","onButtonClick","defLeftWid","_ncReport","ReportPage","searchId","ownReportParams","showSearchArea","SimpleReport","showAdvBtn","setDefaultVal"],"mappings":"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","file":"uapbd/orgcloseacc/closeaccbook/closecheck/index.29606a18.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"nc-report\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\", \"nc-report\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/orgcloseacc/closeaccbook/closecheck/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"nc-report\"));\n\telse\n\t\troot[\"uapbd/orgcloseacc/closeaccbook/closecheck/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"], root[\"nc-report\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__151__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 174);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","/**\r\n * 关账检查\r\n * @author\txuewenc\r\n */\r\nimport { Component } from 'react';\r\nimport { createPage, base, ajax, NCCreateSearch, toast, promptBox } from 'nc-lightapp-front';\r\nimport Report from './report.js';\r\n\r\nconst { NCMessage, NCDropdown, NCMenu, NCCheckbox, NCPopconfirm, NCTree, NCIcon } = base;\r\nconst NCTreeNode = NCTree.NCTreeNode;\r\n\r\nclass Closecheck extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.config = Object.assign(\r\n\t\t\t{\r\n\t\t\t\ttreeId: 'closeTree',\r\n\t\t\t\trootName: (props.config.checkconfig&&props.config.checkconfig.json['101006-000000'])?props.config.checkconfig.json['101006-000000']:'月结检查项类别',/* 国际化处理： 月结检查项类别*/\r\n\t\t\t\taccperiod: '', //会计期间\r\n\t\t\t\ttreeData: [],\r\n\t\t\t\turls: ''\r\n\t\t\t},\r\n\t\t\tprops.config.checkconfig\r\n\t\t);\r\n\r\n\t\t//自定义根节点\r\n\t\tthis.root = {\r\n\t\t\tisleaf: false,\r\n\t\t\tkey: '~',\r\n\t\t\ttitle: this.config.rootName,\r\n\t\t\tid: '~',\r\n\t\t\tinnercode: '~',\r\n\t\t\tpid: '',\r\n\t\t\trefname: this.config.rootName,\r\n\t\t\trefpk: '~'\r\n\t\t};\r\n\r\n\t\tthis.state = {\r\n\t\t\tautoExpandParent: true,\r\n\t\t\tcheckRes: {}, //检查结果\r\n\t\t\titemvos: {}, //检查项\r\n\t\t\texpandedKeys: [ '~' ], //指定展开的节点(controlled)\r\n\t\t\tselectedKeys: [ '~' ], //指定选中的节点keys(controlled)\r\n\t\t\tcomps: {},\r\n\t\t\tcurComp: undefined,\r\n\t\t\tpk_checkitem: '', //月结检查项主键\r\n\t\t\tprint : null,\r\n\t\t\tjson : (props.config.checkconfig&&props.config.checkconfig.json['101006-000000']) ? props.config.checkconfig.json : {},\r\n\t\t\tisReport : false,  //是否为自由报表\r\n\t\t\treportParam : {}   //功能节点id\r\n\t\t};\r\n\r\n\t\tthis.initButtonVisib();\r\n\t}\r\n\r\n\tinitButtonVisib(){\r\n\t\tlet moduleid = this.config['moduleid'];\r\n\t\tif(moduleid==='2011' || moduleid==='3607' || moduleid==='2006' || moduleid==='2008'){//2011费用管理、3607现金管理、2006应收管理、2008应付管理\r\n\t\t\tthis.props.button.setButtonsVisible(['Print','Output'], false);\r\n\t\t}else{\r\n\t\t\tthis.props.button.setButtonsVisible(['Print','Output'], true);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n     * react 生命周期函数 组件渲染完后触发事件\r\n     */\r\n\tcomponentDidMount() {\r\n\t\tif(this.config.isCheck){\r\n\t\t\tthis.onCheckClose();\r\n\t\t}\r\n\t}\r\n\r\n\tonExpand = (expandedKeys) => {\r\n\t\tthis.setState({\r\n\t\t\texpandedKeys,\r\n\t\t\tautoExpandParent: false\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n     * 处理树数据\r\n     * @param data\r\n     * @returns {*}\r\n     */\r\n\tdealTreeData(data) {\r\n\t\tlet deleteDataChildrenProp = function(node) {\r\n\t\t\tif (!node.children || node.children.length == 0) {\r\n\t\t\t\tdelete node.children;\r\n\t\t\t} else {\r\n\t\t\t\tnode.isLeaf = false;\r\n\t\t\t\tnode.children.forEach((e) => {\r\n\t\t\t\t\tdeleteDataChildrenProp(e);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\tdata.forEach((e) => {\r\n\t\t\tdeleteDataChildrenProp(e);\r\n\t\t});\r\n\t\treturn data;\r\n\t}\r\n\r\n\tonButtonClick(props,id){\r\n\t\tswitch (id) {\r\n\t\t\tcase 'Check'://关账检查\r\n\t\t\t\tpromptBox({\r\n\t\t\t\t\tcolor: 'info',                 // 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n\t\t\t\t\ttitle: this.state.json['101006-000001'],/* 国际化处理： 询问*/\r\n\t\t\t\t\tcontent: this.state.json['101006-000002'],/* 国际化处理： 关账检查需要的时间可能比较长，确认关账检查？*/\r\n\t\t\t\t\tbeSureBtnClick: ()=>{\r\n\t\t\t\t\t\tthis.onCheckClose();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Print'://关账打印\r\n\t\t\t\tthis.onPrintClose();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Output'://关账打印\r\n\t\t\t\tthis.onOutputClose();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'OneKeySign'://一键签字 库存专用\r\n\t\t\t\tthis.oneKeySign();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n                break;\r\n\t\t}\r\n\t}\r\n\r\n\t//关账检查\r\n\tonCheckClose() {\r\n\t\tajax({\r\n\t\t\turl: '/nccloud/uapbd/org/DoCheckCloseAccNCCAction.do',\r\n\t\t\tdata: this.config.data,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tlet { success, data } = res;\r\n\t\t\t\tif (success) {\r\n\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\tlet { isPass, itemvos, checkRes, pk_checkitem } = data;\r\n\t\t\t\t\t\tlet pkitems = [];\r\n\t\t\t\t\t\tthis.setState(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcheckRes: checkRes,\r\n\t\t\t\t\t\t\t\titemvos: itemvos,\r\n\t\t\t\t\t\t\t\texpandedKeys: this.getCheckItemTypeIds(this.config.treeData), //指定展开的节点(controlled)\r\n\t\t\t\t\t\t\t\tselectedKeys: [ pk_checkitem ], //指定选中的节点keys(controlled)\r\n\t\t\t\t\t\t\t\tautoExpandParent: true,\r\n\t\t\t\t\t\t\t\tpk_checkitem: pk_checkitem\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\tthis.selectTree({ refpk: pk_checkitem });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t//关账打印\r\n\tonPrintClose() {\r\n\t\tthis.state.print && this.state.print();\r\n\t}\r\n\r\n\t//关账预览\r\n\tonprintPreVIewClose() {\r\n\t\tthis.state.printPreVIew && this.state.printPreVIew();\r\n\t}\r\n\r\n\t//关账输出\r\n\tonOutputClose() {\r\n\t\tthis.state.output && this.state.output();\r\n\t}\r\n\r\n\t//一键签字 库存专用\r\n\toneKeySign(){\r\n\t\tthis.state.oneKeySign && this.state.oneKeySign();\r\n\t}\r\n\r\n\t//获取检查类别主键数组\r\n\tgetCheckItemTypeIds(data) {\r\n\t\tlet checkItemTypeIds = ['~'];\r\n\t\tlet setCheckItemTypeId = function(node) {\r\n\t\t\tif (node.nodeData && node.nodeData['iSchecktypevo']) {//检查类别\r\n\t\t\t\tcheckItemTypeIds[checkItemTypeIds.length] = node.refpk;\r\n\t\t\t}\r\n\t\t\tif (node.children && node.children.length>0) {\r\n\t\t\t\tnode.children.forEach((e) => {\r\n\t\t\t\t\tsetCheckItemTypeId(e);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\tdata.forEach((e) => {\r\n\t\t\tsetCheckItemTypeId(e);\r\n\t\t});\r\n\t\treturn checkItemTypeIds;\r\n\t}\r\n\r\n\t//判断是否为检查类别\r\n\tisCheckItem(treeData, itempk) {\r\n\t\tlet flag = false;\r\n\t\tfor (let i = 0; i < treeData.length; i++) {\r\n\t\t\tlet item = treeData[i];\r\n\t\t\tif (item['refpk'] === itempk && item.nodeData['iScheckitemvo']) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif (item.children) {\r\n\t\t\t\tflag = this.isCheckItem(item.children, itempk);\r\n\t\t\t\tif (flag) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn flag;\r\n\t}\r\n\r\n\tonSelectTree(key, e) {\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\tselectedKeys: key,\r\n\t\t\t\tpk_checkitem: key[0]\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\tthis.selectTree({ refpk: key[0] });\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n     * 点击树节点\r\n     * @param refpk\r\n     */\r\n\tselectTree({ refpk = '' } = {}) {\r\n\t\t//若不是检查项则不加载右侧检查界面\r\n\t\tlet treeData = this.config.treeData;\r\n\t\tif (treeData.length == 0 || !this.isCheckItem(treeData, refpk)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet url = this.getUrl(treeData, refpk); //获得选中节点\r\n\t\tif (!url) {\r\n\t\t\ttoast({ content: this.state.json['101006-000003'], color: 'danger' });/* 国际化处理： 未查询到此检查项对应的url，请检查是否填写！*/\r\n\t\t\t//url = '../../../../uapbd/orgcloseacc/closeaccbook/closecheck/nourlprompt';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(url.indexOf('report##')!=-1){//处理自由报表节点的检查项\r\n\t\t\tajax({\r\n\t\t\t\turl: '/nccloud/uapbd/org/QueryReportParambyFunid.do',\r\n\t\t\t\tdata: {funid : url.split('##')[1]},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tlet { success, data } = res;\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\t\tlet { appCode, pagecode, pk_report, flag, reportName } = data;\r\n\t\t\t\t\t\t\tif(flag==='1'){\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tisReport : true,\r\n\t\t\t\t\t\t\t\t\treportParam : data\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\ttoast({ content: this.state.json['101006-000048'], color: 'warning' });/* 国际化处理： 需将此报表发布为web应用后，才可查看与检查！*/\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tisReport : false,\r\n\t\t\t\t\t\t\t\t\treportParam : {}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else{//处理非报表功能节点的检查项\r\n\t\t\tif (url.indexOf('../../../../') != -1) {\r\n\t\t\t\turl = url + '.js';\r\n\t\t\t} else {\r\n\t\t\t\turl = '../../../../' + url + '.js'; //'../../../../gl/public/components/reckoningReport/index'+'.js';\r\n\t\t\t}\r\n\t\t\tlet moduleName = url.substring(12, url.length - 3);\r\n\t\t\tlet script = document.createElement('script');\r\n\t\t\tscript.src = url;\r\n\t\t\tscript.type = 'text/javascript';\r\n\t\t\tscript.onload = () => {\r\n\t\t\t\tlet moduleClass = window[moduleName];\r\n\t\t\t\tif (!moduleClass) {\r\n\t\t\t\t\ttoast({ content: 'load panel class error!', color: 'danger' });\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.state.comps[moduleName] = moduleClass.default;\r\n\t\t\t\tthis.state.curComp = moduleClass.default;\r\n\t\t\t\tthis.state.isReport = false;\r\n\t\t\t\tthis.setState(this.state);\r\n\t\t\t};\r\n\t\t\tscript.onerror = () => {\r\n\t\t\t\ttoast({ content: this.state.json['101006-000004'], color: 'danger' });/* 国际化处理： 检查界面js组件引入失败！*/\r\n\t\t\t};\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\t//获取检查项url || 报表节点的功能主键associpoint\r\n\tgetUrl(treeData, itempk) {\r\n\t\tlet url = null;\r\n\t\tfor (let i = 0; i < treeData.length; i++) {\r\n\t\t\tlet item = treeData[i];\r\n\t\t\tif (item['refpk'] === itempk && item.nodeData['iScheckitemvo']) {\r\n\t\t\t\t//若checkclass为空则为自由报表\r\n\t\t\t\tif(item.nodeData['checkitemvo']['checkclass']){\r\n\t\t\t\t\treturn item.nodeData['checkitemvo']['checkitem_url'];\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn 'report'+'##'+item.nodeData['checkitemvo']['associpoint'];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (item.children) {\r\n\t\t\t\turl = this.getUrl(item.children, itempk);\r\n\t\t\t\tif (url) {\r\n\t\t\t\t\treturn url;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn url;\r\n\t}\r\n\r\n\t//右侧区域dom\r\n\tcreateRightPanel() {\r\n\t\tif(this.state.isReport){\r\n\r\n\t\t\tlet userdefObj = {\r\n\t\t\t\tpk_checkitem: this.state.pk_checkitem,\r\n\t\t\t\tperiod: this.config.selref_pk_accperiodmonth,\r\n\t\t\t\tpk_accountingbook: this.config.data.model1.rows[0].values.pk_checkaccbook.value,\r\n\t\t\t\tpk_org: this.config.data.exdata['pk_org'],\r\n\t\t\t\tmoduleid: this.config.data.exdata['moduleid'], \r\n\t\t\t\tselref_pk_accperiodmonth: this.config.data.exdata['selref_pk_accperiodmonth'],\r\n\t\t\t\tselref_accperiodmonth_name: this.config.data.exdata['selref_accperiodmonth_name'],\r\n\t\t\t\tisShowOnclose: this.config.data.exdata['isShowOnclose'],\r\n\t\t\t\tkey_time_offset: this.config.data.exdata['key_time_offset'],\r\n\t\t\t\tdata: this.config.data\r\n\t\t\t};\r\n\r\n\t\t\tlet pk_financialOrg = this.config.data.exdata['pk_org'];\r\n\t\t\tlet pk_org = this.config.data.model1.rows[0].values['pk_org'].value;\r\n\t\t\tlet pk_storedoc = this.config.data.model1.rows[0].values['pk_storedoc'].value;\r\n\t\t\tlet closeAccOrgPks = pk_org;\r\n\t\t\tif(userdefObj['moduleid']==='STOREDOC'){\r\n\t\t\t\tuserdefObj['moduleid']='4008';\r\n\t\t\t}\r\n\t\t\tif(userdefObj['moduleid']==='2016'){\r\n\t\t\t\tcloseAccOrgPks = this.config.data.model1.rows[0].values['pk_checkaccbook'].value;\r\n\t\t\t}else if(userdefObj['moduleid']==='3824'){\r\n\t\t\t\tcloseAccOrgPks = this.config.data.model1.rows[0].values['pk_liabilitybook'].value;\r\n\t\t\t}else if(userdefObj['moduleid']==='2014'){\r\n\t\t\t\tcloseAccOrgPks = this.config.data.model1.rows[0].values['pk_checkaccbook'].value+\r\n\t\t\t\tthis.config.data.model1.rows[0].values['pk_costregion'].value;\r\n\t\t\t}\r\n\r\n\t\t\tif(userdefObj['moduleid']==='2016'){\r\n\t\t\t\tpk_org = closeAccOrgPks;\r\n\t\t\t}else if(userdefObj['moduleid']==='2014'){\r\n\t\t\t\tpk_org = closeAccOrgPks.substring(0,20);\r\n\t\t\t}\r\n\r\n\t\t\tswitch (userdefObj['moduleid']) {\r\n\t\t\t\tcase \"2002\": \r\n\t\t\t\tcase \"2016\": \r\n\t\t\t\t\tuserdefObj['pk_accountingbook'] = pk_org;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"2014\": \r\n\t\t\t\t\tuserdefObj['pk_costorg'] = pk_org;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"STOREDOC\": \r\n\t\t\t\tcase \"4008\":\r\n\t\t\t\t\tuserdefObj['pk_inventory'] = pk_org;\r\n\t\t\t\t\tuserdefObj['pk_store'] = pk_storedoc;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"3830\": \r\n\t\t\t\t\tuserdefObj['pk_product'] = pk_org;\r\n\t\t\t}\r\n\r\n\t\t\tlet config = {\r\n\t\t\t\tappcode: this.state.reportParam['appcode'],\r\n\t\t\t\tpagecode: this.state.reportParam['pagecode'],\r\n\t\t\t\tLinkReport: JSON.stringify({\"logic\":\"and\",\"conditions\":[]}),\r\n\t\t\t\treportName: this.state.reportParam['reportName'],\r\n\t\t\t\tuserdefObj: userdefObj\r\n\t\t\t};\r\n\t\t\treturn <Report {...config}/>;\r\n\t\t}else{\r\n\t\t\tvar linkParam = {};\r\n\t\r\n\t\t\tlet panel = this.state.curComp;\r\n\t\t\tlet paramData = {\r\n\t\t\t\tpk_checkitem: this.state.pk_checkitem,\r\n\t\t\t\tperiod: this.config.selref_pk_accperiodmonth,\r\n\t\t\t\tpk_accountingbook: this.config.data.model1.rows[0].values.pk_checkaccbook.value,\r\n\t\t\t\tdata: this.config.data,\r\n\t\t\t\tlinkParam: linkParam,\r\n\t\t\t\tfthis : this,\r\n\t\t\t\tref: (item) => {\r\n\t\t\t\t\tthis.curCompInstance = item;\r\n\t\t\t\t\tthis.linkParam = this.linkParam ? this.linkParam : linkParam;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn !panel ? '' : panel(paramData);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n     * 渲染\r\n     * @returns {*}\r\n     */\r\n\trender() {\r\n\t\t/**\r\n         *  经过createPage方法后，初始对象都放到了props中\r\n         *  例如 asyncTree,syncTree,form,table……\r\n         *  我们用的话直接从props里取就可以了\r\n         * */\r\n\t\tconst { asyncTree, syncTree, button, modal, search, DragWidthCom } = this.props;\r\n\t\t//DragWidthCom 平台出的左右布局的组件  专用于树卡和树表\r\n\t\t//const {createSyncTree} = syncTree;//创建同步树 需要引入这个\r\n\t\tlet { createButtonApp } = button;\r\n\r\n\t\tlet treedat = this.dealTreeData([ Object.assign({ ...this.root }, { children: this.config.treeData }) ]);\r\n\t\tconst loop = (data) => \r\n\t\t\tdata.map((item) => {\r\n\t\t\t\tconst name = item.refname;\r\n\t\t\t\tlet icon = '';\r\n\t\t\t\tif (item.nodeData && item.nodeData['iSchecktypevo']) {\r\n\t\t\t\t\t//检查类别\r\n\t\t\t\t\ticon = <NCIcon type=\"uf-4square-3\" />;\r\n\t\t\t\t} else if (item.nodeData && item.nodeData['iScheckitemvo']) {\r\n\t\t\t\t\t//检查项\r\n\t\t\t\t\tlet flag = this.state.checkRes[item.refpk];\r\n\t\t\t\t\ticon = flag ? (\r\n\t\t\t\t\t\t//<NCIcon type=\"uf-pass\" /> √\r\n\t\t\t\t\t\t<span style={{marginTop: 3,marginRight: 6}}>\r\n\t\t\t\t\t\t\t<div style={{display: 'flex',height: 15,width: 15,justifyContent: 'center',alignItems: 'center',overflow: 'hidden',borderRadius: 15}}>\r\n\t\t\t\t\t\t\t\t<i style={{color: '#69AC4E',fontSize: 24,marginTop: 5}} className=\"uf uf-pass-3\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t) : flag != undefined && flag != null && flag === false ? (\r\n\t\t\t\t\t\titem.nodeData['checkitemvo']['checkstrategy']=='1' ?\r\n\t\t\t\t\t\t //<NCIcon type=\"uf-close-c\" /> x\r\n\t\t\t\t\t\t <span style={{marginRight: 6}}><i style={{color: '#F35118',fontSize: 17}} className=\"uf uf-close-c\"/></span>\r\n\t\t\t\t\t\t :\r\n\t\t\t\t\t\t //<NCIcon type=\"uf-exc-c-2\" /> !\r\n\t\t\t\t\t\t <span style={{marginRight: 6}}><i style={{color: '#F35118',fontSize: 20}} className=\"uf uf-exc-c-2\"/></span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//模块\r\n\t\t\t\t\ticon = <NCIcon type=\"uf-folder-o\" />\r\n\t\t\t\t}\r\n\t\t\t\tconst title = (\r\n\t\t\t\t\t<span style={{display: 'flex'}}>\r\n\t\t\t\t\t\t{icon}\r\n\t\t\t\t\t\t<span>{name}</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t\tif (item.children) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<NCTreeNode key={item.refpk} title={title}>\r\n\t\t\t\t\t\t\t{loop(item.children)}\r\n\t\t\t\t\t\t</NCTreeNode>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn <NCTreeNode key={item.refpk} title={title} isLeaf={item.isLeaf} />;\r\n\t\t\t});\r\n\r\n\t\tlet leftDom = (\r\n\t\t\t<div className=\"tree-area\">\r\n\t\t\t\t{/* {createSyncTree({\r\n\t\t\t\t\t\ttreeId: this.config.treeId,\r\n\t\t\t\t\t\tneedSearch: false,\r\n\t\t\t\t\t\tneedEdit: false,\r\n\t\t\t\t\t\tonSelectEve: this.onSelectTree.bind(this),\r\n\t\t\t\t\t\tshowModal:false\r\n\t\t\t\t\t})} */}\r\n\t\t\t\t<div style={{height: 380,overflow: 'auto'}}>\r\n\t\t\t\t\t<NCTree\r\n\t\t\t\t\t\tselectedKeys={this.state.selectedKeys} //指定选中的节点keys(controlled)\r\n\t\t\t\t\t\tonExpand={this.onExpand.bind(this)}\r\n\t\t\t\t\t\texpandedKeys={this.state.expandedKeys}\r\n\t\t\t\t\t\tautoExpandParent={this.state.autoExpandParent}\r\n\t\t\t\t\t\tonSelect={this.onSelectTree.bind(this)}\r\n\t\t\t\t\t\topenIcon= {<i field=\"tree-switcher\" fieldname={this.state.json['101006-000005']} class=\"icon iconfont icon-shu_zk tree-swich\"></i>}/* 国际化处理： 树开关*/\r\n\t\t\t\t\t\tcloseIcon= {<i field=\"tree-switcher\" fieldname={this.state.json['101006-000005']} class=\"icon iconfont icon-shushouqi tree-swich\"></i>}/* 国际化处理： 树开关*/\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{loop(treedat)}\r\n\t\t\t\t\t</NCTree>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\tlet rightDom = <div className=\"card-area\" style={this.state.isReport?{}:{overflow:'hidden'}}>{this.createRightPanel()}</div>;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{/* 头部 header*/}\r\n\t\t\t\t<div className=\"header\" style={{height:35,paddingBottom:10,marginTop:-8}}>\r\n\t\t\t\t\t<span className=\"showOff\">{this.state.json['101006-000006'] /* 国际化处理： 会计期间*/}：{this.config.accperiod}</span>\r\n\t\t\t\t\t{/* 按钮组 btn-group*/}\r\n\t\t\t\t\t<div className=\"btn-group\">\r\n                        {createButtonApp({\r\n                            area: \"check-area\",\r\n                            onButtonClick: this.onButtonClick.bind(this)\r\n                        })}\r\n                    </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* 树卡区域 */}\r\n\t\t\t\t<div className=\"tree-card\" style={{height: 420}}>\r\n\t\t\t\t\t<DragWidthCom\r\n\t\t\t\t\t\tleftDom={leftDom} //左侧区域dom\r\n\t\t\t\t\t\trightDom={rightDom} //右侧区域dom\r\n\t\t\t\t\t\tdefLeftWid=\"20%\" // 默认左侧区域宽度，px/百分百\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n/**\r\n * 创建页面\r\n */\r\nexport default Closecheck;\r\n","/**\r\n * 关账检查\r\n * @author\txuewenc\r\n */\r\nimport { Component } from 'react';\r\nimport { createPage, base, ajax, NCCreateSearch, toast, promptBox } from 'nc-lightapp-front';\r\nimport { SimpleReport } from 'nc-report';\r\n\r\nconst { NCMessage, NCDropdown, NCMenu, NCCheckbox, NCPopconfirm, NCTree, NCIcon } = base;\r\n\r\nclass ReportPage extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcheckRes: {}, //检查结果\r\n\t\t\titemvos: {}, //检查项\r\n\t\t\t//json : (props.config.checkconfig&&props.config.checkconfig.json['101006-000000']) ? props.config.checkconfig.json : {}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n     * react 生命周期函数 组件渲染完后触发事件\r\n     */\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t}\r\n\r\n    /**\r\n      * searchId: 查询区需要的searchId参数\r\n      * 'vname': 需要附默认值的字段\r\n      * {value: '111'}: 显示值，区间为[]，具体可以对照平台查询区修改\r\n      * 'like': 为oprtype字段值\r\n    */\r\n    setDefaultVal(searchId, props) {\r\n        //查询区默认显示字段值\r\n        //props.search.setSearchValByField(searchId, 'vname', { value: '111' }, 'like');\r\n    }\r\n\r\n    render() {\r\n        \r\n\t\tlet ownReportParams = {\r\n\t\t\tappcode: this.props['appcode'],\r\n\t\t\tpagecode: this.props['pagecode'],\r\n\t\t\tLinkReport: this.props['LinkReport'],\r\n            userdefObj: this.props['userdefObj'],\r\n            reportName : this.props['reportName'],\r\n            showSearchArea : '2'\r\n\t\t};\r\n\r\n        return (\r\n            <div className=\"table\">\r\n                <SimpleReport\r\n\t\t\t\t\townReportParams={ownReportParams}\r\n                    showAdvBtn={true}\r\n                    setDefaultVal={this.setDefaultVal.bind(this)}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 创建页面\r\n */\r\nexport default ReportPage;","module.exports = __WEBPACK_EXTERNAL_MODULE__151__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;"],"sourceRoot":""}