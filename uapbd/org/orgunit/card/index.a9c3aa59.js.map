{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/./src/uapbd/public/uapbdstyle/uapbd_style_common.less?0b4f","webpack://[name]/./src/uapbd/public/utils/BDCreateUIDom.js","webpack://[name]/./src/uapbd/public/uapbdstyle/uapbd_style_common.less","webpack://[name]/./src/uapbd/org/orgunit/version/index.js","webpack://[name]/./src/uapbd/refer/pubinfo/AccPeriodTreeGridRef/index.js","webpack://[name]/./src/uapbd/refer/pubinfo/AccPeriodSchemeDefaultTreeRef/index.js","webpack://[name]/./src/uapbd/org/orgunit/card/events/clickEvents/oprButtonClick.js","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://[name]/./src/uapbd/org/orgunit/card/index.js","webpack://[name]/./src/uapbd/org/orgunit/card/events/index.js","webpack://[name]/./src/uapbd/org/orgunit/card/events/lifeCycle/initTemplate.js","webpack://[name]/./src/uapbd/org/orgunit/card/events/clickEvents/buttonClick.js","webpack://[name]/./src/uapbd/org/orgunit/card/events/clickEvents/pageInfoClick.js","webpack://[name]/./src/uapbd/org/orgunit/card/index.less?be00","webpack://[name]/./src/uapbd/org/orgunit/card/index.less","webpack://[name]/./src/uapbd/org/orgunit/card/card.less?75b0","webpack://[name]/./src/uapbd/org/orgunit/card/card.less","webpack://[name]/./node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js","webpack://[name]/./node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js","webpack://[name]/./node_modules/_style-loader@0.18.2@style-loader/lib/urls.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","content","options","transform","locals","props","pageCfg","arguments","length","undefined","langCfg","callback","count","result","hander","templateData","langData","inlt","console","log","newLangCfg","data","success","_ncLightappFront","toast","color","MultiInit","getMultiLang","createUIDom","push","_react","NCAffix","base","NCScrollElement","NCAnchor","NCCol","NCScrollLink","NCSwitch","NCCheckbox","NCCollapse","NCMessage","headareaname","Orgunitversion","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","config","lang","json","state","createState","queryRoot","meta","setMeta","setState","browseCard","pk_vid","_BDCreateUIDom2","default","pagecode","datasource","appcode","gridId","domainName","template","getUrlParam","onbeforeunload","editMode","Component","me","commonCardName","document","querySelector","arename","isshow","form","getFormItemsValue","orgtypeitem","setFormStatus","areaname","status","authorize","authorizeareacode","forEach","renderCardFramework","title","switchCfg","button","createForm","checked","React","createElement","style","display","className","marginBottom","in","renderCardForm","showMode","orgunit_name","card","corp","type","orderby","pk","hrorg","financeorg","fundorg","purchaseorg","saleorg","authorizetitle","class","stockorg","trafficorg","qccenter","assetorg","maintainorg","liabilitycenter","itemorg","planbudget","adminorg","plancenter","values","v","org","corp_v","org_v_form","hrorg_v","financeorg_v","fundorg_v","purchaseorg_v","salesorg_v","stockorg_v","trafficorg_v","qccenter_v","assetorg_v","maintainorg_v","liabilitycenter_v","itemorg_v_v","planbudget_v","adminorg_v","factory_v","plancenter_v","pk_org","_this2","loadCardData","orgData","codeDatapro","fillCardData","setAllFormStatus","setTimeout","cfg","ajax","url","res","areacode","setAllFormValue","allcomps","map","comp","_this3","_props","cardTable","modal","table","editTable","syncTree","DragWidthCom","treeTableManyCol","createCardTable","createModal","createSimpleTable","createSyncTree","treeTableCol","createEditTable","id","expandArr","createPage","conf","multiLang","currentLocale","refType","refName","refCode","placeholder","queryTreeUrl","rootNode","refname","refpk","queryGridUrl","columnConfig","code","isMultiSelectedEnabled","unitProps","unitConf","isShowUnit","isHasDisabledData","Refer","_extends","_index","high","getDefData","orgtype","orgtypearr","obj","subGrid","pk_orgtype","buttonname","indexOf","substring","enable","promptBox","noFooter","beSureBtnClick","setFormItemsValue","enablestate","toggleShow","cardCache","setDefData","setButtonVisible","_events","NCBackBtn","NCUploader","PrintOutput","childstate","Orgunitcard","_initialiseProps","showUploader","deleteorgtype","originalorgtypefloor","showlogoUploader","pks","buttonshow","showSubGrid","title_code","orgtypefloor","increaseorgtype","onRefresh","showOffChange","urlstatus","orgmanagerstatus","getStatus","orgmoduleperiodstatus","innercustsuppstatus","getFormStatus","orgvatfunclet","nb","that","async","JSON","parse","stringify","josn","initTemplate","initData","btnopr","getdata","setFormItemsDisabled","pk_accperiodscheme","pk_currtype","dealrelationformstatus","corproot","haveroot","pk_fatherorg","setFormItemsRequired","pk_financeorg","adminroot","EmptyAllFormValue","isCodeEdit","newCode","getMeta","items","find","item","attrcode","pk_corp","pk_exratescheme","_this4","flooradjust","neworgtype","stocktrafficrelation","getAllFormValue","stockqccenterrelation","stockorgrelation","formdata","stockassetrelation","maintainstockrelation","itemstockrelation","assetorgmaintainrelation","saleorgrelation","childstatchange","toggleButtonShow","default2","default1","meta1","pk_financeorg1","required","disabled","orgtype2","orgtype4","orgtype5","pk_financeorg2","orgtype6","orgtype7","target","orgtype8","isretail","orgtype9","orgtype10","orgtype11","orgtype12","orgtype14","orgtype15","default3","orgtype16","orgtype17","orgtype29","orgtype33","orgtype34","_props$button$setButt","_props$button$setButt2","_props$button$setButt3","enablebtnname","disablebtnname","setButtonsVisible","_defineProperty","index","record","moudleidnum","moduleid","e","itemtype","refcode","renderItem","moudleid","queryCondition","changedrows","_this5","countrycode","setValByKeyAndIndex","filterEmptyRows","tableData","getChangedRows","setStatus","orgManageButtonState","pageid","model","areaType","pageinfo","rows","setTableData","orgmanager","getAllData","changetableData","_this6","isCheckNow","countryzone","pk_unitorg","custname","custshortname","pk_custclass","pk_supplierclass","close","rownum","getNumberOfRows","flag","orgmoduleperiod","selectedData","getCheckedRows","addRow","VATbuttonToggleShow","setButtonDisabled","setMainButton","indexArr1","val","deleteTableRowsByIndex","hasCloseBtn","indexArr","cancelEdit","onSaveOrgVAT","_this7","changedRows","checkRequired","_this8","num","onSaveOrgManager","cuserid","username","psncode","psnname","hideIcon","delIcon","editIcon","addIcon","isChange","datas","createNewData","orgdept","initTreeTableData","emptyAllData","error","message","billId","fullPath","file","fileList","isJPG","isLt2M","size","oldValue","pageTitle","appid","subGrid1","subGrid2","subGrid3","subGrid4","subGrid5","subGrid6","subGrid61","subGrid7","subGrid71","subGrid72","subGrid73","subGrid74","subGrid8","subGrid9","subGrid10","subGrid101","subGrid11","subGrid111","subGrid12","subGrid13","subGrid131","subGrid14","subGrid15","subGrid16","subGrid17","show","_react2","_version2","userControl","setUrlParam","rqUrl","rqCode","haveadminrootorgunit","havecorprootorgunit","orgroot","haverootorgunit","_this10","cardPagination","createCardPagination","getButtons","createButtonApp","onClick","buttonClick","formId","area","onButtonClick","handlePageInfoChange","pageInfo","urlPkname","dataSource","to","spy","smooth","duration","offset","subName","onBeforeEvent","beforeEvent","onAfterEvent","afterEvent","marginLeft","onChange","buttonLimit","oprButtonClick","popContainer","onRowDoubleClick","showIndex","onSaveVersion","onSaveFinanceVersion","_this9","height","marginTop","position","onOrgManageButtonClick","onTableModelAfterEdit","onSelected","showCheck","cancelBtnClick","right","top","onOrgPeirodButtonClick","onPeriodBeforeEvent","onSaveOrgPeriod","setVisibleByForm","afterInnercustEvent","onSaveOrgInnercust","_this11","onOrgVATButtonClick","onVATTableModelAfterEdit","onSelectedAll","leftDom","treeId","showLine","onSelectEve","defaultExpandAll","onMouseEnterEve","onMouseEnterSortTreeEve","showModal","rightDom","defLeftWid","placement","multiple","onHide","onHideUploader","beforeUpload","onSetUnitOrgRoot","onSetAdminOrgRoot","onSetCorpRoot","ref","funcode","nodekey","oids","outputType","afterEvent1","_this12","pk_fatherorgcorp","pk_fatherorghrorg","pk_fatherorgsaleorg","pk_fatherorgliability","pk_fatherorgadminorg","TreeRefActionExt","AppCode","istaxorg","keyplancenter","isfinancecorp","issettlecenter","pk_areacl","reportconfirm","paytaxcates","authorizedtaxcates","carddata","needquerydata","formvalue","keys","objPagecode","nba","innercode","name2","name3","shortname","shortname2","shortname3","corpfaterorg","formvalue1","corpfaterorg1","modalid","disable","mutiLangCode","pageInfoClick","reqData","urls","rqJson","pagecodeValues","isShowUsual","unitCondition","isMutiGroup","corpcontactinfo","corpaudioinfo","corpotherinfo","corpdefinfo","pk_defdoclist","hrorgauditinfo","hrorgdef","financeorgaudioinfo","financeorgdef","businessInfo","getBusinessInfo","pkGroup","groupId","pk_group","fundorgdef","fundorgauditinfo","purchaseorgdef","purchaseorgauditinfo","saleorgdef","saleorgaudit","stockorgaudit","stockorgdef","trafficorgauditinfo","trafficorgdef","qccenterauditinfo","qccenterdef","assetorgauditinfo","assetorgdef","maintainorgauditinfo","maintainorgdef","liabilitycenterauditinfo","liabilitycenterdef","itemorgauditinfo","itemorgdefinfo","planbudgetauditinfo","planbudgetdef","adminorgauditinfo","adminorgdef","factoryauditinfo","factorydefitem","plancenterdefiitem","plancenterauditinfo","org_v","org_v_head","GridRefActionExt","label","width","visible","render","text","timedata","pk_accperiod","NCDatePicker","setValByKeyAndRowId","rowid","_index2","innercustsupp","setRelationItemBillinfo","billtype","templetid","headcode","setButtons","setroot","buttonToggleShow","NCMenu","Item","queryTemp","mergerequest","pk_orgarr","pushTo","listpagecode","nodetype","nodeType","cancel","filter","warm","pk_controlarea","formidarr","deletemdata","a","b","delobj","formdataarr","validateToSave","formidarrs","deletemdata1","originalorgtypefloor1","formdatas","nextpk_org","getNextCardPaginationId","setCardPaginationId","dealdefaultdata","setAllTableData","versionvos","versionvno","vname","setItemsVisible","exists","existscontent","setSyncTreeData","setNodeSelected","alert","print","pks1","refs","printOutput","open","onlyupdatets","ts","enablecarddata","queryorgunitUrl","enb","useSourceMap","list","toString","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","toComment","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","stylesInDom","isOldIE","fn","memo","apply","memoize","all","atob","getElement","selector","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","j","parts","addStyle","listToStyles","newStyles","part","css","media","insertStyleElement","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","attrs","addAttrs","el","setAttribute","update","remove","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","replaceText","textStore","replacement","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test"],"mappings":"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","file":"uapbd/org/orgunit/card/index.a9c3aa59.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/org/orgunit/card/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse\n\t\troot[\"uapbd/org/orgunit/card/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 372);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./uapbd_style_common.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./uapbd_style_common.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./uapbd_style_common.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","//   pagecode:props.config.pageCode?props.config.pageCode:pagecode\r\n//  getMultiLang({moduleId: \"10140ADRB\",domainName: 'uapbd',callback})\r\n\r\n\r\nimport { toast} from 'nc-lightapp-front';\r\nexport default function(props){\r\n     return ( pageCfg = {} , langCfg = {}, callback ) => {\r\n\r\n         var count = 0;\r\n         var result = {};\r\n\r\n         var hander = () => {\r\n             if(count == 2){\r\n                 callback && callback(result.templateData || {} , result.langData || {},result.inlt||{});\r\n             }\r\n         }\r\n         if(langCfg.callback){\r\n             console.log('咱们自己createUIDom会同时获取多语和单据模板,并通过一个回调函数返回, langCfg中的回调函数将被忽略');\r\n         }\r\n\r\n         var newLangCfg = { ...langCfg, callback: (data, success,inlt) => {\r\n                    count = count + 1;\r\n                 if(!success){\r\n                     toast({content:'load muti lang error',color:'warning'});\r\n                 }\r\n                 result.langData = data || {};\r\n                 result.inlt = inlt || {};\r\n                 hander();\r\n         }};\r\n         props.MultiInit.getMultiLang(newLangCfg);\r\n\r\n         props.createUIDom(pageCfg, (data) => {\r\n             count = count + 1;\r\n             result.templateData = data || {};\r\n             hander();\r\n         });\r\n    };\r\n};","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\n  padding: 0;\\n  margin: 0;\\n}\\n/*定位容器*/\\n.uapbd_style_center_container {\\n  position: relative;\\n  /*容器 子元素 未定义距离*/\\n  /*容器 子元素 距离右边 20px*/\\n  /*容器 use 子元素 距离右边 20px*/\\n}\\n.uapbd_style_center_container .uapbd_style_center_undefined {\\n  position: absolute;\\n}\\n.uapbd_style_center_container .uapbd_style_center_right20 {\\n  position: absolute;\\n  top: 0;\\n  right: 20px;\\n  bottom: 0;\\n}\\n.uapbd_style_center_container .uapbd_style_center_left20 {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 20px;\\n}\\n/*出现 滚动条的容器*/\\n.uapbd_style_scroll_container {\\n  overflow: auto;\\n}\\n/*定义滚动条轨道*/\\n.uapbd_style_scroll_container::-webkit-scrollbar-track {\\n  border-radius: 8px;\\n  background-color: white;\\n}\\n/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\\n.uapbd_style_scroll_container::-webkit-scrollbar {\\n  width: 8px;\\n}\\n/*定义滑块 内阴影+圆角*/\\n.uapbd_style_scroll_container::-webkit-scrollbar-thumb {\\n  border-radius: 8px;\\n  width: 8px;\\n  background-color: #d8d8d8;\\n}\\n.transfer_tree_container {\\n  clear: both;\\n  height: 90%;\\n  width: 100%;\\n  margin-top: 10px;\\n}\\n.transfer_tree_container .left-area {\\n  height: 100%;\\n  display: inline-block;\\n  vertical-align: top;\\n  width: calc(50% - 91px);\\n  overflow: auto;\\n}\\n.transfer_tree_container .button-area {\\n  height: 100%;\\n  width: 50px;\\n  display: inline-block;\\n  vertical-align: middle;\\n  padding-top: 30px;\\n  text-align: center;\\n}\\n.transfer_tree_container .button-area .opr-botton {\\n  padding-top: 25px;\\n  display: block;\\n  margin: 0 auto;\\n}\\n.transfer_tree_container .right-area {\\n  height: 100%;\\n  display: inline-block;\\n  vertical-align: top;\\n  width: calc(50% - 91px);\\n  overflow: auto;\\n}\\n.transfer_tree_container .transferSwitcherClassSelfNameHidden i {\\n  visibility: hidden;\\n}\\n.transfer_tree_container .left-area-tree .u-tree,\\n.transfer_tree_container .right-area-tree .u-tree {\\n  height: 360px;\\n  overflow: auto;\\n}\\n.transfer_tree_container .left-area-nei,\\n.transfer_tree_container .right-area-nei {\\n  height: 100%;\\n  border-radius: 3px;\\n  border: 1px solid #d0d0d0;\\n  background: #ffffff;\\n}\\n.transfer_tree_container .opr-botton-trans button {\\n  min-width: auto;\\n  width: 32px;\\n  height: 32px;\\n  padding: 0;\\n}\\n/*\\n * 这个是左树的 控制搜索框 宽度的。\\n */\\n.NC_syncTreeSearch_self_width {\\n  width: 240px!important;\\n}\\n.NC_syncTreeSearch_self_width .u-form-control-wrapper {\\n  width: 240px!important;\\n}\\n/*\\n * 这个是左树中加虚线样式。\\n */\\n.syncTreeComLineStyle .synctree-area .u-tree > li:only-child > ul:before {\\n  border-left: none;\\n}\\n.syncTreeComLineStyle .synctree-area .u-tree > li > ul:last-child::before {\\n  border-left: none;\\n}\\n.syncTreeComLineStyle .synctree-area .u-tree-child-tree-open > li::after {\\n  position: absolute;\\n  left: 8px;\\n  top: -15px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 1px;\\n  height: 28px;\\n  border-left: 1px dashed #d0d0d0;\\n}\\n.syncTreeComLineStyle .synctree-area .node-item .u-tree-switcher {\\n  position: relative;\\n  z-index: 2;\\n}\\n.syncTreeComLineStyle .synctree-area li::after {\\n  border: none;\\n}\\n.syncTreeComLineStyle .synctree-area li {\\n  position: relative;\\n}\\n.syncTreeComLineStyle .synctree-area li .u-tree-switcher {\\n  position: relative;\\n}\\n.syncTreeComLineStyle .synctree-area li .u-tree-switcher::before {\\n  position: absolute;\\n  left: 11px;\\n  top: 8px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 10px;\\n  border-top: 1px dashed #d0d0d0;\\n}\\n.syncTreeComLineStyle .synctree-area li .isLeaf_hiden_point_line > i::before {\\n  visibility: hidden;\\n}\\n/*\\n * 穿梭树 线样式修改\\n */\\n.syncTreeComTransferLineStyle .synctree-area .u-tree > li:only-child > ul:before {\\n  border-left: none;\\n}\\n.syncTreeComTransferLineStyle .synctree-area .u-tree > li > ul:last-child::before {\\n  border-left: none;\\n}\\n.syncTreeComTransferLineStyle .synctree-area .u-tree-child-tree-open > li::after {\\n  position: absolute;\\n  left: 8px;\\n  top: -15px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 1px;\\n  height: 28px;\\n  border-left: 1px dashed #d0d0d0;\\n}\\n.syncTreeComTransferLineStyle .synctree-area .node-item .u-tree-switcher {\\n  position: relative;\\n  z-index: 2;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li::after {\\n  border: none;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li {\\n  position: relative;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_show_point_line::before {\\n  position: absolute;\\n  left: 11px;\\n  top: 8px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 10px;\\n  border-top: 1px dashed #d0d0d0;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_hiden_point_line::before {\\n  position: absolute;\\n  left: 11px;\\n  top: 8px;\\n  content: \\\"\\\";\\n  display: inline-block;\\n  width: 10px;\\n  border-top: 1px dashed #d0d0d0;\\n}\\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_hiden_point_line > i::before {\\n  visibility: hidden;\\n}\\n.node-item-edit-point-style-self > a {\\n  background-color: #ebedf2;\\n}\\n.node-item-edit-point-style-self > a span {\\n  color: #e14c46!important;\\n}\\n.table-slef-set-long span {\\n  margin-right: 0px!important;\\n}\\n\", \"\"]);\n\n// exports\n","import { Component } from 'react';\r\nimport { createPage, ajax, base, toast ,cacheTools,high} from 'nc-lightapp-front';\r\nconst { NCAffix,NCAnchor,NCScrollElement,NCScrollLink,NCCol,NCCheckbox,NCSwitch,NCMessage,NCCollapse} = base;\r\n\r\nimport createUIDom from '../../../public/utils/BDCreateUIDom';\r\n\r\nconst queryorgtypeUrl = '/nccloud/uapbd/org/queryallorgtype.do';        //查询所有组织类型\r\nconst queryorgunitversionUrl = '/nccloud/uapbd/org/queryorgunitversionUrl.do';  \r\nconst queryorgunitUrl = '/nccloud/uapbd/org/queryorgtype.do';         //查询组织类型vo\r\n\r\n\r\nvar headareaname = 'org'\r\nclass Orgunitversion extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.config = props.config ;\r\n        if(this.config && this.config['templatedata'] != undefined){\r\n            this.lang = props.config.json;\r\n            this.state = this.createState();\r\n            headareaname = 'org_v_form';\r\n            this.state.json = this.config.json;\r\n            this.queryRoot(this.config['templatedata'],props);\r\n            props.meta.setMeta(this.config['templatedata'],()=>{\r\n                this.setState(this.state, () => {\r\n                    this.browseCard(this.config.pk_vid);\r\n                });\r\n            });\r\n        }else{\r\n            var config1 = {\r\n                pagecode:'10100ORG_orgunit',\r\n                datasource : 'uapbd.org.orgunit.orgunit',\r\n                appcode:'10100ORG',\r\n                gridId:'orglist',\r\n            };\r\n            createUIDom(props)(config1,{moduleId: \"10100ORG\",domainName: 'uapbd' }, (data, lang)=> {\r\n                headareaname = 'org';\r\n                this.lang = lang;\r\n                this.state = this.createState();\r\n                this.state.json = lang;\r\n                this.queryRoot(data,props);\r\n                this.setState(this.state,()=>{\r\n                    props.meta.setMeta(data && data.template ? data.template:{},()=>{\r\n                        this.browseCard(this.props.getUrlParam('pk_org') || undefined);\r\n                    })\r\n                })\r\n            });\r\n        }\r\n\r\n        window.onbeforeunload = () => {\r\n            if(this.state.editMode == 'edit')\r\n                return;\r\n            else\r\n                return;\r\n        };\r\n    }\r\n    createState(){\r\n        var me = this,\r\n            props = this.props,\r\n            popContainer = document.querySelector('.childline-button-area'),\r\n            commonCardName = (arename) =>{\r\n                return 'subname-' + arename || 'null';\r\n            },\r\n            isshow = function(){\r\n                if(props.form.getFormItemsValue(headareaname,this.orgtypeitem) != null){\r\n                    return props.form.getFormItemsValue(headareaname,this.orgtypeitem).value == null ? false : props.form.getFormItemsValue(headareaname,this.orgtypeitem).value;\r\n                }else{\r\n                    return false;\r\n                }\r\n            },\r\n            setFormStatus = function(){\r\n                props.form.setFormStatus(this.areaname,me.state.status == false ? 'edit': 'browse')\r\n                if(this.authorize != undefined){\r\n                    this.authorize.authorizeareacode.forEach(areaname =>{\r\n                        props.form.setFormStatus(areaname,me.state.status == false ? 'edit': 'browse')\r\n                    });\r\n                }\r\n            },\r\n            renderCardFramework = function(){\r\n                 var comp = this,\r\n                        {areaname,title,orgtypeitem}   = comp;\r\n                    var {form,button}     = props;\r\n                    var {createForm}      = form;\r\n                    var switchCfg = {\r\n                        checked :(props.form.getFormItemsValue(headareaname,orgtypeitem) == null || props.form.getFormItemsValue(headareaname,orgtypeitem).value == null) ? false : props.form.getFormItemsValue(headareaname,orgtypeitem).value,\r\n                    };\r\n                    return (\r\n                        <div name={commonCardName(areaname)} style={{display: comp.isshow() ? '' : 'none'}}>\r\n                            <NCScrollElement name={areaname}>\r\n                                <div className=\"nc-bill-table-area nc-bill-table-list nc-bill-part\">\r\n                                    <NCCol>\r\n                                        <span className=\"showOff\">\r\n                                            {title}\r\n                                            <NCSwitch {...switchCfg}/>\r\n                                        </span>\r\n                                    </NCCol>\r\n                                    <NCCollapse className='nc-bill-btn-par' style={{marginBottom:'5px'}} in={switchCfg.checked}>\r\n                                        <div>\r\n                                            {comp.renderCardForm()}\r\n                                        </div>\r\n                                    </NCCollapse>\r\n                                </div>\r\n                            </NCScrollElement>\r\n                        </div>\r\n                    );\r\n                   \r\n            },\r\n            renderCardForm = function(){\r\n                var comp = this,\r\n                       {areaname,title,orgtypeitem, isshow}   = comp;\r\n                   var {form,button}     = props;\r\n                   var {createForm}      = form;\r\n                   return createForm(areaname);      \r\n            };\r\n        var state = {  //添加当前选中组织到State\r\n            showMode: 'card',\r\n            json:{},//多语字符串\r\n            orgunit_name:'',//当前操作数据的名称\r\n            status:true,//页面状态\r\n        };\r\n        var card = {\r\n            corp:{\r\n                areaname: 'version' != this.props.config.type ? 'corp': 'corp_v',\r\n                orderby: 1,\r\n                pk:'pk_corp',\r\n                orgtypeitem:'orgtype2',\r\n                title: this.lang['10100ORG-000064']\r\n            },\r\n            hrorg:{\r\n                areaname: 'version' != this.props.config.type ? 'hrorg':'hrorg_v',\r\n                orderby: 2,\r\n                title: this.lang['10100ORG-000065'],\r\n                orgtypeitem:'orgtype4',\r\n                pk:'pk_hrorg',\r\n            },\r\n            financeorg:{\r\n                areaname: 'version' != this.props.config.type ? 'financeorg':'financeorg_v',\r\n                orderby: 3,\r\n                title: this.lang['10100ORG-000066'],\r\n                orgtypeitem:'orgtype5',\r\n                pk:'pk_financeorg', \r\n            },\r\n            fundorg:{\r\n                areaname: 'version' != this.props.config.type ? 'fundorg' : 'fundorg_v',\r\n                orderby: 4,\r\n                orgtypeitem:'orgtype6',\r\n                pk:'pk_fundorg',\r\n                title: this.lang['10100ORG-000067'],\r\n            },\r\n            purchaseorg:{\r\n                areaname: 'version' != this.props.config.type ? 'purchaseorg' : 'purchaseorg_v',\r\n                orderby: 5,\r\n                orgtypeitem:'orgtype7',\r\n                pk:'pk_purchaseorg',\r\n                title: this.lang['10100ORG-000068'],\r\n            },\r\n            saleorg:{\r\n                areaname: 'version' != this.props.config.type ? 'saleorg' : 'saleorg_v',\r\n                orderby: 6,\r\n                orgtypeitem:'orgtype8',\r\n                pk:'pk_salesorg',\r\n                title: this.lang['10100ORG-000069'],\r\n                authorize:{\r\n                    authorizetitle:this.lang['10100ORG-000070'],\r\n                    authorizeareacode:'version' != this.props.config.type ? ['saleorgrelation'] : ['saleorgrelation_v'],\r\n                },\r\n                renderCardFramework : function(){\r\n                    var comp = this,\r\n                        {areaname,title,orgtypeitem,authorize}   = comp;\r\n                    var {form,button}     = props;\r\n                    var {createForm}      = form;\r\n                    var switchCfg = {\r\n                        checked :(props.form.getFormItemsValue(headareaname,orgtypeitem) == null || props.form.getFormItemsValue(headareaname,orgtypeitem).value == null) ? false : props.form.getFormItemsValue(headareaname,orgtypeitem).value,\r\n                    };\r\n                    return (\r\n                        <div name={commonCardName(areaname)} style={{display: comp.isshow() ? '' : 'none'}}>\r\n                            <NCScrollElement name={areaname}>\r\n                                <div className=\"nc-bill-table-area nc-bill-table-list nc-bill-part\">\r\n                                    <NCCol>\r\n                                        <span className=\"showOff\">\r\n                                            {title}\r\n                                            <NCSwitch {...switchCfg}/>\r\n                                        </span>\r\n                                    </NCCol>\r\n                                    <NCCollapse className='nc-bill-btn-par' style={{marginBottom:'5px'}} in={switchCfg.checked}>\r\n                                        <div>\r\n                                            {comp.renderCardForm()}\r\n                                            <div class=\"operator operator-tit\">\r\n                                                {authorize.authorizetitle/* 国际化处理： 销售业务委托关系*/}\r\n                                                <span class=\"wuliu\"></span>\r\n                                            </div>\r\n                                            {createForm(authorize.authorizeareacode[0])}\r\n                                        </div>\r\n                                    </NCCollapse>\r\n                                </div>\r\n                            </NCScrollElement>\r\n                        </div>\r\n                    );\r\n                },\r\n            },\r\n            stockorg:{     \r\n                areaname: 'version' != this.props.config.type ? 'stockorg' : 'stockorg_v',\r\n                orderby: 7,\r\n                orgtypeitem:'orgtype9',\r\n                pk:'pk_stockorg',\r\n                title: this.lang['10100ORG-000071'],\r\n                authorize:{\r\n                    authorizetitle:[this.lang['10100ORG-000072'],[this.lang['10100ORG-000073']],[this.lang['10100ORG-000074']],[this.lang['10100ORG-000075']]],\r\n                    authorizeareacode:'version' != this.props.config.type ? ['stocktrafficrelation','stockqccenterrelation','stockorgrelation','stockassetrelation'] : ['stocktrafficrelation_v','stockqccenterrelation_v','stockorgrelation_v','stockassetrelation_v'],\r\n                },\r\n                renderCardFramework : function(){\r\n                    var comp = this,\r\n                        {areaname,title,orgtypeitem,authorize}   = comp;\r\n                    var {form,button}     = props;\r\n                    var {createForm}      = form;\r\n                    var switchCfg = {\r\n                        checked :(props.form.getFormItemsValue(headareaname,orgtypeitem) == null || props.form.getFormItemsValue(headareaname,orgtypeitem).value == null) ? false : props.form.getFormItemsValue(headareaname,orgtypeitem).value,\r\n                    };\r\n                    return (\r\n                        <div name={commonCardName(areaname)} style={{display: comp.isshow() ? '' : 'none'}}>\r\n                            <NCScrollElement name={areaname}>\r\n                                <div className=\"nc-bill-table-area nc-bill-table-list nc-bill-part\">\r\n                                    <NCCol>\r\n                                        <span className=\"showOff\">\r\n                                            {title}\r\n                                            <NCSwitch {...switchCfg}/>\r\n                                        </span>\r\n                                    </NCCol>\r\n                                    <NCCollapse className='nc-bill-btn-par' style={{marginBottom:'5px'}} in={switchCfg.checked}>\r\n                                        <div>\r\n                                            {comp.renderCardForm()}\r\n                                            <div class=\"operator operator-tit\">\r\n                                                {authorize.authorizetitle[0]/* 国际化处理： 物流业务委托关系*/}\r\n                                                <span class=\"wuliu\"></span>\r\n                                            </div>\r\n                                            {createForm(authorize.authorizeareacode[0])}\r\n                                            <div class=\"operator operator-tit\">\r\n                                                {authorize.authorizetitle[1]/* 国际化处理： 质检业务委托关系*/}\r\n                                                <span className='wuliu'></span>\r\n                                            </div>\r\n                                            {createForm(authorize.authorizeareacode[1])}\r\n                                            <div class=\"operator operator-tit\">\r\n                                                {authorize.authorizetitle[2]/* 国际化处理： 采购业务委托关系*/}\r\n                                                <span className='wuliu'></span>\r\n                                            </div>\r\n                                            {createForm(authorize.authorizeareacode[2])}\r\n                                            <div class=\"operator operator-tit\">\r\n                                                {authorize.authorizetitle[3]/* 国际化处理： 资产库存业务委托关系*/}\r\n                                                <span className='wuliu'></span>\r\n                                            </div>\r\n                                            {createForm(authorize.authorizeareacode[3])}\r\n                                        </div>\r\n                                    </NCCollapse>\r\n                                </div>\r\n                            </NCScrollElement>\r\n                        </div>\r\n                    );\r\n                },\r\n            },\r\n            trafficorg:{\r\n                areaname: 'version' != this.props.config.type ? 'trafficorg' : 'trafficorg_v',\r\n                orderby: 8,\r\n                title: this.lang['10100ORG-000076'],\r\n                orgtypeitem:'orgtype10',\r\n                pk:'pk_trafficorg',\r\n            },\r\n            qccenter:{\r\n                areaname: 'version' != this.props.config.type ? 'qccenter' : 'qccenter_v',\r\n                orderby: 9,\r\n                title: this.lang['10100ORG-000077'],\r\n                orgtypeitem:'orgtype11',\r\n                pk:'pk_qccenter',\r\n            },\r\n            assetorg:{\r\n                areaname: 'version' != this.props.config.type ? 'assetorg' : 'assetorg_v',\r\n                orderby: 10,\r\n                orgtypeitem:'orgtype12',\r\n                pk:'pk_assetorg',\r\n                title: this.lang['10100ORG-000078'],\r\n                authorize:{\r\n                    authorizetitle:this.lang['10100ORG-000079'],\r\n                    authorizeareacode:'version' != this.props.config.type ? ['assetorgmaintainrelation'] : ['assetorgmaintainrelation_v'],\r\n                },\r\n                renderCardFramework : function(){\r\n                    var comp = this,\r\n                        {areaname,title,orgtypeitem,authorize}   = comp;\r\n                    var {form,button}     = props;\r\n                    var {createForm}      = form;\r\n                    var switchCfg = {\r\n                        checked :(props.form.getFormItemsValue(headareaname,orgtypeitem) == null || props.form.getFormItemsValue(headareaname,orgtypeitem).value == null) ? false : props.form.getFormItemsValue(headareaname,orgtypeitem).value,\r\n                    };\r\n                    return (\r\n                        <div name={commonCardName(areaname)} style={{display: comp.isshow() ? '' : 'none'}}>\r\n                            <NCScrollElement name={areaname}>\r\n                                <div className=\"nc-bill-table-area nc-bill-table-list nc-bill-part\">\r\n                                    <NCCol>\r\n                                        <span className=\"showOff\">\r\n                                            {title}\r\n                                            <NCSwitch {...switchCfg}/>\r\n                                        </span>\r\n                                    </NCCol>\r\n                                    <NCCollapse className='nc-bill-btn-par' style={{marginBottom:'5px'}} in={switchCfg.checked}>\r\n                                        <div>\r\n                                            {comp.renderCardForm()}\r\n                                            <div class=\"operator operator-tit\">\r\n                                                {authorize.authorizetitle/* 国际化处理： 资产维修业务委托关系*/}\r\n                                                <span class=\"wuliu\"></span>\r\n                                            </div>\r\n                                            {createForm(authorize.authorizeareacode[0])}\r\n                                        </div>\r\n                                    </NCCollapse>\r\n                                </div>\r\n                            </NCScrollElement>\r\n                        </div>\r\n                    );\r\n                },\r\n            },\r\n            maintainorg:{\r\n                areaname: 'version' != this.props.config.type ? 'maintainorg' : 'maintainorg_v',\r\n                orderby: 11,\r\n                orgtypeitem:'orgtype14',\r\n                pk:'pk_maintainorg',\r\n                title: this.lang['10100ORG-000080'],\r\n                authorize:{\r\n                    authorizetitle:this.lang['10100ORG-000081'],\r\n                    authorizeareacode:'version' != this.props.config.type ? ['maintainstockrelation'] : ['maintainstockrelation_v'],\r\n                },\r\n                renderCardFramework : function(){\r\n                    var comp = this,\r\n                        {areaname,title,orgtypeitem,authorize}   = comp;\r\n                    var {form,button}     = props;\r\n                    var {createForm}      = form;\r\n                    var switchCfg = {\r\n                        checked :(props.form.getFormItemsValue(headareaname,orgtypeitem) == null || props.form.getFormItemsValue(headareaname,orgtypeitem).value == null) ? false : props.form.getFormItemsValue(headareaname,orgtypeitem).value,\r\n                    };\r\n                    return (\r\n                        <div name={commonCardName(areaname)} style={{display: comp.isshow() ? '' : 'none'}}>\r\n                            <NCScrollElement name={areaname}>\r\n                                <div className=\"nc-bill-table-area nc-bill-table-list nc-bill-part\">\r\n                                    <NCCol>\r\n                                        <span className=\"showOff\">\r\n                                            {title}\r\n                                            <NCSwitch {...switchCfg}/>\r\n                                        </span>\r\n                                    </NCCol>\r\n                                    <NCCollapse className='nc-bill-btn-par' style={{marginBottom:'5px'}} in={switchCfg.checked}>\r\n                                        <div>\r\n                                            {comp.renderCardForm()}\r\n                                            <div class=\"operator operator-tit\">\r\n                                                {authorize.authorizetitle/* 国际化处理： 维修库存业务委托关系*/}\r\n                                                <span class=\"wuliu\"></span>\r\n                                            </div>\r\n                                            {createForm(authorize.authorizeareacode[0])}\r\n                                        </div>\r\n                                    </NCCollapse>\r\n                                </div>\r\n                            </NCScrollElement>\r\n                        </div>\r\n                    );\r\n                },\r\n            },\r\n            liabilitycenter:{\r\n                areaname: 'version' != this.props.config.type ? 'liabilitycenter' : 'liabilitycenter_v',\r\n                orderby: 12,\r\n                title: this.lang['10100ORG-000003'],\r\n                orgtypeitem:'orgtype15',\r\n                pk:'pk_liabilitycenter',\r\n            },\r\n            itemorg:{\r\n                areaname: 'version' != this.props.config.type ? 'itemorg':'itemorg_v',\r\n                orderby: 13,\r\n                orgtypeitem:'orgtype16',\r\n                pk:'pk_itemorg',\r\n                title: this.lang['10100ORG-000082'],\r\n                authorize:{\r\n                    authorizetitle:this.lang['10100ORG-000083'],\r\n                    authorizeareacode:'version' != this.props.config.type ? ['itemstockrelation'] : ['itemstockrelation_v'],\r\n                },\r\n                renderCardFramework : function(){\r\n                    var comp = this,\r\n                        {areaname,title,orgtypeitem,authorize}   = comp;\r\n                    var {form,button}     = props;\r\n                    var {createForm}      = form;\r\n                    var switchCfg = {\r\n                        checked :(props.form.getFormItemsValue(headareaname,orgtypeitem) == null || props.form.getFormItemsValue(headareaname,orgtypeitem).value == null) ? false : props.form.getFormItemsValue(headareaname,orgtypeitem).value,\r\n                    };\r\n                    return (\r\n                        <div name={commonCardName(areaname)} style={{display: comp.isshow() ? '' : 'none'}}>\r\n                            <NCScrollElement name={areaname}>\r\n                                <div className=\"nc-bill-table-area nc-bill-table-list nc-bill-part\">\r\n                                    <NCCol>\r\n                                        <span className=\"showOff\">\r\n                                            {title}\r\n                                            <NCSwitch {...switchCfg}/>\r\n                                        </span>\r\n                                    </NCCol>\r\n                                    <NCCollapse className='nc-bill-btn-par' style={{marginBottom:'5px'}} in={switchCfg.checked}>\r\n                                        <div>\r\n                                            {comp.renderCardForm()}\r\n                                            <div class=\"operator operator-tit\">\r\n                                                {authorize.authorizetitle/* 国际化处理： 项目库存业务委托关系*/}\r\n                                                <span class=\"wuliu\"></span>\r\n                                            </div>\r\n                                            {createForm(authorize.authorizeareacode[0])}\r\n                                        </div>\r\n                                    </NCCollapse>\r\n                                </div>\r\n                            </NCScrollElement>\r\n                        </div>\r\n                    );\r\n                },\r\n            },\r\n            planbudget:{\r\n                areaname: 'version' != this.props.config.type ? 'planbudget' : 'planbudget_v',\r\n                orderby: 14,\r\n                title: this.lang['10100ORG-000084'],\r\n                orgtypeitem:'orgtype17',\r\n                pk:'pk_planbudget',\r\n            },\r\n            adminorg:{\r\n                areaname: 'version' != this.props.config.type ? 'adminorg' : 'adminorg_v',\r\n                orderby: 15,\r\n                title: this.lang['10100ORG-000085'],\r\n                orgtypeitem:'orgtype29',\r\n                pk:'pk_adminorg',\r\n            },\r\n            factory:{\r\n                areaname: 'version' != this.props.config.type ? 'factory' : 'factory_v',\r\n                orderby: 16,\r\n                title: this.lang['10100ORG-000086'],\r\n                orgtypeitem:'orgtype33',\r\n                pk:'pk_factory',\r\n            },\r\n            plancenter:{\r\n                areaname: 'version' != this.props.config.type ? 'plancenter' : 'plancenter_v',\r\n                orderby: 17,\r\n                title: this.lang['10100ORG-000087'],\r\n                orgtypeitem:'orgtype34',\r\n                pk:'pk_plancenter',\r\n            }\r\n        };\r\n        Object.values(card).forEach(v => {\r\n            !v.setFormStatus && (v.setFormStatus = setFormStatus);\r\n            !v.isshow && (v.isshow = isshow);\r\n            !v.renderCardFramework  && (v.renderCardFramework = renderCardFramework);\r\n            !v.renderCardForm && (v.renderCardForm = renderCardForm);\r\n        });\r\n        state.card = card;\r\n        return state;\r\n    }\r\n\r\n    queryRoot(data,props){\r\n        if(!data['formrelation']){\r\n            data['formrelation'] = {};\r\n        }\r\n        //设置模板之间的关联关系\r\n        //组合原NC也去的单据模板关联关系\r\n        data['formrelation'].corp=['corpotherinfo','corpcontactinfo','corpdefinfo','corpaudioinfo'];//'corpaudioinfo'\r\n        data['formrelation'].org=['orgtype','orgversioninfo','orgauditinfo'];//'corpaudioinfo','orgauditinfo'\r\n        data['formrelation'].hrorg=['hrorgdef','hrorgauditinfo'];//'hrorgauditinfo'\r\n        data['formrelation'].financeorg=['financeorgdef','financeorgaudioinfo'];//'financeorgaudioinfo'\r\n        data['formrelation'].fundorg=['fundorgdef','fundorgauditinfo'];//,'fundorgauditinfo'\r\n        data['formrelation'].purchaseorg=['purchaseorgdef','purchaseorgauditinfo'];//,'purchaseorgauditinfo'\r\n        data['formrelation'].saleorg=['saleorgdef','saleorgaudit'];//'saleorgdef','saleorgaudit',\r\n        data['formrelation'].stockorg=['stockorgdef','stockorgaudit'];//'stockorgaudit','stockorgdef'\r\n        data['formrelation'].trafficorg=['trafficorgdef','trafficorgauditinfo'];//'trafficorgauditinfo',\r\n        data['formrelation'].qccenter=['qccenterdef','qccenterauditinfo'];//'qccenterauditinfo',\r\n        data['formrelation'].assetorg=['assetorgdef','assetorgauditinfo'];//'assetorgauditinfo','assetorgdef'\r\n        data['formrelation'].maintainorg=['maintainorgdef','maintainorgauditinfo'];//'maintainorgauditinfo','maintainorgdef'\r\n        data['formrelation'].liabilitycenter=['liabilitycenterdef','liabilitycenterauditinfo'];//'liabilitycenterauditinfo',\r\n        data['formrelation'].itemorg=['itemorgdefinfo','itemorgauditinfo'];//'itemorgauditinfo','itemorgdefinfo'\r\n        data['formrelation'].planbudget=['planbudgetdef','planbudgetauditinfo'];//'planbudgetauditinfo',\r\n        data['formrelation'].adminorg=['adminorgdef','adminorgauditinfo'];//'adminorgauditinfo',\r\n        data['formrelation'].factory=['factorydefitem','factoryauditinfo'];//'factoryauditinfo',\r\n        data['formrelation'].plancenter=['plancenterdefiitem','plancenterauditinfo'];//,'plancenterauditinfo'\r\n        //版本模板关系\r\n        data['formrelation'].corp_v=['corpversionotherinfo','corpversionlinkinfo'];//'corpaudioinfo'\r\n        data['formrelation'].org_v_form=['orgtype_v','orgunitversioninfo'];//'corpaudioinfo'\r\n        data['formrelation'].org_v_form=['orgtype_v','orgunitversioninfo'];//'corpaudioinfo'\r\n        data['formrelation'].hrorg_v=['hrorgdef'];//'hrorgauditinfo'\r\n        data['formrelation'].financeorg_v=['financeorgdef'];//'financeorgaudioinfo'\r\n        data['formrelation'].fundorg_v=['fundorgdef'];//,'fundorgauditinfo'\r\n        data['formrelation'].purchaseorg_v=['purchaseorgdef'];//,'purchaseorgauditinfo'\r\n        data['formrelation'].salesorg_v=['saleorgrelation_v'];//'saleorgdef','saleorgaudit',\r\n        data['formrelation'].stockorg_v=['stocktrafficrelation_v','stockqccenterrelation_v','stockorgrelation_v','stockassetrelation_v'];//'stockorgaudit','stockorgdef'\r\n        data['formrelation'].trafficorg_v=['trafficorgdef'];//'trafficorgauditinfo',\r\n        data['formrelation'].qccenter_v=['qccenterdef'];//'qccenterauditinfo',\r\n        data['formrelation'].assetorg_v=['assetorgmaintainrelation_v'];//'assetorgauditinfo','assetorgdef'\r\n        data['formrelation'].maintainorg_v=['maintainstockrelation_v'];//'maintainorgauditinfo','maintainorgdef'\r\n        data['formrelation'].liabilitycenter_v=['liabilitycenterdef'];//'liabilitycenterauditinfo',\r\n        data['formrelation'].itemorg_v_v=['itemstockrelation_v'];//'itemorgauditinfo','itemorgdefinfo'\r\n        data['formrelation'].planbudget_v=['planbudgetdef'];//'planbudgetauditinfo',\r\n        data['formrelation'].adminorg_v=['adminorgdef'];//'adminorgauditinfo',\r\n        data['formrelation'].factory_v=['factorydefitem'];//'factoryauditinfo',\r\n        data['formrelation'].plancenter_v=['plancenterdefiitem'];//,'plancenterauditinfo'\r\n    }\r\n\r\n    browseCard(pk_org ,callback){\r\n        this.state.showMode = 'card';\r\n        this.state.status = true;\r\n        this.setState(this.state,()=>{\r\n            this.loadCardData({\r\n                pk_org:pk_org,\r\n                callback:(orgData, codeDatapro) =>{\r\n                    this.fillCardData(orgData, (data) =>{\r\n                        //设置页面form状态\r\n                        this.setAllFormStatus(data);\r\n                        //设置卡片翻页的当前主键\r\n                        setTimeout(() => {\r\n                            callback && callback(data);\r\n                        }, 0);\r\n                    })\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    loadCardData(cfg){\r\n        var {pk_org, callback} = cfg; //loadtype: add/copy/load\r\n        var orgData;\r\n        pk_org && ajax({\r\n            url: 'version' != this.props.config.type ? '/nccloud/uapbd/org/queryorgtype.do':'/nccloud/uapbd/org/queryorgunitversionUrl.do',\r\n            data:{\r\n                pk_org: pk_org || undefined,\r\n                type: this.props.config.type || 'normal'\r\n            },\r\n            success: (res) => {\r\n                orgData = res.data || undefined;\r\n                callback && callback(orgData);\r\n            }\r\n        }); \r\n    }\r\n\r\n    fillCardData(orgData,callback){\r\n        var data = {};\r\n        orgData && orgData.forEach( d =>{\r\n            var values = Object.values(d);\r\n            values.forEach(v =>{\r\n                if(v && v.areacode){\r\n                    data[v.areacode] = v;\r\n                }\r\n            });\r\n        });\r\n        this.props.form.setAllFormValue(data);\r\n        this.setState(this.state,() =>{\r\n            callback && callback(data);\r\n        });\r\n    }\r\n\r\n    //批量设置页面所有form状态\r\n    setAllFormStatus(data){\r\n        var status = this.state.status == false ? 'edit': 'browse';\r\n        var allcomps = Object.values(this.state.card);\r\n        //设置表头form状态\r\n        this.props.form.setFormStatus('org',status);\r\n        allcomps.map( comp =>{\r\n            comp.setFormStatus();\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if(!this.lang)return '';\r\n        let { cardTable, form, button, modal,table,editTable ,DragWidthCom,syncTree,treeTableManyCol} = this.props;\r\n        let { createForm } = form;\r\n        let { createCardTable } = cardTable;\r\n        let { createModal } = modal;\r\n        let { createSimpleTable } = table;\r\n        let {createSyncTree} = syncTree;\r\n        let { treeTableCol } = treeTableManyCol;\r\n        const { createEditTable } = editTable;\r\n\r\n        var renderMainCard = () =>{\r\n            // var renderScrollLink = () => {\r\n            //     var allcomps = Object.values(this.state.card);\r\n            //     var showComps = allcomps.filter( comp => comp.isshow());\r\n            //     return allcomps.map( comp =>{\r\n            //         var cfg = {\r\n            //             spy:true,\r\n            //             smooth:true,\r\n            //             duration:300,\r\n            //             offset:-100,\r\n            //             to: comp.areaname || 'less name'\r\n            //         };\r\n            //         return  <NCScrollLink {...cfg}><p>{comp.title || 'less title' }</p></NCScrollLink>\r\n            //     });\r\n            // };\r\n            return ( \r\n                <div>\r\n                    <NCAffix>\r\n                        <div className='nc-bill-header-area'>\r\n                            <div className=\"header-title-search-area\">\r\n                                <h2 className='title-search-detail'>{this.lang['10100ORG-000098']}</h2>\r\n                            </div>\r\n                            <div className=\"header-button-area\">\r\n                            </div>\r\n                        </div>\r\n                    </NCAffix>\r\n                    {/*<NCAnchor>renderScrollLink()</NCAnchor>*/}\r\n                    <NCScrollElement style={{marginBottom:'5px'}} name={headareaname}>\r\n                        <div className=\"nc-bill-form-area\">\r\n                            {createForm(headareaname, {\r\n                                expandArr:['orgtype_v']\r\n                            })}\r\n                        </div>\r\n                    </NCScrollElement>\r\n                </div>  \r\n            );\r\n        };\r\n        var renderSubCard = () =>{\r\n            var cardcfgs = Object.values(this.state.card);\r\n            return cardcfgs.map( cfg => cfg.renderCardFramework());        \r\n        };\r\n        var renderCard = () =>{\r\n            return (\r\n                <div  id='nc-bill-card'>\r\n                    <div className=\"nc-bill-card orgunit-card\">\r\n                        {renderMainCard()}\r\n                        {renderSubCard()}\r\n                    </div>\r\n                </div>\r\n            );\r\n        };\r\n        return (\r\n            <div>\r\n                {renderCard()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default  Orgunitversion = createPage({\r\n\r\n})(Orgunitversion);\r\n\r\n\r\n","import { high } from 'nc-lightapp-front';\nimport {conf as unitConf} from \"../../pubinfo/AccPeriodSchemeDefaultTreeRef/index\";\nconst { Refer } = high;\n\nexport default function (props = {}) {\n\tvar conf = {\n\t\t\t\tmultiLang: {\n\t\t\tdomainName: 'uapbd',\n\t\t\tcurrentLocale: 'zh-CN',\n\t\t\tmoduleId: 'refer_uapbd',\n\t\t},\n\n\t\trefType: 'gridTree',\n\t\trefName: 'refer-000078',/* 国际化处理： 会计期间*/\n\t\trefCode: 'uapbd.pubinfo.AccperiodTreeGridRef',\n\t\tplaceholder: 'refer-000435',/* 国际化处理： 会计期间档案2*/\n\t\tqueryTreeUrl: '/nccloud/uapbd/ref/AccperiodDefaultTreeRef.do',\n\t\trootNode: { refname: 'refer-000080', refpk: 'root' },/* 国际化处理： 会计年度*/\n\t\tqueryGridUrl: '/nccloud/uapbd/ref/AccperiodGridRef.do',\n\t\tcolumnConfig: [\n\t\t\t{\n\t\t\t\tname: [ 'refer-000430', 'refer-000431','refer-000432' ],/* 国际化处理： 月份,开始期间,结束期间*/\n\t\t\t\tcode: [ 'refname', 'begindate','enddate' ]\n\t\t\t}\n\t\t],\n\t\tisMultiSelectedEnabled: false,\n\t\tunitProps: unitConf,\n\t\tisShowUnit:false,\n\t\tisHasDisabledData:false\n\t};\n\n\treturn <Refer {...conf} {...props} />\n}\n","import { high } from 'nc-lightapp-front';\n\nconst { Refer } = high;\n\nexport var conf = {\n\tmultiLang: {\n\t\tdomainName: 'uapbd',\n\t\tcurrentLocale: 'zh-CN',\n\t\tmoduleId: 'refer_uapbd',\n\t},\n\n\trefType: 'grid',\n\trefName: 'refer-000434',/* 国际化处理： 会计期间方案*/\n\tplaceholder: 'refer-000434',/* 国际化处理： 会计期间方案*/\n\trefCode: 'uapbd.refer.pubinfo.AccPeriodSchemeDefaultTreeRef',\n\tqueryGridUrl: '/nccloud/uapbd/pub/AccPeriodSchemeDefaultTreeRef.do',\n\tcolumnConfig: [\n\t\t{\n\t\t\tname: ['refer-000002', 'refer-000003'],/* 国际化处理： 编码,名称*/\n\t\t\tcode: ['refcode', 'refname']\n\t\t}\n\t],\n\tisMultiSelectedEnabled: false,\n\tisHasDisabledData: false\n};\nexport default function (props = {}) {\n\treturn <Refer {...conf} {...props} />\n}\n","import {ajax, base, toast,cardCache,promptBox } from 'nc-lightapp-front';\r\nlet {setDefData, getDefData } = cardCache;\r\nexport default  function(gridId,props,id){\r\n\r\n    let _this = this;\r\n    var pk_org = props.getUrlParam('pk_org')\r\n    if(undefined == pk_org){\r\n        pk_org = getDefData('orgunit_pk_org', _this.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n    }\r\n    var status = props.getUrlParam('status')\r\n    \r\n    if(undefined == pk_org ){\r\n        toast({content : _this.state.json['10100ORG-000000'],color : 'warning'});/* 国际化处理： 请先选择组织！*/\r\n    }\r\n    var orgtype = \"\";\r\n\r\n    //用于获取选中的职能类型主键\r\n    _this.config.orgtypearr.map((obj)=>{\r\n        if(obj.subGrid === gridId){\r\n            orgtype = obj.pk_orgtype;\r\n        }\r\n    })\r\n    let buttonname = '' ;\r\n    //以前是一个停启用控制所有职能，现在由于需要根据各个职能去单独控制职能显示停用或者启用，所以各个职能模块的停启用按钮名字都加了只能前缀，\r\n    //由于不想修改后台方法，所以截取各个职能最后enable和disable控制\r\n    if(id.indexOf(\"enable\") != -1){\r\n        buttonname = id.substring(0,id.indexOf(\"enable\"));\r\n        id = 'enable';\r\n    }else{\r\n        buttonname = id.substring(0,id.indexOf(\"disable\"));\r\n        id = 'disable';\r\n    }\r\n    //判断按钮可以用行，如果已经启用就不能再启用\r\n    let enable = props.form.getFormItemsValue(gridId,'enablestate');\r\n    switch (id) {\r\n        // 表格操作按钮\r\n        case 'enable':\r\n            if(enable.value == 2){\r\n                toast({content : _this.state.json['10100ORG-000031'],color : 'warning'});/* 国际化处理： 该职能已经启用！*/\r\n                break;\r\n            }\r\n            promptBox({\r\n                color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                title: _this.state.json['10100ORG-000001'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                content: _this.state.json['10100ORG-000032'],/* 国际化处理： 您确定要启用所选数据吗？*/\r\n                beSureBtnClick: () =>{\r\n                    ajax({\r\n                        url:'/nccloud/uapbd/org/orgtypeenbale.do',\r\n                        data:{pk_org:pk_org,orgtype:orgtype,enable:'2'},\r\n                        success:(res)=>{\r\n                            let {success,data} = res;\r\n                            if(success){\r\n                                _this.config.orgtypearr.map((obj)=>{\r\n                                    props.form.setFormStatus(obj.subGrid,'browse');\r\n                                })\r\n                                toast({ color: 'success', title: _this.state.json['10100ORG-000018'] });/* 国际化处理： 启用成功！*/\r\n                                props.form.setFormItemsValue(gridId,{'enablestate':{value:'2',display:_this.state.json['10100ORG-000017']}});/* 国际化处理： 已启用*/\r\n                                //起用成功之后，需要更新按钮状态\r\n                                toggleShow(props,'2',buttonname);\r\n                            };\r\n                        }\r\n                    });\r\n                }   \r\n            })\r\n\r\n            break;\r\n        case 'disable':\r\n            if(enable == 2){\r\n                toast({content : _this.state.json['10100ORG-000033'],color : 'warning'});/* 国际化处理： 该职能已经停用！*/\r\n                break;\r\n            }\r\n            promptBox({\r\n                color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                title: _this.state.json['10100ORG-000001'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                content: _this.state.json['10100ORG-000034'],/* 国际化处理： 您确定要停用所选数据吗？*/\r\n                beSureBtnClick: () =>{\r\n                    ajax({\r\n                        url:'/nccloud/uapbd/org/orgtypeenbale.do',\r\n                        //data:formdata,\r\n                        data:{pk_org:pk_org,orgtype:orgtype,enable:'3'},\r\n                        success:(res)=>{\r\n                            let {success,data} = res;\r\n                            if(success){\r\n                                _this.config.orgtypearr.map((obj)=>{\r\n                                    props.form.setFormStatus(obj.subGrid,'browse');\r\n                                })\r\n                                toast({ color: 'success', title: _this.state.json['10100ORG-000014'] });/* 国际化处理： 停用成功！*/\r\n                                //停用成功之后，需要把界面上停启用改变\r\n                                props.form.setFormItemsValue(gridId,{'enablestate':{value:'3',display:_this.state.json['10100ORG-000013']}});/* 国际化处理： 已停用*/\r\n                                //停用成功之后，需要更新按钮状态\r\n                                toggleShow(props,'3',buttonname);\r\n                            };\r\n                        }\r\n                    });\r\n                }   \r\n            })\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\n//切换页面状态--设置按钮显示和业务状态\r\nfunction  toggleShow (props,enablestate,buttonname){\r\n    if(enablestate ==='2'){//启用状态\r\n        props.button.setButtonVisible([buttonname + 'disable'],true);\r\n        props.button.setButtonVisible([buttonname + 'enable'],false);\r\n    }else{\r\n        props.button.setButtonVisible([buttonname + 'disable'],false);\r\n        props.button.setButtonVisible([buttonname + 'enable'],true);\r\n    }\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import React, { Component } from 'react';\r\nimport { createPage, ajax, base, toast ,cardCache,high,promptBox} from 'nc-lightapp-front';\r\nimport createUIDom from '../../../public/utils/BDCreateUIDom';\r\nconst { NCAffix,NCAnchor,NCScrollElement,NCScrollLink,NCCol,NCCheckbox,NCSwitch,NCCollapse,NCBackBtn} = base;\r\nimport {initTemplate,buttonClick,pageInfoClick,oprButtonClick} from './events'\r\nlet {setDefData, getDefData } = cardCache;\r\nimport './index.less'\r\nimport '../../../public/uapbdstyle/uapbd_style_common.less'\r\n\r\nconst queryCardUrl = '/nccloud/uapbd/org/queryorgcard.do';  //卡片查询url\r\nconst saveUrl = '/nccloud/uapbd/customer/saveCustomer.do';             //新增保存\r\nconst updateUrl = '/nccloud/uapbd/customer/saveEditCustomer.do';         //修改保存\r\nconst queryorgunitUrl = '/nccloud/uapbd/org/queryorgtype.do';         //查询组织类型vo\r\nconst queryorgtypeUrl = '/nccloud/uapbd/org/queryallorgtype.do';         //查询所有组织类型\r\nconst versionlId = 'versionlId';//版本化模态框\r\nconst { NCUploader,PrintOutput } = high;           // 从 高阶组件引入NCUploader。\r\n// import './index.less'\r\nimport './card.less'\r\nimport Orgunitversion from '../../orgunit/version';\r\n\r\n\r\nlet childstate = {\r\n    corp:false\t,//法人公司\r\n    hrorg:false\t,//人力资源\r\n    financeorg:false\t,//财务组织\r\n    fundorg:false\t,//资金\r\n    purchaseorg:false\t,//采购\r\n    saleorg:false\t,//销售\r\n    stockorg:false\t,//库存\r\n    trafficorg:false\t,//物流\r\n    qccenter:false\t,//质检\r\n    assetorg:false\t,//资产\r\n    maintainorg:false\t,//维修\r\n    liabilitycenter:false\t,//利润中心\r\n    itemorg:false\t,//项目\r\n    planbudget:false\t,//预算\r\n    adminorg:false\t,//行政\r\n    factory:false\t,//工厂\r\n    plancenter:false\t,//计划中心\r\n};\r\n\r\nclass Orgunitcard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.config = props.config;\r\n        this.state = {\r\n            showUploader:false,\r\n            deleteorgtype:[],\r\n            json: {},\r\n            inlt:null,\r\n            originalorgtypefloor:[],\r\n            showlogoUploader:false,\r\n            pks:[],\r\n            buttonshow:false,\r\n            showSubGrid:true,//控制上一页下一页显示\r\n            pk_org : '',\r\n            title_code : '',\r\n            orgtype:[],   //用于查询组织类型数据\r\n            orgtypefloor: [],//加载楼层用\r\n            increaseorgtype: [],//新增楼层用\r\n            childstate:childstate\r\n        }\r\n        this.onRefresh = this.onRefresh.bind(this);\r\n        this.showOffChange = this.showOffChange.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        //this.onRefresh()\r\n    }\r\n    \r\n     componentWillMount() {\r\n\t\t    \r\n  \t}\r\n\r\n\r\n    componentDidUpdate(){\r\n        let urlstatus = this.props.getUrlParam('status')\r\n        //组织主管\r\n        let orgmanagerstatus = this.props.editTable.getStatus('orgmanager');\r\n        //业务期间\r\n        let orgmoduleperiodstatus = this.props.editTable.getStatus('orgmoduleperiod');\r\n        //内部客商\r\n        let innercustsuppstatus = this.props.form.getFormStatus('innercustsupp');\r\n        //维护vat\r\n        let orgvatfunclet = this.props.editTable.getStatus('orgvatfunclet');\r\n\r\n        if(urlstatus === 'browse' && (orgmanagerstatus == undefined || orgmanagerstatus=='browse') && (orgmoduleperiodstatus == undefined || orgmoduleperiodstatus=='browse') &&  \r\n        (innercustsuppstatus == undefined || innercustsuppstatus=='browse') && (orgvatfunclet == undefined || orgvatfunclet == 'browse')){\r\n            window.onbeforeunload = null;\r\n        }else{\r\n            window.onbeforeunload = () => {//编辑态关闭页签或浏览器的提示\r\n                return '';\r\n                };\r\n        }\r\n    }\r\n\r\n    initData(pk){\r\n        //初始化界面的时候，需要把楼层清空\r\n        this.state.orgtypefloor = [];\r\n        if(pk == undefined || pk == ''){\r\n            pk = this.props.getUrlParam('pk_org');\r\n        }\r\n        let\tstatus = this.props.getUrlParam('status');\r\n        let flag = true;\r\n        //将职能信息初始化，都设置为false\r\n        this.props.config.orgtypearr.map((nb) =>{\r\n            this.state.childstate[nb.subGrid]=false;\r\n        })\r\n        if(!(pk == undefined || pk == '')){\r\n            let that = this ; \r\n            ajax({\r\n                url:queryorgtypeUrl,\r\n                data:{pk_org:pk,type:'normal'},\r\n                async:false,\r\n                success: (res) => {\r\n                    if (res.success && res.data) {\r\n                        res.data.map((obj) =>{\r\n                            //orgtype存储所有职能相关信息\r\n                            that.state.orgtype.push(obj);\r\n                            //设置职能初始化相关信息\r\n                            that.props.config.orgtypearr.map((nb) =>{\r\n                                if(nb.subGrid == obj.code && 'add' != status){\r\n                                    nb.pk_orgtype = obj.pk_orgtype;\r\n                                    nb.isshow = true;\r\n                                    //用于保存职能的相关信息（主键，是否显示，区域编码）\r\n                                    that.state.childstate[nb.subGrid]=true;\r\n                                    //用于加载楼层\r\n                                    that.state.orgtypefloor.push(nb);\r\n                                }\r\n                            })\r\n                        })\r\n                    }\r\n                    //将楼层还有职能转态初始化之后，保存，取消的时候，可以用于还原\r\n                    setDefData('orgunit_childstate',that.config.datasource,JSON.parse(JSON.stringify(that.state.childstate)));\r\n                    setDefData('orgunit_orgtypefloor',that.config.datasource,that.state.orgtypefloor);\r\n                    this.setState({\r\n                        originalorgtypefloor:JSON.parse(JSON.stringify(that.state.orgtypefloor))\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        \r\n        let callback = (json, status, inlt) => { // json 多语json格式参数； status： 是否请求到json多语，可用来判断多语资源是否请求到并进行一些别的操作； inlt： 可用来进行占位符的一些操作\r\n        if (status) {\r\n               // intemplate.call(this, this.props, json, inlt) // 如模板内也有多语处理，平台推荐模板加载操作放于此处， 在取到json多语资源后用传参的方式传入intemplate模板函数中\r\n                this.setState({json, inlt})       // 保存json和inlt到页面state中并刷新页面\r\n                this.props.config.josn = this.state.json;\r\n                initTemplate(this.props,this.onRefresh);\r\n            } else {\r\n                console.log('未加载到多语资源')   // 未请求到多语资源的后续操作\r\n            }\r\n\r\n        }\r\n        this.props.MultiInit.getMultiLang({moduleId: '10100ORG',domainName: 'uapbd',callback})\r\n\r\n        this.initData();\r\n        \r\n    }\r\n\r\n    onRefresh(pk_org){\r\n        let that = this;\r\n        let status = that.props.getUrlParam('status');\r\n        let btnopr = getDefData('orgunit_btnopr',that.props.config.datasource);\r\n        if(pk_org == undefined || pk_org == ''){\r\n            pk_org = this.props.getUrlParam('pk_org');\r\n        }\r\n        if(status != \"add\"){\r\n            //不是新增的时候，需要加载页面数据\r\n            if(pk_org && pk_org != 'undefined'){\r\n                that.getdata(pk_org);\r\n            }\r\n\r\n            //编辑的时候会计期间方案和本位币是不可以修改\r\n            that.props.form.setFormItemsDisabled('org',{'pk_accperiodscheme':false});\r\n            that.props.form.setFormItemsDisabled('org',{'pk_currtype':false});\r\n            //控制上一页下一页按钮显示\r\n            if(status == \"browse\"){\r\n                that.setState({\r\n                    showSubGrid:true\r\n                })\r\n            }else{\r\n                that.setState({\r\n                    showSubGrid:false\r\n                },()=>{\r\n                    if('copy' == btnopr){\r\n                        if(that.state.childstate.corp == true){\r\n                            //处理委托关系部分字段，是否可编辑\r\n                            that.dealrelationformstatus();\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n            if(status == \"edit\"){\r\n                let corproot = getDefData('havecorprootorgunit',that.props.config.datasource);\r\n                //复制的时候，法人的上级公司可以编辑，其他情况，edit状态的时候，根节点法人上级公司不可以编辑\r\n                if(!corproot.haveroot || (pk_org == corproot.pk && 'copy' != btnopr)){\r\n                    that.props.form.setFormItemsDisabled('corp',{'pk_fatherorg':true});\r\n                    that.props.form.setFormItemsRequired('corp',{'pk_fatherorg':false});\r\n                }else{\r\n                    that.props.form.setFormItemsDisabled('corp',{'pk_fatherorg':false});\r\n                    that.props.form.setFormItemsRequired('corp',{'pk_fatherorg':true});\r\n                }\r\n\r\n                if(that.state.childstate.financeorg){\r\n                    that.props.form.setFormItemsDisabled('stockorg',{pk_financeorg:true});//设置表单项不可用\r\n                }\r\n                //编辑的时候会计期间方案和本位币是不可以修改\r\n                that.props.form.setFormItemsDisabled('org',{'pk_accperiodscheme':true});\r\n                that.props.form.setFormItemsDisabled('org',{'pk_currtype':true});\r\n\r\n                //编辑的时候，如果选中的就是行政根节点，那么上级就不能编辑\r\n                let adminroot = getDefData('haveadminrootorgunit',that.props.config.datasource);\r\n\r\n                if(!adminroot.haveroot || pk_org == adminroot.pk){\r\n                    //如果勾选的是根节点，则对应的设置根节点按钮不可以使用\r\n                    that.props.form.setFormItemsDisabled('adminorg',{'pk_fatherorg':true});\r\n                    that.props.form.setFormItemsRequired('adminorg',{'pk_fatherorg':false});\r\n                }\r\n                if(adminroot.haveroot && pk_org != adminroot.pk){\r\n                    that.props.form.setFormItemsDisabled('adminorg',{'pk_fatherorg':false});\r\n                    that.props.form.setFormItemsRequired('adminorg',{'pk_fatherorg':true});\r\n                }\r\n            }\r\n        }else{\r\n            //新增的时候需要把form清空，状态设置为edit\r\n            that.props.config.orgtypearr.map((obj)=>{\r\n                that.props.form.setFormStatus(obj.subGrid,'add');\r\n                that.state.childstate[obj.subGrid] = false;\r\n                that.props.form.EmptyAllFormValue(obj.subGrid);\r\n                obj.isshow = false;\r\n            })\r\n            //自动生成编码\r\n            ajax({\r\n                url:'/nccloud/uapbd/org/getcode.do',\r\n                data: {pk_org:pk_org,status:status}, \r\n                success:(res)=>{\r\n                    if(res.success){     \r\n                        if(res.data){\r\n                            that.props.form.setFormItemsDisabled('org',{code:!res.data.isCodeEdit});\r\n                            that.props.form.setFormItemsValue('org',{'code':{value:res.data.newCode,display:res.data.newCode}});\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            let meta1 = that.props.meta.getMeta();\r\n            let pk_fatherorgitem = meta1['org'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n            //新增的时候，如果存在根节点，就把上级业务单元设置为必填项，否则设置为不可以编辑\r\n            if(!getDefData('orgunit_haverootorgunit',that.props.config.datasource).haveroot){\r\n                // pk_fatherorgitem.required = false;\r\n                // pk_fatherorgitem.disabled = true;\r\n                // that.props.meta.setMeta(meta1);\r\n                that.props.form.setFormItemsDisabled('org',{'pk_fatherorg':true});\r\n                that.props.form.setFormItemsRequired('org',{'pk_fatherorg':false});\r\n            }else{\r\n                that.props.form.setFormItemsDisabled('org',{'pk_fatherorg':false});\r\n                that.props.form.setFormItemsRequired('org',{'pk_fatherorg':true});\r\n                // pk_fatherorgitem.required = true;\r\n                // pk_fatherorgitem.disabled = false;\r\n                // that.props.meta.setMeta(meta1);\r\n            }\r\n            \r\n            if(pk_org && pk_org != 'undefined'){\r\n                //新增的时候，如果勾选了pk_org,需要把它作为他的上级\r\n                that.props.form.setFormItemsValue('org',{'pk_fatherorg':{value:pk_org,display:getDefData('orgunit_name', that.config.datasource)}});\r\n                //新增的时候，如果勾选了，需要把所属公司弄默认值\r\n                ajax({\r\n                    url:'/nccloud/uapbd/org/getcorpvo.do',\r\n                    data: {pk_org:pk_org}, \r\n                    success:(res)=>{\r\n                        if(res.success){\r\n                            if(res.data){\r\n                                that.props.form.setFormItemsValue('org',{'pk_corp':{value:res.data['pk_corp'],display:res.data['pk_corpname']}});\r\n                                that.props.form.setFormItemsValue('org',{'pk_accperiodscheme':{value:res.data['pk_accperiodscheme'],display:res.data['pk_accperiodschemename']}});\r\n                                that.props.form.setFormItemsValue('org',{'pk_currtype':{value:res.data['pk_currtype'],display:res.data['pk_currtypename']}});\r\n                                that.props.form.setFormItemsValue('org',{'pk_exratescheme':{value:res.data['pk_exratescheme'],display:res.data['pk_exrateschemename']}});\r\n                                setDefData('orgunit_pk_corpfatherorg',that.props.config.datasource,res.data['pk_corpfatherorg']);\r\n                                setDefData('orgunit_pk_corpfatherorgname',that.props.config.datasource,res.data['pk_corpfatherorgname']);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            that.setState({\r\n                buttonshow:true,\r\n                showSubGrid:false\r\n            })\r\n        }\r\n        //编辑态的时候需要根据规则判断编码是否可以修改\r\n        if('edit' == status){\r\n            ajax({\r\n               url:'/nccloud/uapbd/org/getcode.do',\r\n               data: {pk_org:pk_org,status:btnopr}, \r\n               success:(res)=>{\r\n                   if(res.success){\r\n                       if(res.data){\r\n                        that.props.form.setFormItemsDisabled('org',{code:!res.data.isCodeEdit});\r\n                        //that.props.form.setFormItemsValue('org',{'code':{value:res.data.newCode,display:res.data.newCode}});\r\n                       }\r\n                   }\r\n               }\r\n           });\r\n       }\r\n    }\r\n\r\n    afterEvent1 =(props, moduleId, key,value, changedrows)=>{}\r\n\r\n    beforeEvent=(props, moduleId, key,value, changedrows)=>{\r\n        let that = this;\r\n        let meta = this.props.meta.getMeta();\r\n        var pk_org = props.getUrlParam('pk_org')\r\n        var status = props.getUrlParam('status')\r\n        if(undefined == pk_org){\r\n            pk_org = getDefData('orgunit_pk_org', props.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n        }\r\n\r\n        switch(key)\r\n            {\r\n                case 'orgtype6':\r\n                                //开启的时候\r\n                                if(!value.value){\r\n                                    if(this.state.childstate.financeorg == false){\r\n                                        toast({content: this.state.json['10100ORG-000035'], color: 'warning'});//默认top/* 国际化处理： 业务单元如需具有资金职能，则必须先具有财务职能！*/\r\n                                        return false;\r\n                                    }\r\n                                }\r\n                                \r\n                                break;//资金\r\n                case 'orgtype33':\r\n                                //开启的时候\r\n                                if(!value.value){\r\n                                    if(this.state.childstate.plancenter == true){\r\n                                        toast({content: this.state.json['10100ORG-000036'], color: 'warning'});//默认top/* 国际化处理： 一个业务单元不可同时具有计划中心职能和工厂职能！*/\r\n                                        return false;\r\n                                    };\r\n                                    if(this.state.childstate.stockorg == false){\r\n                                        toast({content: this.state.json['10100ORG-000037'], color: 'warning'});//默认top/* 国际化处理： 一个业务单元具有工厂职能必须同时具有库存职能！*/\r\n                                        return false;\r\n                                    };\r\n                                }\r\n                                \r\n                                break;//工厂\r\n                case 'orgtype5':\r\n                                //关闭的时候\r\n                                if(value.value){\r\n                                    if(this.state.childstate.corp == true){\r\n                                        toast({content: this.state.json['10100ORG-000038'], color: 'warning'});//默认top/* 国际化处理： 业务单元具有公司职能时，必须同时具有财务职能！*/\r\n                                        return false;\r\n                                    }\r\n                                }\r\n                                break;//财务\r\n                case 'orgtype34':\r\n                                if(!value.value){\r\n                                    if(this.state.childstate.factory == true){\r\n                                        toast({content: this.state.json['10100ORG-000036'], color: 'warning'});//默认top/* 国际化处理： 一个业务单元不可同时具有计划中心职能和工厂职能！*/\r\n                                        return false;\r\n                                    }\r\n                                }\r\n                                break;//计划中心\r\n                case 'pk_fatherorg':\r\n                                let btnopr = getDefData('orgunit_btnopr',props.config.datasource);\r\n                                if(!('add' == status || 'copy' == btnopr)){\r\n                                    //上级业务单元不能选自己\r\n                                    let pk_fatherorg = meta['org'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                                    let pk_fatherorgcorp = meta['corp'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                                    let pk_fatherorghrorg = meta['hrorg'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                                    let pk_fatherorgsaleorg = meta['saleorg'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                                    let pk_fatherorgliability = meta['liabilitycenter'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                                    let pk_fatherorgadminorg = meta['adminorg'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                                    pk_fatherorg.queryCondition = function () {\r\n                                        return {\r\n                                            TreeRefActionExt: 'nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                            pk:pk_org,\r\n                                            AppCode:props.config.appcode,\r\n                                            orgtype:'org'\r\n                                        }\r\n                                    }\r\n                                    pk_fatherorgcorp.queryCondition = function () {\r\n                                        return {\r\n                                            TreeRefActionExt: 'nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                            pk:pk_org,\r\n                                            AppCode:props.config.appcode,\r\n                                            orgtype:'corp'\r\n                                        }\r\n                                    }\r\n                                    pk_fatherorghrorg.queryCondition = function () {\r\n                                        return {\r\n                                            TreeRefActionExt: 'nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                            pk:pk_org,\r\n                                            AppCode:props.config.appcode,\r\n                                            orgtype:'hrorg'\r\n                                        }\r\n                                    }\r\n                                    pk_fatherorgsaleorg.queryCondition = function () {\r\n                                        return {\r\n                                            TreeRefActionExt: 'nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                            pk:pk_org,\r\n                                            AppCode:props.config.appcode,\r\n                                            orgtype:'saleorg'\r\n                                        }\r\n                                    }\r\n                                    pk_fatherorgliability.queryCondition = function () {\r\n                                        return {\r\n                                            TreeRefActionExt: 'nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                            pk:pk_org,\r\n                                            AppCode:props.config.appcode,\r\n                                            orgtype:'liabilitycenter'\r\n                                        }\r\n                                    }\r\n                                    pk_fatherorgadminorg.queryCondition = function () {\r\n                                        return {\r\n                                            TreeRefActionExt: 'nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                            pk:pk_org,\r\n                                            AppCode:props.config.appcode,\r\n                                            orgtype:'adminorg'\r\n                                        }\r\n                                    }\r\n                                    that.props.meta.setMeta(meta); \r\n                                }\r\n                                \r\n                                break;//\r\n                case 'istaxorg':\r\n                    //开启的时候\r\n                    if(value.value){\r\n                        if(this.state.childstate.corp == true){\r\n                            toast({content: this.state.json['10100ORG-000039'], color: 'warning'});//默认top/* 国际化处理： 法人公司必须具有税务职能！*/\r\n                            return false;\r\n                        }\r\n                    }\r\n                \r\n                break;//资金\r\n                default: return true;//只对职能区域按钮做编辑后事件，其他的先跳过\r\n            }\r\n        return true;\r\n    }\r\n\r\n    afterEvent =(props, moduleId, key,value, changedrows)=>{\r\n        let that = this;\r\n        let meta1 = that.props.meta.getMeta();\r\n        let subGrid = 'org';\r\n        var pk_org = that.props.getUrlParam('pk_org')\r\n         //只要是为了保持org上职能按钮区域和各个职能模块上开启按钮保持一致，由于职能编码和各个职能按钮模块编码不一致，职能手动维护他们之间关系\r\n        switch(key)\r\n            {\r\n                case 'orgtype2':\r\n                                that.state.childstate.corp = value.value ;subGrid = 'corp';\r\n                                if(value.value){\r\n                                    //是法人公司，必须要有财务职能，关闭法人公司，不一定关闭财务职能\r\n                                    that.state.childstate.financeorg = value.value ;\r\n                                    that.props.form.setFormItemsValue('org',{'orgtype5':{value:value.value,display:null}}) ;\r\n                                    //勾选法人之后，所属公司不能编辑\r\n                                    that.props.form.setFormItemsValue('org',{'pk_corp':{value:null,display:null}}) ;\r\n                                    that.props.form.setFormItemsDisabled('org',{'pk_corp':true});//设置表单项不可用\r\n                                    that.props.form.setFormItemsRequired('org',{'pk_corp':false});\r\n                                }\r\n                                if(!value.value){\r\n                                    that.props.form.setFormItemsDisabled('org',{'pk_corp':false});//设置表单项不可用\r\n                                    if(that.state.childstate.financeorg){\r\n                                        //关闭法人，如果财务还在，那么所属公司必填\r\n                                        that.props.form.setFormItemsRequired('org',{'pk_corp':true});\r\n                                    }\r\n                                }\r\n                                break;//法人公司\r\n                case 'orgtype4':\r\n                                that.state.childstate.hrorg = value.value ; \r\n                                subGrid = 'hrorg';\r\n                                break;//人力资源\r\n                case 'orgtype5':   \r\n                                that.state.childstate.financeorg = value.value ;\r\n                                subGrid = 'financeorg'; \r\n                                if(value.value){\r\n                                    //开启财务职能的时候，需要把库存的采购业务委托关系中的默认结算财务组织和默认应收组织设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'default2':true,'default1':true});//设置表单项不可用\r\n                                    //开启财务职能的时候，需要把库存的所属财务组织为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorg',{'pk_financeorg':true});//设置表单项不可用\r\n                                    //开启财务职能的时候，需要把销售的默认结算财务组织和默认应收组织设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'default2':true,'default1':true});//设置表单项不可用\r\n                                    let pk_financeorg1 = meta1['stockorg'].items.find((item) => item.attrcode == 'pk_financeorg');\r\n                                    pk_financeorg1.required = false;\r\n                                    pk_financeorg1.disabled = true;  \r\n                                    // if(that.state.childstate.corp == false){\r\n                                    //     if(that.state.childstate.financeorg ){\r\n                                    //         //勾选法人公司之后财务组织的税务组织必须勾选\r\n                                    //         that.props.form.setFormItemsValue('financeorg',{'istaxorg':{value:false,display:false}});\r\n                                    //     }\r\n                                    // }\r\n                                    //如果勾选了财务，但是没有勾选法人，那么所属公司是必填\r\n                                    if(!that.state.childstate.corp){\r\n                                        that.props.form.setFormItemsRequired('org',{'pk_corp':true});\r\n                                    }\r\n                                    \r\n                                }else{\r\n                                    //停用财务职能的时候，需要把库存的采购业务委托关系中的默认结算财务组织和默认应收组织设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'default2':false,'default1':false});//设置表单项不可用\r\n                                    //停用财务职能的时候，需要把库存的所属财务组织为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorg',{'pk_financeorg':false});//设置表单项不可用\r\n                                    if(that.state.childstate.financeorg ){\r\n                                        //勾选法人公司之后财务组织的税务组织必须勾选\r\n                                        that.props.form.setFormItemsValue('financeorg',{'istaxorg':{value:true,display:false}});\r\n                                    }\r\n\r\n                                    //停用财务职能的时候，需要把销售的默认结算财务组织和默认应收组织设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'default2':false,'default1':false});//设置表单项不可用\r\n                                    let pk_financeorg2 = meta1['stockorg'].items.find((item) => item.attrcode == 'pk_financeorg');\r\n                                    pk_financeorg2.required = true;\r\n                                    pk_financeorg2.disabled = false; \r\n                                    //取消财务职能，所属公司改为非必填\r\n                                    that.props.form.setFormItemsRequired('org',{'pk_corp':false});\r\n\r\n                                }\r\n                                break;//财务组织\r\n                case 'orgtype6':\r\n                                //开启的时候\r\n                                if(value.value){\r\n                                    if(that.state.childstate.financeorg == false){\r\n                                        toast({content: this.state.json['10100ORG-000035'], color: 'warning'});//默认top/* 国际化处理： 业务单元如需具有资金职能，则必须先具有财务职能！*/\r\n                                        return;\r\n                                    }\r\n                                }\r\n                                \r\n                                that.state.childstate.fundorg = value.value ;\r\n                                subGrid = 'fundorg'; break;//资金\r\n                case 'orgtype7':\r\n                                that.state.childstate.purchaseorg = value.value ;\r\n                                subGrid = 'purchaseorg'; \r\n                                if(value.value){\r\n                                    //开启采购职能的时候，需要把库存的采购业务委托关系中的默认采购组织设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //停用采购职能的时候，需要把库存的采购业务委托关系中的默认采购组织设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'target':false});//设置表单项不可用\r\n                                }\r\n                                break;//采购\r\n                case 'orgtype8':\r\n                                that.state.childstate.saleorg = value.value ; \r\n                                subGrid = 'saleorg';\r\n                                if(value.value){\r\n                                    //开启销售职能的时候，需要把表头使用零售设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('org',{'isretail':false});//设置表单项不可用\r\n                                }else{\r\n                                    //停用销售职能的时候，需要把表头使用零售设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('org',{'isretail':true});//设置表单项不可用\r\n                                    that.props.form.setFormItemsValue('org',{'isretail':{value:null,display:null}});\r\n                                }\r\n\r\n\r\n                                //如果库存职能已经启用，需要把维修库存委托关系设置为不可编辑\r\n                                if(that.state.childstate.stockorg){\r\n                                     //开启库存职能的时候，需要把销售的默认库存组织设置为不可编辑\r\n                                     that.props.form.setFormItemsDisabled('saleorgrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启库存职能的时候，需要把销售的默认库存组织设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'target':false});//设置表单项可用\r\n                                }\r\n                                //如果财务组织已经启用，需要把财务相关的委托关系设置为不可编辑\r\n                                if(that.state.childstate.financeorg){\r\n                                    //开启财务职能的时候，需要把销售的默认结算财务组织和默认应收组织设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'default2':true,'default1':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启财务职能的时候，需要把销售的默认结算财务组织和默认应收组织设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'default2':false,'default1':false});//设置表单项可用\r\n                                }\r\n                                //如果利润中心职能已经启用，需要把采购业务委托关系中的默认利润中心设置为不可编辑\r\n                                if(that.state.childstate.liabilitycenter){\r\n                                    //开启利润中心职能的时候，需要把销售的默认利润中心设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'default3':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启利润中心职能的时候，需要把销售的默认利润中心设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'default3':false});//设置表单项可用\r\n                                }\r\n                                break;//销售\r\n                case 'orgtype9':\r\n                                that.state.childstate.stockorg = value.value ; \r\n                                subGrid = 'stockorg';\r\n                                if(value.value){\r\n                                    //开启库存职能的时候，需要把维修的维修库存业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('maintainstockrelation',{'target':true});//设置表单项不可用\r\n                                    //开启库存职能的时候，需要把项目的项目库存业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('itemstockrelation',{'target':true});//设置表单项不可用\r\n                                    //开启库存职能的时候，需要把销售的默认库存组织设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'target':true});//设置表单项不可用\r\n                                    //开启销售职能的时候，需要把表头使用零售设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('org',{'isretail':false});//设置表单项不可用\r\n                                }else{\r\n                                    //停用库存职能的时候，需要把项目的项目库存业务委托关系设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('maintainstockrelation',{'target':false});//设置表单项不可用\r\n                                     //停用库存职能的时候，需要把项目的项目库存业务委托关系设置为可编辑\r\n                                     that.props.form.setFormItemsDisabled('itemstockrelation',{'target':false});//设置表单项不可用\r\n                                     //停用库存职能的时候，需要把销售的默认库存组织设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'target':false});//设置表单项不可用\r\n                                    //停用销售职能的时候，需要把表头使用零售设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('org',{'isretail':true});//设置表单项不可用\r\n                                    that.props.form.setFormItemsValue('org',{'isretail':{value:null,display:null}});\r\n                                }\r\n\r\n                                let pk_financeorg1 = meta1['stockorg'].items.find((item) => item.attrcode == 'pk_financeorg');\r\n                                //如果财务组织已经启用，需要把财务相关的委托关系设置为不可编辑\r\n                                if(that.state.childstate.financeorg){\r\n                                    //开启财务职能的时候，需要把库存的采购业务委托关系中的默认结算财务组织和默认应收组织设置为不可编辑\r\n                                    \r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'default2':true,'default1':true});//设置表单项不可用\r\n                                    //开启财务职能的时候，需要把库存的所属财务组织为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorg',{'pk_financeorg':true});//设置表单项不可用\r\n                                    pk_financeorg1.required = false;\r\n                                    pk_financeorg1.disabled = true;  \r\n                                }else{\r\n                                    //开启财务职能的时候，需要把库存的采购业务委托关系中的默认结算财务组织和默认应收组织设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'default2':false,'default1':false});//设置表单项不可用\r\n                                    //开启财务职能的时候，需要把库存的所属财务组织为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorg',{'pk_financeorg':false});//设置表单项不可用\r\n                                    pk_financeorg1.required = true;\r\n                                    pk_financeorg1.disabled = false; \r\n                                }\r\n                                 //如果质检职能已经启用，需要把质检业务委托关系设置为不可编辑\r\n                                 if(that.state.childstate.qccenter){\r\n                                    //开启质检职能的时候，需要把库存的质检业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockqccenterrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启质检职能的时候，需要把库存的质检业务委托关系设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockqccenterrelation',{'target':false});//设置表单项可用\r\n                                }\r\n                                //如果利润中心职能已经启用，需要把采购业务委托关系中的默认利润中心设置为不可编辑\r\n                                if(that.state.childstate.liabilitycenter){\r\n                                    //开启利润中心职能的时候，需要把库存的采购业务委托关系中的默认利润中心设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'default3':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启利润中心职能的时候，需要把库存的采购业务委托关系中的默认利润中心设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'default3':false});//设置表单项可用\r\n                                }\r\n                                //如果物流职能已经启用，需要把物流业务委托关系设置为不可编辑\r\n                                if(that.state.childstate.trafficorg){\r\n                                    //开启物流职能的时候，需要把库存的物流业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stocktrafficrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启物流职能的时候，需要把库存的物流业务委托关系设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stocktrafficrelation',{'target':false});//设置表单项可用\r\n                                }\r\n                                //如果资产职能已经启用，需要把资产库存业务委托关系设置为不可编辑\r\n                                if(that.state.childstate.assetorg){\r\n                                    //开启资产职能的时候，需要把库存的资产库存业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockassetrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启资产职能的时候，需要把库存的资产库存业务委托关系设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockassetrelation',{'target':false});//设置表单项可用\r\n                                }\r\n                                //如果采购职能已经启用，需要把采购业务委托关系中的默认采购组织设置为不可编辑\r\n                                if(that.state.childstate.purchaseorg){\r\n                                    //开启采购职能的时候，需要把库存的采购业务委托关系中的默认采购组织设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启采购职能的时候，需要把库存的采购业务委托关系中的默认采购组织设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'target':false});//设置表单项可用\r\n                                }\r\n                                break;//库存\r\n                case 'orgtype10':\r\n                                that.state.childstate.trafficorg = value.value ;\r\n                                subGrid = 'trafficorg'; \r\n                                if(value.value){\r\n                                    //开启物流职能的时候，需要把库存的物流业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stocktrafficrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启物流职能的时候，需要把库存的物流业务委托关系设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stocktrafficrelation',{'target':false});//设置表单项不可用\r\n                                }\r\n                                \r\n                                break;//物流\r\n                case 'orgtype11':\r\n                                that.state.childstate.qccenter = value.value ; \r\n                                subGrid = 'qccenter';\r\n                                if(value.value){\r\n                                    //开启质检职能的时候，需要把库存的质检业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockqccenterrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //停用质检职能的时候，需要把库存的质检业务委托关系设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockqccenterrelation',{'target':false});//设置表单项不可用\r\n                                }\r\n                                break;//质检\r\n                case 'orgtype12':  \r\n                                that.state.childstate.assetorg = value.value ;\r\n                                subGrid = 'assetorg'; \r\n                                if(value.value){\r\n                                    //开启资产职能的时候，需要把库存的资产库存业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockassetrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //停用资产职能的时候，需要把库存的资产库存业务委托关系设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockassetrelation',{'target':false});//设置表单项不可用\r\n                                }\r\n                                break;//资产\r\n                case 'orgtype14':\r\n                                that.state.childstate.maintainorg = value.value ; \r\n                                subGrid = 'maintainorg';\r\n                                if(value.value){\r\n                                    //开启维修职能的时候，需要把资产的资产维修业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('assetorgmaintainrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //停用维修职能的时候，需要把资产的资产维修业务委托关系设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('assetorgmaintainrelation',{'target':false});//设置表单项不可用\r\n                                }\r\n                                // //如果库存职能已经启用，需要把维修库存委托关系设置为不可编辑\r\n                                if(that.state.childstate.stockorg){\r\n                                     //开启库存职能的时候，需要把维修的维修库存业务委托关系设置为不可编辑\r\n                                     that.props.form.setFormItemsDisabled('maintainstockrelation',{'target':true});//设置表单项不可用\r\n                                    //开启采购职能的时候，需要把库存的采购业务委托关系中的默认采购组织设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('assetorgmaintainrelation',{target:true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启采购职能的时候，需要把库存的采购业务委托关系中的默认采购组织设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('assetorgmaintainrelation',{target:false});//设置表单项可用\r\n                                    //开启库存职能的时候，需要把维修的维修库存业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('maintainstockrelation',{'target':false});//设置表单项不可用\r\n                                }\r\n                                break;//维修\r\n                case 'orgtype15':\r\n                                that.state.childstate.liabilitycenter = value.value ;\r\n                                subGrid = 'liabilitycenter'; \r\n                                if(value.value){\r\n                                    //开启利润中心职能的时候，需要把库存的采购业务委托关系中的默认利润中心设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'default3':true});//设置表单项不可用\r\n                                    //开启利润中心职能的时候，需要把销售的默认利润中心设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'default3':true});//设置表单项不可用\r\n                                }else{\r\n                                    //停用利润中心职能的时候，需要把库存的采购业务委托关系中的默认利润中心设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('stockorgrelation',{'default3':false});//设置表单项不可用\r\n                                    //停用利润中心职能的时候，需要把销售的默认利润中心设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('saleorgrelation',{'default3':false});//设置表单项不可用\r\n                                }\r\n                                break;//利润中心\r\n                case 'orgtype16':\r\n                                that.state.childstate.itemorg = value.value ; \r\n                                subGrid = 'itemorg';\r\n                                //如果库存职能已经启用，需要把维修库存委托关系设置为不可编辑\r\n                                if(that.state.childstate.stockorg){\r\n                                    //开启库存职能的时候，需要把项目的项目库存业务委托关系设置为不可编辑\r\n                                    that.props.form.setFormItemsDisabled('itemstockrelation',{'target':true});//设置表单项不可用\r\n                                }else{\r\n                                    //开启库存职能的时候，需要把项目的项目库存业务委托关系设置为可编辑\r\n                                    that.props.form.setFormItemsDisabled('itemstockrelation',{'target':false});//设置表单项可用\r\n                                }\r\n                                break;//项目\r\n                case 'orgtype17':\r\n                                that.state.childstate.planbudget = value.value ; \r\n                                subGrid = 'planbudget';\r\n                                break;//预算\r\n                case 'orgtype29':\r\n                                that.state.childstate.adminorg = value.value ;\r\n                                //如果是根节点行政组织，就设置为非必填项\r\n                                if(!getDefData('haveadminrootorgunit',props.config.datasource).haveroot){\r\n                                    that.props.form.setFormItemsRequired('adminorg',{'pk_fatherorg':false});\r\n                                    that.props.form.setFormItemsDisabled('adminorg',{'pk_fatherorg':true});\r\n                                }else{\r\n                                    that.props.form.setFormItemsRequired('adminorg',{'pk_fatherorg':true});\r\n                                    that.props.form.setFormItemsDisabled('adminorg',{'pk_fatherorg':false});\r\n                                }\r\n                                subGrid = 'adminorg'; \r\n                                break;//行政\r\n                case 'orgtype33':\r\n                                //开启的时候\r\n                                if(value.value){\r\n                                    if(that.state.childstate.keyplancenter == true){\r\n                                        toast({content: this.state.json['10100ORG-000036'], color: 'warning'});//默认top/* 国际化处理： 一个业务单元不可同时具有计划中心职能和工厂职能！*/\r\n                                        return;\r\n                                    };\r\n                                }\r\n                                that.state.childstate.factory = value.value ; subGrid = 'factory';break;//工厂\r\n                case 'orgtype34':\r\n                                //开启的时候\r\n                                if(value.value){\r\n                                    if(that.state.childstate.factory == true){\r\n                                        toast({content: this.state.json['10100ORG-000036'], color: 'warning'});//默认top/* 国际化处理： 一个业务单元不可同时具有计划中心职能和工厂职能！*/\r\n                                        return;\r\n                                    }\r\n                                }\r\n                                that.state.childstate.plancenter = value.value ; subGrid = 'plancenter';break;//计划中心\r\n                case 'issettlecenter':\r\n                                //资金职能下 结算中心开启的时候\r\n                                if(value.value && that.state.childstate.fundorg){\r\n                                    that.props.form.setFormItemsValue('fundorg',{'isfinancecorp':{value:false,display:null}})\r\n                                }else{\r\n                                    if(that.state.childstate.fundorg){\r\n                                        that.props.form.setFormItemsValue('fundorg',{'isfinancecorp':{value:true,display:null}})\r\n                                    } \r\n                                }\r\n                                break;\r\n                case 'isfinancecorp':\r\n                                //资金职能下 财务公司开启的时候\r\n                                if(value.value && that.state.childstate.fundorg){\r\n                                    that.props.form.setFormItemsValue('fundorg',{'issettlecenter':{value:false,display:null}})\r\n                                }else{\r\n                                    if(that.state.childstate.fundorg){\r\n                                        that.props.form.setFormItemsValue('fundorg',{'issettlecenter':{value:true,display:null}})\r\n                                    }\r\n                                }\r\n                                break;\r\n                case 'pk_address':\r\n                                //选择地点参照，默认带出所属地区参照\r\n                                ajax({\r\n                                    url:'/nccloud/uapbd/org/getpkarea.do',\r\n                                    data: {pk:value.refpk}, \r\n                                    success:(res)=>{\r\n                                        if(res.success){     \r\n                                            if(res.data){\r\n                                                that.props.form.setFormItemsValue('stockorg',{'pk_areacl':{value:res.data.pk,display:res.data.name}});\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                                break;\r\n            case 'reportconfirm':\r\n                                //集团内只能有一个报表组织\r\n                                if(value.value){\r\n                                    ajax({\r\n                                        url: '/nccloud/uapbd/org/checkreportconfirm.do',\r\n                                        data: {pk_org:pk_org},\r\n                                        success: (res) => {\r\n                                            if (res.success) {\r\n                                                if(res.data){\r\n                                                    toast({content: this.state.json['10100ORG-000040'], color: 'warning'});//默认top/* 国际化处理： 集团内只能有一个报表确认组织！*/\r\n                                                    that.props.form.setFormItemsValue('org',{'reportconfirm':{value:false,display:null}});\r\n                                                    return false;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    })\r\n                                }\r\n                                \r\n                                break;//资金\r\n                default: ;//只对职能区域按钮做编辑后事件，其他的先跳过\r\n            }\r\n            //主要是控制各个职能form上开启状态和一些校验\r\n            that.props.meta.setMeta(meta1); \r\n            \r\n            that.setState({\r\n                childstate:that.state.childstate\r\n            },()=>{\r\n                if(that.state.childstate.corp){\r\n                    if(that.state.childstate.financeorg ){\r\n                        //勾选法人公司之后财务组织的税务组织必须勾选\r\n                        that.props.form.setFormItemsValue('financeorg',{'istaxorg':{value:true,display:false}});\r\n                        //当法人公司和财务职能都勾选时，财务职能的缴税税种字段可编辑，委托税种字段不可编辑\r\n                        that.props.form.setFormItemsDisabled('financeorg',{'paytaxcates':false});//缴税税种\r\n                        that.props.form.setFormItemsDisabled('financeorg',{'authorizedtaxcates':true});//委托税种\r\n                    }\r\n                    //当法人的上级公司为空时，需要给默认值\r\n                    if(!that.props.form.getFormItemsValue('corp','pk_fatherorg').value){\r\n                        //上级公司默认值赋值\r\n                        that.props.form.setFormItemsValue('corp',{'pk_fatherorg':{value:getDefData('orgunit_pk_corpfatherorg',that.props.config.datasource),display:getDefData('orgunit_pk_corpfatherorgname',that.props.config.datasource)}});\r\n                    }\r\n                    \r\n                }\r\n                if(!that.state.childstate.corp ){\r\n                    if(that.state.childstate.financeorg){\r\n                        if(key =='orgtype5'){\r\n                            //勾选法人公司之后财务组织的税务组织必须勾选\r\n                            that.props.form.setFormItemsValue('financeorg',{'istaxorg':{value:false,display:false}});\r\n                        }\r\n                        if(that.props.form.getFormItemsValue('financeorg','istaxorg').value){\r\n                            //不勾选税务组织时，缴税税种和委托税种字段不可编辑；当勾选税务组织时，缴税税种和委托税种字段可编辑\r\n                            that.props.form.setFormItemsDisabled('financeorg',{'paytaxcates':false});//缴税税种\r\n                            that.props.form.setFormItemsDisabled('financeorg',{'authorizedtaxcates':false});//委托税种\r\n                        }else{\r\n                            that.props.form.setFormItemsDisabled('financeorg',{'paytaxcates':true});//缴税税种\r\n                            that.props.form.setFormItemsDisabled('financeorg',{'authorizedtaxcates':true});//委托税种\r\n                        }\r\n                        \r\n                    }\r\n                }\r\n                \r\n            });\r\n\r\n            that.showOffChange(subGrid,value.value)\r\n            \r\n    }\r\n\r\n    //通过单据id查询单据信息\r\n    getdata = (pk) =>{\r\n        let that = this;\r\n        let status = this.props.getUrlParam('status');\r\n        var btnopr = getDefData('orgunit_btnopr', that.config.datasource);\r\n        //先从缓存里面读取数据，如果有，直接返回\r\n        let carddata = getDefData('orgunit_carddata_'+pk,this.props.config.datasource);\r\n\r\n        let meta1 = that.props.meta.getMeta();\r\n        \r\n        let pk_fatherorgitem = {};\r\n        //有些操作，由于ts太多（保存form最多会有27个），所以没有更新，就设置这个标志，下次查询的时候强制走查询，不走缓存\r\n        let needquerydata = getDefData('orgunit_needquerydata_'+pk,this.props.config.datasource);\r\n        if(carddata && !needquerydata){\r\n            let depptcarddata = JSON.parse(JSON.stringify(carddata));\r\n            let formvalue = {};\r\n            depptcarddata.forEach((obj) =>{\r\n                if(obj.hasOwnProperty('org')){\r\n                    if(!(status == 'add' ||  status == 'edit'|| btnopr == 'copy')){\r\n                        //控制表头的停用启用\r\n                        toggleShow(that.props,obj.org.rows[0].values.enablestate.value)\r\n                    }\r\n                }\r\n                console.log(Object.keys(obj)[3]);\r\n                let objPagecode = '';\r\n                Object.keys(obj).map((nba)=>{\r\n                    if(obj[nba] != null && obj[nba] != undefined){\r\n                        objPagecode = nba\r\n                    }\r\n                })\r\n                that.toggleButtonShow(that.props,obj[objPagecode].rows[0].values.enablestate.value,objPagecode);\r\n                formvalue[objPagecode] = obj[objPagecode];\r\n            })\r\n            //form表单批量赋值setAllFormValue（{area1:data1,area2:data2}）\r\n            \r\n            that.setState({\r\n                buttonshow:true\r\n            },()=>{\r\n                that.props.form.setAllFormValue(formvalue);\r\n            })\r\n\r\n            if(btnopr == 'copy' ){\r\n                //复制的时候需要把表头主键清空\r\n                //that.props.form.setFormItemsValue('org',{'pk_org':{value:null,display:null}})\r\n                that.props.form.setFormItemsValue('org',{'pk_org':{value:null,display:null},\r\n                                                                 'innercode':{value:null,display:null},\r\n                                                                 'code':{value:null,display:null},\r\n                                                                 'name':{value:null,display:null},'name2':{value:null,display:null},'name3':{value:null,display:null},\r\n                                                                 'shortname':{value:null,display:null},'shortname2':{value:null,display:null},'shortname3':{value:null,display:null}});\r\n                //如果上级组织为空，说明为根节点，n那么修改的时候需要把上级组织设置为非必填 pk_fatherorg.display == undefined || pk_fatherorg.display == ''\r\n                // pk_fatherorgitem = meta1['org'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                // pk_fatherorgitem.required = true;\r\n                // pk_fatherorgitem.disabled = false;\r\n                // that.props.meta.setMeta(meta1);\r\n                that.props.form.setFormItemsDisabled('org',{'pk_fatherorg':false});\r\n                that.props.form.setFormItemsRequired('org',{'pk_fatherorg':true});\r\n                //自动生成编码\r\n                ajax({\r\n                    url:'/nccloud/uapbd/org/getcode.do',\r\n                    data: {pk_org:pk,status:status}, \r\n                    success:(res)=>{\r\n                        if(res.success){     \r\n                            if(res.data){\r\n                                that.props.form.setFormItemsDisabled('org',{code:!res.data.isCodeEdit});\r\n                                that.props.form.setFormItemsValue('org',{'code':{value:res.data.newCode,display:res.data.newCode}});\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            //取消的时候，需要把职能和楼层信息还原到修改前状态\r\n            if('cancel' == getDefData('orgunit_btnopr',that.props.config.datasource)){\r\n                that.state.childstate = JSON.parse(JSON.stringify(getDefData('orgunit_childstate', that.props.config.datasource)));\r\n                that.state.orgtypefloor = JSON.parse(JSON.stringify(getDefData('orgunit_orgtypefloor', that.props.config.datasource)));\r\n            };\r\n            \r\n            if('edit' == status || 'browse' == status){\r\n                //给已经勾选职能的switch赋值,由于后台转换的时候，不能够把职能的相关信息成功转换，所以只能先手动维护，后期有时间再去是否去掉\r\n                that.props.form.setFormItemsValue('org',{\r\n                    'orgtype2':{value:that.state.childstate.corp,display:null},\r\n                    'orgtype4':{value:that.state.childstate.hrorg,display:null},\r\n                    'orgtype5':{value:that.state.childstate.financeorg,display:null},\r\n                    'orgtype6':{value:that.state.childstate.fundorg,display:null},\r\n                    'orgtype7':{value:that.state.childstate.purchaseorg,display:null},\r\n                    'orgtype8':{value:that.state.childstate.saleorg,display:null},\r\n                    'orgtype9':{value:that.state.childstate.stockorg,display:null},\r\n                    'orgtype10':{value:that.state.childstate.trafficorg,display:null},\r\n                    'orgtype11':{value:that.state.childstate.qccenter,display:null},\r\n                    'orgtype12':{value:that.state.childstate.assetorg,display:null},\r\n                    'orgtype14':{value:that.state.childstate.maintainorg,display:null},\r\n                    'orgtype15':{value:that.state.childstate.liabilitycenter,display:null},\r\n                    'orgtype16':{value:that.state.childstate.itemorg,display:null},\r\n                    'orgtype17':{value:that.state.childstate.planbudget,display:null},\r\n                    'orgtype29':{value:that.state.childstate.adminorg,display:null},\r\n                    'orgtype33':{value:that.state.childstate.factory,display:null},\r\n                    'orgtype34':{value:that.state.childstate.plancenter,display:null}});\r\n            }\r\n            if(status != 'browse'){\r\n                //复制的时候，法人的上级公司不清空\r\n                let corpfaterorg  = that.props.form.getFormItemsValue('corp','pk_fatherorg');\r\n                that.props.config.orgtypearr.map((obj)=>{\r\n                    that.props.form.setFormStatus(obj.subGrid,'edit');\r\n                 //清空职能信息\r\n                \r\n                 if('copy' == btnopr && 'org' != obj.subGrid){\r\n                    that.props.form.EmptyAllFormValue(obj.subGrid);\r\n                 }\r\n                })\r\n\r\n                if('copy' == btnopr){\r\n                    if(that.state.childstate.corp){\r\n                        //复制的时候，法人的上级公司不清空\r\n                        that.props.form.setFormItemsValue('corp',{'pk_fatherorg':{value:corpfaterorg.value,display:corpfaterorg.display}});\r\n                    }\r\n                    \r\n                }\r\n                \r\n                //如果上级组织为空，说明为根节点，n那么修改的时候需要把上级组织设置为非必填\r\n                let pk_fatherorg = that.props.form.getFormItemsValue('org','pk_fatherorg');\r\n                if((pk_fatherorg.display == undefined || pk_fatherorg.display == '') && ('copy' != getDefData('orgunit_btnopr', that.config.datasource))){\r\n                    \r\n                    // pk_fatherorgitem = meta1['org'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                    // pk_fatherorgitem.required = false;\r\n                    // pk_fatherorgitem.disabled = true;\r\n                    // that.props.meta.setMeta(meta1);\r\n                    that.props.form.setFormItemsDisabled('org',{'pk_fatherorg':true});\r\n                    that.props.form.setFormItemsRequired('org',{'pk_fatherorg':false});\r\n                    \r\n                }\r\n                that.props.form.setFormStatus('org','edit');\r\n            }else{\r\n                //浏览态设置为不可编辑\r\n                that.props.config.orgtypearr.map((obj)=>{\r\n                    that.props.form.setFormStatus(obj.subGrid,'browse');\r\n                })\r\n            }\r\n            that.setState({\r\n                title_code:''\r\n            });\r\n            if('refresh' == btnopr){\r\n                toast({title:that.state.json['10100ORG-000041'],color:\"success\"});/* 国际化处理： 刷新成功！*/\r\n                setDefData('orgunit_btnopr', that.config.datasource,'browse');\r\n            }\r\n            //卡片界面翻页之后，内部客商的默认数据需要更新\r\n            setDefData('orgunit_code', that.props.config.datasource, formvalue[\"org\"].rows[0].values.code.value);\r\n            setDefData('orgunit_name', that.props.config.datasource, formvalue[\"org\"].rows[0].values.name.value);\r\n            setDefData('orgunit_shortname', that.props.config.datasource, formvalue[\"org\"].rows[0].values.shortname.value);\r\n\r\n            return ;\r\n        }\r\n        \r\n        //前面是走缓存，后面是查询数据库\r\n        let data = {\r\n            pk_org:pk,btnopr:btnopr\r\n        };\r\n        ajax({\r\n            url: queryorgunitUrl,\r\n            data:data,\r\n            success: (res) => {\r\n                if(res.data){\r\n                    console.log(res.data)\r\n                    let formvalue1 = {};\r\n                    res.data.forEach((obj) =>{\r\n                        if(obj.hasOwnProperty('org')){\r\n                            if(!(status == 'add' ||  status == 'edit'|| btnopr == 'copy')){\r\n                                //控制表头的停用启用\r\n                                toggleShow(that.props,obj.org.rows[0].values.enablestate.value)\r\n                            }\r\n                        }\r\n\r\n                        //console.log(Object.keys(obj));\r\n                        // console.log(Object.keys(obj)[3]);\r\n                        // let objPagecode = Object.keys(obj)[3];\r\n                        let objPagecode = '';\r\n                        Object.keys(obj).map((nba)=>{\r\n                            if(obj[nba] != null && obj[nba] != undefined){\r\n                                objPagecode = nba\r\n                            }\r\n                        })\r\n\r\n                        that.toggleButtonShow(that.props,obj[objPagecode].rows[0].values.enablestate.value,objPagecode);\r\n\r\n                        formvalue1[objPagecode] = obj[objPagecode];\r\n                        //that.props.form.setAllFormValue({[objPagecode]:obj[objPagecode]});\r\n                    })\r\n                    // \r\n                    // that.props.form.setAllFormValue(formvalue1);\r\n                    // //form赋值完之后，在显示按钮\r\n                    // that.setState({\r\n                    //     buttonshow:true\r\n                    // })\r\n                    that.setState({\r\n                        buttonshow:true\r\n                    },()=>{\r\n                        //form表单批量赋值setAllFormValue（{area1:data1,area2:data2}）\r\n                        that.props.form.setAllFormValue(formvalue1);\r\n                    })\r\n                    if(btnopr == 'copy' ){\r\n                        //复制的时候需要把表头主键清空\r\n                        that.props.form.setFormItemsValue('org',{'pk_org':{value:null,display:null},\r\n                                                                 'innercode':{value:null,display:null},\r\n                                                                 'code':{value:null,display:null},\r\n                                                                 'name':{value:null,display:null},'name2':{value:null,display:null},'name3':{value:null,display:null},\r\n                                                                 'shortname':{value:null,display:null},'shortname2':{value:null,display:null},'shortname3':{value:null,display:null}});\r\n                        //如果上级组织为空，说明为根节点，n那么修改的时候需要把上级组织设置为非必填 pk_fatherorg.display == undefined || pk_fatherorg.display == ''\r\n                        // pk_fatherorgitem = meta1['org'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                        // pk_fatherorgitem.required = true;\r\n                        // pk_fatherorgitem.disabled = false;\r\n                        // that.props.meta.setMeta(meta1);\r\n                        that.props.form.setFormItemsDisabled('org',{'pk_fatherorg':false});\r\n                        that.props.form.setFormItemsRequired('org',{'pk_fatherorg':true});\r\n                        //自动生成编码\r\n                        ajax({\r\n                            url:'/nccloud/uapbd/org/getcode.do',\r\n                            data: {pk_org:pk,status:status}, \r\n                            success:(res)=>{\r\n                                if(res.success){     \r\n                                    if(res.data){\r\n                                        that.props.form.setFormItemsDisabled('org',{code:!res.data.isCodeEdit});\r\n                                        that.props.form.setFormItemsValue('org',{'code':{value:res.data.newCode,display:res.data.newCode}});\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                     //取消的时候，需要把职能和楼层信息还原到修改前状态\r\n                    if('cancel' == getDefData('orgunit_btnopr',that.props.config.datasource)){\r\n                        that.state.childstate = JSON.parse(JSON.stringify(getDefData('orgunit_childstate', that.props.config.datasource)));\r\n                        that.state.orgtypefloor = JSON.parse(JSON.stringify(getDefData('orgunit_orgtypefloor', that.props.config.datasource)));\r\n                    };\r\n                    if('edit' == status || 'browse' == status){\r\n                        //给已经勾选职能的switch赋值,由于后台转换的时候，不能够把职能的相关信息成功转换，所以只能先手动维护，后期有时间再去是否去掉\r\n                        that.props.form.setFormItemsValue('org',{\r\n                            'orgtype2':{value:that.state.childstate.corp,display:null},\r\n                            'orgtype4':{value:that.state.childstate.hrorg,display:null},\r\n                            'orgtype5':{value:that.state.childstate.financeorg,display:null},\r\n                            'orgtype6':{value:that.state.childstate.fundorg,display:null},\r\n                            'orgtype7':{value:that.state.childstate.purchaseorg,display:null},\r\n                            'orgtype8':{value:that.state.childstate.saleorg,display:null},\r\n                            'orgtype9':{value:that.state.childstate.stockorg,display:null},\r\n                            'orgtype10':{value:that.state.childstate.trafficorg,display:null},\r\n                            'orgtype11':{value:that.state.childstate.qccenter,display:null},\r\n                            'orgtype12':{value:that.state.childstate.assetorg,display:null},\r\n                            'orgtype14':{value:that.state.childstate.maintainorg,display:null},\r\n                            'orgtype15':{value:that.state.childstate.liabilitycenter,display:null},\r\n                            'orgtype16':{value:that.state.childstate.itemorg,display:null},\r\n                            'orgtype17':{value:that.state.childstate.planbudget,display:null},\r\n                            'orgtype29':{value:that.state.childstate.adminorg,display:null},\r\n                            'orgtype33':{value:that.state.childstate.factory,display:null},\r\n                            'orgtype34':{value:that.state.childstate.plancenter,display:null}});\r\n                    }\r\n                    if(status != 'browse'){\r\n                        //复制的时候，法人的上级公司不清空\r\n                        let corpfaterorg1  = that.props.form.getFormItemsValue('corp','pk_fatherorg');\r\n                        that.props.config.orgtypearr.map((obj)=>{\r\n                            that.props.form.setFormStatus(obj.subGrid,'edit');\r\n                         //清空职能信息\r\n                         if('copy' == btnopr && 'org' != obj.subGrid){\r\n                            that.props.form.EmptyAllFormValue(obj.subGrid);\r\n                         }\r\n                        })\r\n\r\n                        if('copy' == btnopr){\r\n                            if(that.state.childstate.corp){\r\n                                //复制的时候，法人的上级公司不清空\r\n                                that.props.form.setFormItemsValue('corp',{'pk_fatherorg':{value:corpfaterorg1.value,display:corpfaterorg1.display}});\r\n                            }\r\n                            \r\n                        }\r\n                        \r\n                        //如果上级组织为空，说明为根节点，n那么修改的时候需要把上级组织设置为非必填\r\n                        let pk_fatherorg = that.props.form.getFormItemsValue('org','pk_fatherorg');\r\n                        if((pk_fatherorg.display == undefined || pk_fatherorg.display == '') && ('copy' != getDefData('orgunit_btnopr', that.config.datasource))){\r\n                    \r\n                            // pk_fatherorgitem = meta1['org'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                            // pk_fatherorgitem.required = false;\r\n                            // pk_fatherorgitem.disabled = true;\r\n                            // that.props.meta.setMeta(meta1);\r\n                            that.props.form.setFormItemsDisabled('org',{'pk_fatherorg':true});\r\n                            that.props.form.setFormItemsRequired('org',{'pk_fatherorg':false});\r\n                        }\r\n                        that.props.form.setFormStatus('org','edit');\r\n                    }else{\r\n                        //浏览态设置为不可编辑\r\n                        that.props.config.orgtypearr.map((obj)=>{\r\n                            that.props.form.setFormStatus(obj.subGrid,'browse');\r\n                        })\r\n                    }\r\n                    //由于复制的时候,清除了主键，所有复制的时候不缓存数据\r\n                    if(getDefData('orgunit_btnopr',that.props.config.datasource) != 'copy'){\r\n                        //缓存卡片界面数据，下次进来的时候可以从缓存中读取数据\r\n                        setDefData('orgunit_carddata_'+pk,that.props.config.datasource,res.data);\r\n                        //更新完最新的缓存之后，下次操作就可以直接走缓存，不用走ajax了\r\n                        setDefData('orgunit_needquerydata_'+pk,this.props.config.datasource,false);\r\n                    }\r\n                    //重新渲染一下界面\r\n                    that.setState({\r\n                        title_code:''\r\n                    });\r\n                    if('refresh' == btnopr){\r\n                        toast({title:that.state.json['10100ORG-000041'],color:\"success\"});/* 国际化处理： 刷新成功！*/\r\n                        setDefData('orgunit_btnopr', that.config.datasource,'browse');\r\n                    }\r\n                    //卡片界面翻页之后，内部客商的默认数据需要更新\r\n                    setDefData('orgunit_code', that.props.config.datasource, formvalue1[\"org\"].rows[0].values.code.value);\r\n                    setDefData('orgunit_name', that.props.config.datasource, formvalue1[\"org\"].rows[0].values.name.value);\r\n                    setDefData('orgunit_shortname', that.props.config.datasource, formvalue1[\"org\"].rows[0].values.shortname.value);\r\n                }\r\n            }\r\n        });  \r\n    }\r\n\r\n    //版本化\r\n    onSaveVersion = () =>{\r\n        let\tpk = this.props.getUrlParam('pk_org');\r\n        let formdata = this.props.form.getAllFormValue('org_v_head');\r\n        let that = this;\r\n        ajax({\r\n            url: '/nccloud/uapbd/org/saveorgversion.do',\r\n            data: formdata,\r\n            success: (res) => {\r\n                if (res.success) {\r\n                    //版本化之后刷新界面\r\n                    setDefData('orgunit_needquerydata_'+pk,that.props.config.datasource,true);\r\n                    that.onRefresh();\r\n                    toast({title : that.state.json['10100ORG-000042'],color : 'success'});/* 国际化处理： 版本化成功！*/\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    //财务组织版本化\r\n    onSaveFinanceVersion = () =>{\r\n        //版本化的时候确认版本的是哪一个1：财务组织体系版本化 2：利润中心体系版本化 3：人力资源组织体系版本化4：行政组织体系版本化\r\n        let\tpk = this.props.getUrlParam('pk_org');\r\n        let type = getDefData('orgunit_versiontype', this.config.datasource);//cacheTools.get('orgunit_versiontype');\r\n        let modalid = getDefData('orgunit_modalid', this.config.datasource);//cacheTools.get('orgunit_modalid');\r\n        let form = this.props.form.getAllFormValue('financeorg_v');\r\n        let that = this;\r\n        ajax({\r\n            url: '/nccloud/uapbd/org/savefinanceversion.do',\r\n            data: {form,type:type},\r\n            success: (res) => {\r\n                if (res.success) {\r\n                    //版本化之后刷新界面\r\n                    setDefData('orgunit_needquerydata_'+pk,that.props.config.datasource,true);\r\n                    that.onRefresh();\r\n                    if(1==type){\r\n                        toast({title : that.state.json['10100ORG-000043'],color : 'success'});/* 国际化处理： 财务组织版本化成功！*/\r\n                    }\r\n                    if(2==type){\r\n                        toast({title : that.state.json['10100ORG-000044'],color : 'success'});/* 国际化处理： 利润中心体系版本化成功！*/\r\n                    }\r\n                    if(3==type){\r\n                        toast({title : that.state.json['10100ORG-000045'],color : 'success'});/* 国际化处理： 人力资源组织体系版本化成功！*/\r\n                    }\r\n                    if(4==type){\r\n                        toast({title : that.state.json['10100ORG-000046'],color : 'success'});/* 国际化处理： 行政组织体系版本化成功！*/\r\n                    }\r\n                    that.props.modal.close(modalid);\r\n                }\r\n            }\r\n        })\r\n    }\r\n   \r\n    //显示停用数据\r\n\tshowOffChange(subGrid,value){\r\n        let that = this;\r\n        let status = this.props.getUrlParam('status');\r\n        \r\n        if('browse' == status){\r\n            return ;\r\n        }     \r\n\r\n        let flooradjust = [];\r\n        let neworgtype = [];\r\n        //开启职能\r\n        if(value==true){\r\n            that.props.form.setFormStatus(subGrid,\"add\");\r\n            //用户加载职能楼层，如果存在就添加-----修改为开启就添加，关闭就删除\r\n            that.config.orgtypearr.map((obj =>{\r\n                if(obj.subGrid == subGrid){\r\n                    obj.isshow = value;\r\n                    //保存新增的职能\r\n                    that.state.increaseorgtype.push(obj);\r\n                    //楼层新增就添加，关闭就删除\r\n                    that.state.orgtypefloor.push(obj);\r\n                }\r\n                if(obj.subGrid == 'financeorg' && subGrid == 'corp' && !obj.isshow){\r\n                    //法人公司开启。,如果财务没有开启，财务必须开启\r\n                    obj.isshow = value;\r\n                    that.props.form.setFormStatus(\"financeorg\",\"add\");\r\n                    that.state.orgtypefloor.push(obj);\r\n                }\r\n                //加载楼层的时候需要按照初始状态调整，所以需要重新构建楼层显示数组的位置\r\n                that.state.orgtypefloor.map((nb =>{\r\n                    if(obj.subGrid == nb.subGrid){\r\n                        flooradjust.push(nb);\r\n                    }\r\n                }))\r\n            }))\r\n\r\n            //当取消职能，还想再吃勾选职能的时候，以前的职能数据需要还原，\r\n            if(getDefData('orgunit_orgtypeformdata'+subGrid,that.config.datasource)){\r\n                that.props.form.setAllFormValue(getDefData('orgunit_orgtypeformdata'+subGrid,that.config.datasource));\r\n            }\r\n            \r\n            if(\"stockorg\" == subGrid && getDefData('orgunit_orgtypeformdata'+subGrid,that.config.datasource)){\r\n                if(getDefData('orgunit_orgtypeformdata'+'stocktrafficrelation',that.config.datasource)){\r\n                    that.props.form.setAllFormValue(getDefData('orgunit_orgtypeformdata'+'stocktrafficrelation',that.config.datasource));\r\n                }\r\n\r\n                if(getDefData('orgunit_orgtypeformdata'+'stockqccenterrelation',that.config.datasource)){\r\n                    that.props.form.setAllFormValue(getDefData('orgunit_orgtypeformdata'+'stockqccenterrelation',that.config.datasource));\r\n                }\r\n                \r\n                if(getDefData('orgunit_orgtypeformdata'+'stockorgrelation',that.config.datasource)){\r\n                    that.props.form.setAllFormValue(getDefData('orgunit_orgtypeformdata'+'stockorgrelation',that.config.datasource));\r\n                }\r\n\r\n                if(getDefData('orgunit_orgtypeformdata'+'stockassetrelation',that.config.datasource)){\r\n                    that.props.form.setAllFormValue(getDefData('orgunit_orgtypeformdata'+'stockassetrelation',that.config.datasource));\r\n                }\r\n\r\n            }\r\n            if(\"maintainorg\" == subGrid && getDefData('orgunit_orgtypeformdata'+subGrid,that.config.datasource)){\r\n                if(getDefData('orgunit_orgtypeformdata'+'maintainstockrelation',that.config.datasource)){\r\n                    that.props.form.setAllFormValue(getDefData('orgunit_orgtypeformdata'+'maintainstockrelation',that.config.datasource));\r\n                }\r\n            }\r\n            if(\"itemorg\" == subGrid && getDefData('orgunit_orgtypeformdata'+subGrid,that.config.datasource)){\r\n                if(getDefData('orgunit_orgtypeformdata'+'itemstockrelation',that.config.datasource)){\r\n                    that.props.form.setAllFormValue(getDefData('orgunit_orgtypeformdata'+'itemstockrelation',that.config.datasource));\r\n                }\r\n            }\r\n            if(\"assetorg\" == subGrid && getDefData('orgunit_orgtypeformdata'+subGrid,that.config.datasource)){\r\n                if(getDefData('orgunit_orgtypeformdata'+'assetorgmaintainrelation',that.config.datasource)){\r\n                    that.props.form.setAllFormValue(getDefData('orgunit_orgtypeformdata'+'assetorgmaintainrelation',that.config.datasource));\r\n                }\r\n            }\r\n            if(\"saleorg\" == subGrid && getDefData('orgunit_orgtypeformdata'+subGrid,that.config.datasource)){\r\n                if(getDefData('orgunit_orgtypeformdata'+'saleorgrelation',that.config.datasource)){\r\n                    that.props.form.setAllFormValue(getDefData('orgunit_orgtypeformdata'+'saleorgrelation',that.config.datasource));\r\n                }\r\n            }\r\n\r\n            that.state.orgtypefloor = flooradjust;\r\n        }\r\n\r\n        if(value==false){\r\n            \r\n            if(subGrid != 'org'){\r\n                that.props.form.setFormStatus(subGrid,\"browse\");\r\n            }\r\n            \r\n            if(this.state.childstate.corp == true && subGrid == 'financeorg'){\r\n                toast({content: this.state.json['10100ORG-000038'], color: 'warning'});//默认top/* 国际化处理： 业务单元具有公司职能时，必须同时具有财务职能！*/\r\n                return ;\r\n            }\r\n\r\n            this.config.orgtypearr.map((obj =>{\r\n                if(obj.subGrid == subGrid){\r\n                    obj.isshow = value;                    \r\n                }\r\n                // //楼层中移出\r\n                this.state.orgtypefloor.map((nb =>{\r\n                    if(obj.subGrid == nb.subGrid && obj.isshow){\r\n                        flooradjust.push(nb);\r\n                    }\r\n                }))\r\n             //新增职能中移出\r\n                this.state.increaseorgtype.map((nb =>{\r\n                    if(obj.subGrid == nb.subGrid && obj.isshow){\r\n                        neworgtype.push(nb);\r\n                    }\r\n                }))\r\n                \r\n            }))\r\n            this.state.orgtypefloor = flooradjust;\r\n            this.state.increaseorgtype = neworgtype;\r\n            //关闭职能清空该职能数据\r\n            // if(status == \"edit\" || status == \"add\"){\r\n            //     this.props.form.EmptyAllFormValue(subGrid);\r\n            // }\r\n            //现在关闭就把form里面内容清空了，所以需要保存以前form内容，用于还原以前的数据\r\n            if(\"stockorg\" == subGrid){\r\n                let stocktrafficrelation = this.props.form.getAllFormValue('stocktrafficrelation');\r\n                stocktrafficrelation['areacode'] = 'stocktrafficrelation';\r\n                stocktrafficrelation= {['stocktrafficrelation']:stocktrafficrelation};\r\n                setDefData('orgunit_orgtypeformdata'+'stocktrafficrelation',that.config.datasource,JSON.parse(JSON.stringify(stocktrafficrelation)));\r\n\r\n                let stockqccenterrelation = this.props.form.getAllFormValue('stockqccenterrelation');\r\n                stockqccenterrelation['areacode'] = 'stockqccenterrelation';\r\n                stockqccenterrelation= {['stockqccenterrelation']:stockqccenterrelation};\r\n                setDefData('orgunit_orgtypeformdata'+'stockqccenterrelation',that.config.datasource,JSON.parse(JSON.stringify(stockqccenterrelation)));\r\n\r\n                let stockorgrelation = this.props.form.getAllFormValue('stockorgrelation');\r\n                stockorgrelation['areacode'] = 'stockorgrelation';\r\n                stockorgrelation= {['stockorgrelation']:formdata};\r\n                setDefData('orgunit_orgtypeformdata'+'stockorgrelation',that.config.datasource,JSON.parse(JSON.stringify(stockorgrelation)));\r\n\r\n                let stockassetrelation = this.props.form.getAllFormValue('stockassetrelation');\r\n                stockassetrelation['areacode'] = 'stockassetrelation';\r\n                stockassetrelation= {['stockassetrelation']:stockassetrelation};\r\n                setDefData('orgunit_orgtypeformdata'+'stockassetrelation',that.config.datasource,JSON.parse(JSON.stringify(stockassetrelation)));\r\n\r\n            }\r\n            if(\"maintainorg\" == subGrid){\r\n                let maintainstockrelation = this.props.form.getAllFormValue('maintainstockrelation');\r\n                maintainstockrelation['areacode'] = 'maintainstockrelation';\r\n                maintainstockrelation= {['maintainstockrelation']:maintainstockrelation};\r\n                setDefData('orgunit_orgtypeformdata'+'maintainstockrelation',that.config.datasource,JSON.parse(JSON.stringify(maintainstockrelation)));\r\n\r\n            }\r\n            if(\"itemorg\" == subGrid){\r\n                let itemstockrelation = this.props.form.getAllFormValue('itemstockrelation');\r\n                itemstockrelation['areacode'] = 'itemstockrelation';\r\n                itemstockrelation= {['itemstockrelation']:itemstockrelation};\r\n                setDefData('orgunit_orgtypeformdata'+'itemstockrelation',that.config.datasource,JSON.parse(JSON.stringify(itemstockrelation)));\r\n\r\n            }\r\n            if(\"assetorg\" == subGrid){\r\n                let assetorgmaintainrelation = this.props.form.getAllFormValue('assetorgmaintainrelation');\r\n                assetorgmaintainrelation['areacode'] = 'assetorgmaintainrelation';\r\n                assetorgmaintainrelation= {['stockorgrelation']:assetorgmaintainrelation};\r\n                setDefData('orgunit_orgtypeformdata'+'assetorgmaintainrelation',that.config.datasource,JSON.parse(JSON.stringify(assetorgmaintainrelation)));\r\n\r\n            }\r\n            if(\"saleorg\" == subGrid){\r\n                let saleorgrelation = this.props.form.getAllFormValue('saleorgrelation');\r\n                saleorgrelation['areacode'] = 'saleorgrelation';\r\n                saleorgrelation= {['stockorgrelation']:saleorgrelation};\r\n                setDefData('orgunit_orgtypeformdata'+'saleorgrelation',that.config.datasource,JSON.parse(JSON.stringify(saleorgrelation)));\r\n\r\n            }\r\n\r\n            let formdata = this.props.form.getAllFormValue(subGrid);\r\n            formdata['areacode'] = subGrid;\r\n            formdata= {[subGrid]:formdata};\r\n            setDefData('orgunit_orgtypeformdata'+subGrid,that.config.datasource,JSON.parse(JSON.stringify(formdata)));\r\n        }\r\n\r\n        //启用职能时候，需要把相关的委托关系添加进去\r\n        if(status == \"edit\" || status == \"add\"){\r\n            let\tpk = this.props.getUrlParam('pk_org');\r\n            this.props.form.setFormStatus(subGrid,\"add\");\r\n            //职能委托关系的联动\r\n            if(subGrid == \"saleorg\"){\r\n                this.props.form.setFormStatus(\"saleorgrelation\",\"edit\");\r\n            }\r\n            if(subGrid == \"stockorg\"){\r\n                this.props.form.setFormStatus(\"stocktrafficrelation\",\"edit\");\r\n                this.props.form.setFormStatus(\"stockassetrelation\",\"edit\");\r\n                this.props.form.setFormStatus(\"stockorgrelation\",\"edit\");\r\n                this.props.form.setFormStatus(\"stockqccenterrelation\",\"edit\");\r\n            }\r\n            if(subGrid == \"assetorg\"){\r\n                this.props.form.setFormStatus(\"assetorgmaintainrelation\",\"edit\");\r\n            }\r\n            if(subGrid == \"maintainorg\"){\r\n                this.props.form.setFormStatus(\"maintainstockrelation\",\"edit\");\r\n            }\r\n            if(subGrid == \"itemorg\"){\r\n                this.props.form.setFormStatus(\"itemstockrelation\",\"edit\");\r\n            }\r\n        }\r\n        // //新增的时候清空所有数据\r\n        // if(status == \"add\"){\r\n        //     this.props.form.EmptyAllFormValue(subGrid);\r\n        // }\r\n        let childstatchange = childstate;\r\n        //用于控制各个职能form上停启用按钮的显示和停用\r\n        if(childstatchange[subGrid]){\r\n            this.toggleButtonShow(this.props,3,subGrid);\r\n        }else{\r\n            this.toggleButtonShow(this.props,2,subGrid);\r\n        }\r\n        childstatchange[subGrid] = value;\r\n        //启用法人公司的时候需要同时启用财务职能\r\n        if('corp' == subGrid && value ){\r\n            //childstatchange['financeorg'] = value;\r\n            this.toggleButtonShow(this.props,3,'financeorg');\r\n            \r\n            //开启财务职能的时候，需要把库存的采购业务委托关系中的默认结算财务组织和默认应收组织设置为不可编辑\r\n            this.props.form.setFormItemsDisabled('stockorgrelation',{'default2':true,'default1':true});//设置表单项不可用\r\n            //开启财务职能的时候，需要把库存的所属财务组织为不可编辑\r\n            this.props.form.setFormItemsDisabled('stockorg',{'pk_financeorg':true});//设置表单项不可用\r\n            //开启财务职能的时候，需要把销售的默认结算财务组织和默认应收组织设置为不可编辑\r\n            this.props.form.setFormItemsDisabled('saleorgrelation',{'default2':true,'default1':true});//设置表单项不可用\r\n            \r\n            let meta1 = this.props.meta.getMeta();\r\n            let pk_financeorg1 = meta1['stockorg'].items.find((item) => item.attrcode == 'pk_financeorg');\r\n            pk_financeorg1.required = false;\r\n            pk_financeorg1.disabled = true;  \r\n            this.props.meta.setMeta(meta1); \r\n        }\r\n        \r\n        //只要是为了保持org上职能按钮区域和各个职能模块上开启按钮保持一致\r\n        switch(subGrid)\r\n            {\r\n                case 'corp':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype2':{value:value,display:null}});\r\n\r\n                            if(!value){\r\n                                this.props.form.setFormItemsValue('org',{'pk_corp':{value:null,display:null}});\r\n\r\n                                this.props.form.setFormItemsDisabled('org',{'pk_corp':false});//设置表单项不可用\r\n                                if(this.state.childstate.financeorg){\r\n                                    //关闭法人，如果财务还在，那么所属公司必填\r\n                                    that.props.form.setFormItemsRequired('org',{'pk_corp':true});\r\n                                }\r\n                            }\r\n                             break;//法人公司\r\n                case 'hrorg':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype4':{value:value,display:null}});\r\n                            break;//人力资源\r\n                case 'financeorg':\r\n                            if(!value){\r\n                                this.props.form.setFormItemsValue('org',{'orgtype5':{value:value,display:null}}); \r\n                                //停用财务职能的时候，需要把库存的采购业务委托关系中的默认结算财务组织和默认应收组织设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('stockorgrelation',{'default2':false,'default1':false});//设置表单项不可用\r\n                                //停用财务职能的时候，需要把库存的所属财务组织为可编辑\r\n                                this.props.form.setFormItemsDisabled('stockorg',{'pk_financeorg':false});//设置表单项不可用\r\n                                //停用财务职能的时候，需要把销售的默认结算财务组织和默认应收组织设置为不可编辑\r\n                                this.props.form.setFormItemsDisabled('saleorgrelation',{'default2':false,'default1':false});//设置表单项不可用\r\n                                //取消财务，那所属公司设置为非必填\r\n                                this.props.form.setFormItemsRequired('org',{'pk_corp':false});\r\n                                //需要修改库存组织默认财务的必填\r\n                                let meta1 = this.props.meta.getMeta();\r\n                                let pk_financeorg2 = meta1['stockorg'].items.find((item) => item.attrcode == 'pk_financeorg');\r\n                                pk_financeorg2.required = true;\r\n                                pk_financeorg2.disabled = false; \r\n                                this.props.meta.setMeta(meta1); \r\n                            }\r\n                            break;//财务组织\r\n                case 'fundorg':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype6':{value:value,display:null}});\r\n                             break;//资金\r\n                case 'purchaseorg':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype7':{value:value,display:null}}); \r\n                            if(!value){\r\n                                //停用采购职能的时候，需要把库存的采购业务委托关系中的默认采购组织设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('stockorgrelation',{'target':false});//设置表单项不可用\r\n                            }\r\n                            break;//采购\r\n                case 'saleorg':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype8':{value:value,display:null}});\r\n                            if(!value){\r\n                                ///停用销售职能的时候，需要把表头使用零售设置为不可编辑\r\n                                this.props.form.setFormItemsDisabled('org',{'isretail':true});\r\n                                this.props.form.setFormItemsValue('org',{'isretail':{value:null,display:null}});\r\n                            }\r\n                            \r\n                            break;//销售\r\n                case 'stockorg':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype9':{value:value,display:null}});\r\n                            if(!value){\r\n                                //停用库存职能的时候，需要把项目的项目库存业务委托关系设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('maintainstockrelation',{'target':false});//设置表单项不可用\r\n                                //停用库存职能的时候，需要把项目的项目库存业务委托关系设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('itemstockrelation',{'target':false});//设置表单项不可用\r\n                                //停用库存职能的时候，需要把销售的默认库存组织设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('saleorgrelation',{'target':false});//设置表单项不可用\r\n                                ///停用销售职能的时候，需要把表头使用零售设置为不可编辑\r\n                                this.props.form.setFormItemsDisabled('org',{'isretail':true});\r\n                                this.props.form.setFormItemsValue('org',{'isretail':{value:null,display:null}});\r\n                            }\r\n                            break;//库存\r\n                case 'trafficorg': \r\n                            this.props.form.setFormItemsValue('org',{'orgtype10':{value:value,display:null}});\r\n                            if(!value){\r\n                                //停用物流职能的时候，需要把库存的物流业务委托关系设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('stocktrafficrelation',{'target':false});//设置表单项不可用\r\n                            }\r\n                            \r\n                             break;//物流\r\n                case 'qccenter':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype11':{value:value,display:null}});\r\n                            if(!value){\r\n                                //停用质检职能的时候，需要把库存的质检业务委托关系设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('stockqccenterrelation',{'target':false});//设置表单项不可用\r\n                            }\r\n                            break;//质检\r\n                case 'assetorg':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype12':{value:value,display:null}}); \r\n                            if(!value){\r\n                                //停用资产职能的时候，需要把库存的资产库存业务委托关系设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('stockassetrelation',{'target':false});//设置表单项不可用\r\n                            }\r\n                            \r\n                            break;//资产\r\n                case 'maintainorg':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype14':{value:value,display:null}});\r\n                            if(!value){\r\n                                //停用维修职能的时候，需要把资产的资产维修业务委托关系设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('assetorgmaintainrelation',{'target':false});//设置表单项不可用\r\n                            }\r\n                            \r\n                            break;//维修\r\n                case 'liabilitycenter':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype15':{value:value,display:null}});\r\n                            if(!value){\r\n                                //停用利润中心职能的时候，需要把库存的采购业务委托关系中的默认利润中心设置为可编辑\r\n                                this.props.form.setFormItemsDisabled('stockorgrelation',{'default3':false});//设置表单项不可用\r\n                                //停用利润中心职能的时候，需要把销售的默认利润中心设置为不可编辑\r\n                                this.props.form.setFormItemsDisabled('saleorgrelation',{'default3':false});//设置表单项不可用\r\n                            }\r\n                            \r\n                             break;//利润中心\r\n                case 'itemorg':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype16':{value:value,display:null}});\r\n                            break;//项目\r\n                case 'planbudget':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype17':{value:value,display:null}});\r\n                            break;//预算\r\n                case 'adminorg':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype29':{value:value,display:null}});\r\n                             break;//行政\r\n                case 'factory':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype33':{value:value,display:null}});\r\n                            break;//工厂\r\n                case 'plancenter':\r\n                            this.props.form.setFormItemsValue('org',{'orgtype34':{value:value,display:null}});\r\n                            break;//计划中心\r\n                default:break;\r\n            }\r\n        this.setState({\r\n            childstate:childstatchange\r\n        });\r\n    }\r\n\r\n\r\n    toggleButtonShow (props,enablestate,subGrid){\r\n\r\n       let enablebtnname = subGrid + 'enable';\r\n       let disablebtnname = subGrid + 'disable';\r\n       let status = props.getUrlParam('status')\r\n        if(enablestate ==='2'){//启用状态\r\n            props.button.setButtonsVisible({\r\n                [disablebtnname]:true,\r\n                [enablebtnname]:false,\r\n            });\r\n        }else{\r\n            props.button.setButtonsVisible({\r\n                [disablebtnname]:false,\r\n                [enablebtnname]:true,\r\n            });\r\n        }\r\n        //新增的时候，职能的停启用按钮都不现实\r\n        if('add' == status || 'edit' == status || 'copy' == status){\r\n            props.button.setButtonsVisible({\r\n                [disablebtnname]:false,\r\n                [enablebtnname]:false,\r\n            });\r\n        }\r\n    }\r\n\r\n    onPeriodBeforeEvent(props,moduleId, item, index,value, record){\r\n        //业务期初期间，银行授信管理、银行存款管理、银行贷款管理、担保管理、\r\n        //信用证管理、商业汇票、资金调度、内部存款管理、内部贷款管理、票据集中管理、资金结算这几个模块对应的会计期间是日期，不是会计参照\r\n        let meta = this.props.meta.getMeta();\r\n        let moudleidnum = record.values.moduleid.value;\r\n        let arr = ['4510' , '4530'  ,'4532' , '3613' , '3614' , '3615' , '3616' ,'3617' ,'3618' , '3632'  ,'3634' , '3635',  '3637']\r\n        var index = arr.indexOf(moudleidnum);\r\n        if (index >= 0 ) {\r\n            // 找到对应项，也可以用forEach循环、for循环等\r\n            meta[moduleId].items.find(e=>e.attrcode === 'pk_accperiod').itemtype = 'datetimepicker';\r\n            meta[moduleId].items.find(e=>e.attrcode === 'pk_accperiod').refcode = null;\r\n            // 重要！下面那行一定要写\r\n            props.renderItem('table', moduleId, 'pk_accperiod', null) // 前三个参数，根据模板json填对应值，moduleId是区域id\r\n            props.meta.setMeta(meta)\r\n        }else{\r\n            ajax({\r\n                url :'/nccloud/uapbd/org/setaccperiodscheme.do',\r\n                data:{pk_orgtype:record.values.pk_orgtype.display,pk_org:record.values.pk_org.value,moudleid:moudleidnum},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        \r\n                        if(res.data){\r\n                            item.queryCondition = function () {\r\n                                return {\r\n                                    \"pk_accperiodscheme\": res.data\r\n                                }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            });\r\n        }     \r\n        //编辑前事件必须范围true，不然不可以使用\r\n        return true;\r\n    }\r\n\r\n    onVATTableModelAfterEdit(props, moduleId, key, value, changedrows, record, index){\r\n        \r\n        ajax({\r\n            url :'/nccloud/uapbd/org/vatedit.do',\r\n            data:{countrycode:value.refpk},\r\n            success : (res) => {\r\n                if(res.success){\r\n            \r\n                    if(res.data){\r\n                        this.props.editTable.setValByKeyAndIndex('orgvatfunclet',record,'countrycode',{value:res.data,display:res.data})\r\n                }\r\n            }\r\n        }\r\n        });\r\n        //编辑前事件必须范围true，不然不可以使用\r\n        return true;\r\n    }\r\n\r\n    onSaveOrgManager(){\r\n        //let tabledata = this.props.editTable.getAllData('orgmanager');\r\n        let\tpk_org = this.props.getUrlParam('pk_org');\r\n        let that = this;\r\n        if(undefined == pk_org){\r\n            pk_org = getDefData('orgunit_pk_org', this.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n        }\r\n        this.props.editTable.filterEmptyRows('orgmanager',['cuserid']);\r\n        let tableData = this.props.editTable.getChangedRows('orgmanager');   //保存时，只获取改变的数据行而不是table的所有数据行，减少数据传输\r\n        tableData.map((obj)=>{\r\n            obj.values.pk_org.value = pk_org;\r\n        })\r\n        if(!tableData || tableData.length === 0){\r\n            //保存完设置为浏览态\r\n            that.props.editTable.setStatus('orgmanager', 'browse');\r\n            that.orgManageButtonState(that.props,'orgmanagesave');\r\n            toast({title : that.state.json['10100ORG-000047'],color : 'success'});/* 国际化处理： 保存成功！*/\r\n            return\r\n        } \r\n        let data = {\r\n            pageid:'10100ORG_orgmanager',\r\n            model : {\r\n                areaType: \"table\",\r\n                pageinfo: null,\r\n                rows: []\r\n            }\r\n        };\r\n        data.model.rows = tableData;\r\n        ajax({\r\n            url :'/nccloud/uapbd/org/orgmanagesavequery.do',\r\n            data:data,\r\n            success : (res) => {\r\n                if(res.success){\r\n                    //保存完设置为浏览态\r\n                    if(res.data){\r\n                        that.props.editTable.setTableData('orgmanager',res.data.orgmanager);\r\n                     }else{\r\n                        that.props.editTable.setTableData('orgmanager',{rows: []});\r\n                          }\r\n                    //保存完设置为浏览态\r\n                    that.props.editTable.setStatus('orgmanager', 'browse');\r\n                    that.orgManageButtonState(that.props,'orgmanagesave');\r\n                    toast({title : that.state.json['10100ORG-000047'],color : 'success'});/* 国际化处理： 保存成功！*/\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    onSaveOrgPeriod(){\r\n        let tableData = this.props.editTable.getAllData('orgmoduleperiod');   //保存时，只获取改变的数据行而不是table的所有数据行，减少数据传输\r\n        let changetableData = props.editTable.getChangedRows('orgmoduleperiod');\r\n        let that = this;\r\n        if(!changetableData || changetableData.length === 0) return\r\n        data = {\r\n            pageid:'10100ORG_orgmoduleperiod',\r\n            model : {\r\n                areaType: \"table\",\r\n                pageinfo: null,\r\n                rows: []\r\n            }\r\n        };\r\n        data.model.rows = changetableData.rows;\r\n        ajax({\r\n            url :'/nccloud/uapbd/org/saveperiod.do',\r\n            data:data,//{data:data,opera:'year'},\r\n            success : (res) => {\r\n                if(res.success){\r\n                    toast({ color: 'success', title: that.state.json['10100ORG-000048'] });/* 国际化处理： 设置成功！*/\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    onSaveOrgInnercust(){\r\n        let memberFlag = this.props.form.isCheckNow('innercustsupp');\r\n            if(!memberFlag){\r\n                return;\r\n            }\r\n        let that = this;\r\n        let countryzone = this.props.form.getFormItemsValue('org','countryzone');\r\n        let pk_unitorg = this.props.form.getFormItemsValue('org','pk_org').value;\r\n        if(pk_unitorg == undefined){\r\n            pk_unitorg = getDefData('orgunit_pk_org', this.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n        }\r\n        let pk_org = this.props.form.getFormItemsValue('innercustsupp','pk_org');\r\n        let code = this.props.form.getFormItemsValue('innercustsupp','code');\r\n        let custname = this.props.form.getFormItemsValue('innercustsupp','custname');\r\n        let custshortname = this.props.form.getFormItemsValue('innercustsupp','custshortname');\r\n        let pk_custclass = this.props.form.getFormItemsValue('innercustsupp','pk_custclass');\r\n        let pk_supplierclass = this.props.form.getFormItemsValue('innercustsupp','pk_supplierclass');\r\n        ajax({\r\n            url :'/nccloud/uapbd/org/saveinnercust.do',\r\n            data:{pk_org:pk_org.value,countryzone:countryzone.value,code:code.value,custname:custname.value,\r\n                custshortname:custshortname.value,pk_custclass:pk_custclass.value,pk_supplierclass:pk_supplierclass.value,pk_unitorg:pk_unitorg},//{data:data,opera:'year'},\r\n            success : (res) => {\r\n                if(res.success){\r\n                    toast({ color: 'success', title: that.state.json['10100ORG-000047'] });/* 国际化处理： 保存成功！*/\r\n                    this.props.form.setFormStatus('innercustsupp','browse');\r\n                    this.props.modal.close('innercustsupp');\r\n                }\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n    //业务期间按钮事件\r\n    onOrgPeirodButtonClick(props,id) {\r\n        let that = this;\r\n        let tableData = this.props.editTable.getAllData('orgmoduleperiod');   //保存时，只获取改变的数据行而不是table的所有数据行，减少数据传输\r\n\r\n        let changetableData = props.editTable.getChangedRows('orgmoduleperiod');\r\n\r\n        let rownum =  props.editTable.getNumberOfRows('orgmoduleperiod'); //获取列表总行数\r\n\r\n        let flag = 0 ;\r\n\r\n        let data = {};\r\n\r\n        switch (id) {\r\n            case 'periodsave':\r\n                if(!changetableData || changetableData.length === 0) return;\r\n                data = {\r\n                    pageid:'10100ORG_orgmoduleperiod',\r\n                    model : {\r\n                        areaType: \"table\",\r\n                        pageinfo: null,\r\n                        rows: []\r\n                    }\r\n                };\r\n                data.model.rows = changetableData;\r\n                ajax({\r\n                    url :'/nccloud/uapbd/org/saveperiod.do',\r\n                    data:data,//{data:data,opera:'year'},\r\n                    success : (res) => {\r\n                        if(res.success){\r\n                            //保存之后刷新界面\r\n                            ajax({\r\n                                url :'/nccloud/uapbd/org/orgmoduleperiod.do',\r\n                                data:{pk_org: getDefData('orgunit_pk_org',props.config.datasource)},\r\n                                success : (res) => {\r\n                                    if(res.success){\r\n                                        if(res.data){\r\n                                            props.editTable.setTableData('orgmoduleperiod',res.data.orgmoduleperiod);\r\n                                        }else{\r\n                                            props.editTable.setTableData('orgmoduleperiod',{rows: []});\r\n                                        }\r\n                                        props.editTable.setStatus('orgmoduleperiod','edit');\r\n                                    }\r\n                                }\r\n                            });\r\n                            toast({ color: 'success', title: that.state.json['10100ORG-000048'] });/* 国际化处理： 设置成功！*/\r\n                        }\r\n                    }\r\n                });\r\n            break;\r\n\r\n        case 'batchempty':\r\n            while(flag != rownum){\r\n                props.editTable.setValByKeyAndIndex('orgmoduleperiod',flag,'pk_accperiod',{value:'',display:''});\r\n                flag = flag + 1;\r\n            }\r\n            break;\r\n        case 'batchsetbeginyear':\r\n            \r\n            if(!tableData || tableData.length === 0) return\r\n            data = {\r\n                pageid:'beginyear',\r\n                model : {\r\n                    areaType: \"table\",\r\n                    pageinfo: null,\r\n                    rows: []\r\n                }\r\n            };\r\n            data.model.rows = tableData.rows;\r\n            ajax({\r\n                url :'/nccloud/uapbd/org/batchsetyearperiod.do',\r\n                data:data,//{data:data,opera:'year'},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        if(res.data){\r\n                            while(flag != rownum){\r\n                                if(res.data[flag] != null){\r\n                                    props.editTable.setValByKeyAndIndex('orgmoduleperiod',flag,'pk_accperiod',{value:res.data[flag],display:res.data[flag]});\r\n                                }             \r\n                                flag = flag + 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            props.editTable.setStatus('orgmoduleperiod', 'edit');\r\n            break;\r\n        case 'batchcurrentyear':\r\n            if(!tableData || tableData.length === 0) return\r\n            data = {\r\n                pageid:'currentyear',\r\n                model : {\r\n                    areaType: \"table\",\r\n                    pageinfo: null,\r\n                    rows: []\r\n                }\r\n            };\r\n            data.model.rows = tableData.rows;\r\n            ajax({\r\n                url :'/nccloud/uapbd/org/batchsetyearperiod.do',\r\n                data:data,//{data:data,opera:'year'},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        if(res.data){\r\n                            while(flag != rownum){\r\n                                if(res.data[flag] != null){\r\n                                    props.editTable.setValByKeyAndIndex('orgmoduleperiod',flag,'pk_accperiod',{value:res.data[flag],display:res.data[flag]});\r\n                                }             \r\n                                flag = flag + 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            props.editTable.setStatus('orgmoduleperiod', 'edit');\r\n            break;\r\n    }\r\n\r\n}\r\n\r\n\r\nVATbuttonToggleShow(props,status){\r\n    //let status = props.getUrlParam('status');\r\n    //按钮的显示状态\r\n    if(status === 'vatadd' || status === 'vatedit' ){\r\n        props.button.setButtonVisible(['vatadd','vatlinedel','vatsave','vatcancel'],true);\r\n        props.button.setButtonVisible(['vatedit','vatdel','vatrefresh'],false);\r\n    }else{\r\n        props.button.setButtonVisible(['vatadd','vatdel','vatedit','vatrefresh'],true);\r\n        props.button.setButtonVisible(['vatsave','vatcancel','vatlinedel'],false);\r\n    }\r\n}\r\n\r\n    onOrgVATButtonClick(props,id){\r\n        let that = this;\r\n        let pk_org = this.props.form.getFormItemsValue('org','pk_org').value;\r\n        if(pk_org == undefined){\r\n            pk_org = getDefData('orgunit_pk_org', this.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n        }\r\n        //过滤空行\r\n        this.props.editTable.filterEmptyRows('orgvatfunclet',['pk_country']);\r\n        let tableData = this.props.editTable.getAllData('orgvatfunclet');   //保存时，只获取改变的数据行而不是table的所有数据行，减少数据传输\r\n\r\n        //获取编辑行改变的数据\r\n        let selectedData=props.editTable.getCheckedRows('orgvatfunclet');\r\n        let rownum =  props.editTable.getNumberOfRows('orgvatfunclet'); //获取列表总行数\r\n\r\n        let data = {};\r\n        switch (id) {\r\n            case 'vatadd':\r\n            props.editTable.addRow('orgvatfunclet',rownum,true);\r\n            props.editTable.setStatus('orgvatfunclet','edit');\r\n            this.VATbuttonToggleShow(props,'vatadd');\r\n            // this.props.editTable.setValByKeyAndIndex(tableid, num, 'dataoriginflag', {value: '0'});//设置数据来源\r\n            //新增的时候，删除按钮都不可以使用，勾选数据之后才能使用\r\n            this.props.button.setButtonDisabled(['vatdel','vatlinedel'],true);\r\n            this.props.button.setMainButton('vatsave',true);\r\n            this.props.button.setMainButton('vatadd',false);\r\n            break;\r\n\r\n        case 'vatdel':\r\n                if(selectedData.length==0){\r\n                    toast({content:that.state.json['10100ORG-000049'],color:'warning'});/* 国际化处理： 请选择要删除的数据！*/\r\n                    return \r\n                }\r\n                let indexArr1=[];\r\n                selectedData.forEach((val) => {\r\n                    indexArr1.push(val.index);\r\n                });\r\n                \r\n                props.editTable.deleteTableRowsByIndex('orgvatfunclet', indexArr1);\r\n\r\n                //获取界面上修改过的数据\r\n                var changetableData = props.editTable.getChangedRows('orgvatfunclet');\r\n\r\n                promptBox({\r\n                    color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                    title: that.state.json['10100ORG-000001'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                    noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                    hasCloseBtn:false,\r\n                    content: that.state.json['10100ORG-000050'],/* 国际化处理： 您确定要删除吗？*/\r\n                    beSureBtnClick: () =>{\r\n                        data = {\r\n                            pageid:pk_org,\r\n                            model : {\r\n                                areaType: \"table\",\r\n                                pageinfo: null,\r\n                                rows: []\r\n                            }\r\n                        };\r\n                        data.model.rows = changetableData;\r\n                        ajax({\r\n                            url :'/nccloud/uapbd/org/vatesave.do',\r\n                            data:data,//{data:data,opera:'year'},\r\n                            success : (res) => {\r\n                                if(res.success){\r\n                                    that.VATbuttonToggleShow(props,'vatdel');\r\n                                    toast({ color: 'success', title: that.state.json['10100ORG-000010'] });/* 国际化处理： 删除成功！*/\r\n                                    that.props.button.setButtonDisabled(['vatdel','vatlinedel'], true);\r\n                                }\r\n                                //props.modal.close('orgvatfunclet');\r\n                            }\r\n                        });\r\n                    }   \r\n                })\r\n                // props.modal.show('delete',{\r\n                //     title:'提示',\r\n                //     content: \"您确定要删除吗？\",\r\n                //     noFooter : false, //是否需要底部按钮,默认true\r\n                //     userControl:true,//自己控制什么时候关闭窗口\r\n                //     beSureBtnClick:() =>{\r\n                //         data = {\r\n                //             pageid:pk_org,\r\n                //             model : {\r\n                //                 areaType: \"table\",\r\n                //                 pageinfo: null,\r\n                //                 rows: []\r\n                //             }\r\n                //         };\r\n                //         data.model.rows = changetableData;\r\n                //         ajax({\r\n                //             url :'/nccloud/uapbd/org/vatesave.do',\r\n                //             data:data,//{data:data,opera:'year'},\r\n                //             success : (res) => {\r\n                //                 if(res.success){\r\n                //                     this.VATbuttonToggleShow(props,'vatdel');\r\n                //                     toast({ color: 'success', content: '删除成功！' });\r\n                //                 }\r\n                //                 //props.modal.close('orgvatfunclet');\r\n                //             }\r\n                //         });\r\n                //     }\r\n                // });\r\n                \r\n            break;\r\n        case 'vatlinedel':\r\n                if(selectedData.length==0){\r\n                    toast({content:that.state.json['10100ORG-000049'],color:'warning'});/* 国际化处理： 请选择要删除的数据！*/\r\n                    return \r\n                }\r\n                let indexArr=[];\r\n                selectedData.forEach((val) => {\r\n                    indexArr.push(val.index);\r\n                });\r\n                that.VATbuttonToggleShow(props,'vatedit');\r\n                props.editTable.deleteTableRowsByIndex('orgvatfunclet', indexArr);\r\n                that.props.button.setButtonDisabled(['vatdel','vatlinedel'], true);\r\n            break;\r\n        case 'vatedit':\r\n            props.editTable.setStatus('orgvatfunclet', 'edit');\r\n            that.VATbuttonToggleShow(props,'vatedit');\r\n            props.button.setButtonDisabled(['vatlinedel'],true);\r\n            // this.props.editTable.setValByKeyAndIndex(tableid, num, 'dataoriginflag', {value: '0'});//设置数据来源\r\n            break;\r\n        case 'vatcancel':\r\n            promptBox({\r\n                color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                title: that.state.json['10100ORG-000001'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                hasCloseBtn:false,\r\n                content: that.state.json['10100ORG-000002'],/* 国际化处理： 您确定要取消吗？*/\r\n                beSureBtnClick: () =>{\r\n                    props.editTable.cancelEdit('orgvatfunclet');\r\n                    props.editTable.setStatus('orgvatfunclet', 'browse');\r\n                    that.VATbuttonToggleShow(props,'vatsave');\r\n                    that.props.button.setMainButton('vatsave',false);\r\n                    that.props.button.setMainButton('vatadd',true);\r\n                }   \r\n            })\r\n            // this.props.editTable.setValByKeyAndIndex(tableid, num, 'dataoriginflag', {value: '0'});//设置数据来源\r\n            break;\r\n        case 'vatrefresh':\r\n            ajax({\r\n                url :'/nccloud/uapbd/org/vatquery.do',\r\n                data:{pk_org: pk_org},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        //props.modal.show('orgvatfunclet',{title:this.state.json['10100ORG-000060']});\r\n                        if(res.data){\r\n                            props.editTable.setTableData('orgvatfunclet',res.data.orgvatfunclet);\r\n                        }else{\r\n                            props.editTable.setTableData('orgvatfunclet',{rows: []});\r\n                        }\r\n                        props.editTable.setStatus('orgvatfunclet','browse');\r\n                        props.button.setButtonDisabled(['vatdel'],true);\r\n                        props.button.setButtonVisible(['vatadd','vatdel','vatedit','vatrefresh'],true);\r\n                        props.button.setButtonVisible(['vatsave','vatcancel','vatlinedel'],false);\r\n                        toast({title:that.state.json['10100ORG-000041'],color:\"success\"});/* 国际化处理： 刷新成功！*/\r\n                    }\r\n                }\r\n            });break;\r\n        case 'vatsave':\r\n            that.onSaveOrgVAT();\r\n            that.props.button.setMainButton('vatsave',false);\r\n            that.props.button.setMainButton('vatadd',true);\r\n            // if(!tableData || tableData.length === 0) return\r\n            // data = {\r\n            //     pageid:pk_org,\r\n            //     model : {\r\n            //         areaType: \"table\",\r\n            //         pageinfo: null,\r\n            //         rows: []\r\n            //     }\r\n            // };\r\n            // data.model.rows = tableData.rows;\r\n            // ajax({\r\n            //     url :'/nccloud/uapbd/org/vatesave.do',\r\n            //     data:data,//{data:data,opera:'year'},\r\n            //     success : (res) => {\r\n            //         if(res.success){\r\n            //             toast({ color: 'success', content: '设置成功！' });\r\n            //         }\r\n            //         props.modal.close('orgvatfunclet');\r\n            //     }\r\n            // });\r\n            // this.VATbuttonToggleShow(props,'vatsave');\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    //保存维护vat\r\n    onSaveOrgVAT(){\r\n        //去除空行\r\n        let that = this;\r\n        this.props.editTable.filterEmptyRows('orgvatfunclet',['pk_country']);\r\n        //获取改变行的时候顺便把必填项校验\r\n        let changedRows = this.props.editTable.getChangedRows('orgvatfunclet',false);\r\n        if(changedRows && !this.props.editTable.checkRequired('orgvatfunclet',changedRows)) return;\r\n       // if(!props.editTable.checkRequired(this.props.config.gridId,changedRows)) return;\r\n\r\n        let pk_org = this.props.form.getFormItemsValue('org','pk_org').value;\r\n        if(pk_org == undefined){\r\n            pk_org = getDefData('orgunit_pk_org', this.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n        }\r\n        // let tableData = this.props.editTable.getAllData('orgvatfunclet');\r\n        // if(!tableData || tableData.length === 0) return\r\n        let data = {\r\n            pageid:pk_org,\r\n            model : {\r\n                areaType: \"table\",\r\n                pageinfo: null,\r\n                rows: []\r\n            }\r\n        };\r\n        data.model.rows = changedRows;\r\n        ajax({\r\n            url :'/nccloud/uapbd/org/vatesave.do',\r\n            data:data,//{data:data,opera:'year'},\r\n            success : (res) => {\r\n                if(res.success){\r\n                    this.VATbuttonToggleShow(this.props,'vatsave');\r\n                    that.props.editTable.setStatus('orgvatfunclet', 'browse');\r\n                    toast({ color: 'success', title: that.state.json['10100ORG-000047'] });/* 国际化处理： 保存成功！*/\r\n                }\r\n                //this.props.modal.close('orgvatfunclet');\r\n            }\r\n        });\r\n\r\n    }\r\n    orgManageButtonState(props,status){\r\n        //let status = props.getUrlParam('status');\r\n        //按钮的显示状态\r\n        if(status === 'orgmanageadd' || status === 'orgmanageedit'){\r\n            props.button.setButtonVisible(['orgmanagesave','orgmanagecancel'],true);\r\n            props.button.setButtonVisible(['orgmanageadd','orgmanageedit','orgmanagerefresh','orgmanagedel'],false);\r\n        }else{\r\n            props.button.setButtonVisible(['orgmanagesave','orgmanagecancel'],false);\r\n            props.button.setButtonVisible(['orgmanageadd','orgmanageedit','orgmanagerefresh','orgmanagedel'],true);\r\n        }\r\n    }\r\n    \r\n    //组织主管按钮点击事件\r\n    onOrgManageButtonClick(props,id) {\r\n        \r\n        let that = this;\r\n        switch (id) {\r\n            case 'orgmanageadd':\r\n                let num =  props.editTable.getNumberOfRows('orgmanager'); //获取列表总行数\r\n                props.editTable.addRow('orgmanager',num,true);\r\n                props.editTable.setStatus('orgmanager','edit');\r\n                this.orgManageButtonState(props,'orgmanageadd');\r\n                // this.props.editTable.setValByKeyAndIndex(tableid, num, 'dataoriginflag', {value: '0'});//设置数据来源\r\n                break;\r\n\r\n            case 'orgmanagedel':\r\n                let selectedData=props.editTable.getCheckedRows('orgmanager');\r\n                    if(selectedData.length==0){\r\n                        toast({content:that.state.json['10100ORG-000049'],color:'warning'});/* 国际化处理： 请选择要删除的数据！*/\r\n                        return \r\n                    }\r\n                \r\n                    promptBox({\r\n                        color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                        title: that.state.json['10100ORG-000102'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                        noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                        hasCloseBtn:false,\r\n                        content: that.state.json['10100ORG-000009'],/* 国际化处理： 您确定要删除吗？*/\r\n                        beSureBtnClick: () =>{\r\n                            let indexArr=[];\r\n                            selectedData.forEach((val) => {\r\n                                indexArr.push(val.index);\r\n                            });\r\n                            props.editTable.deleteTableRowsByIndex('orgmanager', indexArr);\r\n\r\n                            //过滤无效行\r\n                            props.editTable.filterEmptyRows('orgmanager',['cuserid']);\r\n                            var tableData = props.editTable.getChangedRows('orgmanager');   //保存时，只获取改变的数据行而不是table的所有数据行，减少数据传输\r\n                            if(!tableData || tableData.length === 0) return;\r\n                            var\tpk_org = props.getUrlParam('pk_org');\r\n                            if(undefined == pk_org){\r\n                                pk_org = getDefData('orgunit_pk_org', this.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n                            }\r\n                            tableData.map((obj)=>{\r\n                                obj.values.pk_org.value = pk_org;\r\n                            })\r\n                            \r\n                            var data = {\r\n                                pageid:'10100ORG_orgmanager',\r\n                                model : {\r\n                                    areaType: \"table\",\r\n                                    pageinfo: null,\r\n                                    rows: []\r\n                                }\r\n                            };\r\n                            data.model.rows = tableData;\r\n                            ajax({\r\n                                url :'/nccloud/uapbd/org/orgmanagesavequery.do',\r\n                                data:data,\r\n                                success : (res) => {\r\n                                    if(res.success){\r\n                                        //保存完设置为浏览态\r\n                                    if(res.data){\r\n                                        props.editTable.setTableData('orgmanager',res.data.orgmanager);\r\n                                    }else{\r\n                                        props.editTable.setTableData('orgmanager',{rows: []});\r\n                                        }\r\n                                        toast({title : that.state.json['10100ORG-000010'],color : 'success'});/* 国际化处理： 删除成功！*/\r\n                                        this.orgManageButtonState(props,'orgmanagedel');\r\n                                    }\r\n                                }\r\n                            });\r\n                        }   \r\n                    })\r\n                    // props.modal.show('delete',{\r\n                    //     title:'提示',\r\n                    //     content: \"您确定要删除吗？\",\r\n                    //     noFooter : false, //是否需要底部按钮,默认true\r\n                    //     userControl:true,//自己控制什么时候关闭窗口\r\n                    //     beSureBtnClick:() =>{\r\n                    //         let indexArr=[];\r\n                    //         selectedData.forEach((val) => {\r\n                    //             indexArr.push(val.index);\r\n                    //         });\r\n                    //         props.editTable.deleteTableRowsByIndex('orgmanager', indexArr);\r\n\r\n                    //         //过滤无效行\r\n                    //         props.editTable.filterEmptyRows('orgmanager',['cuserid']);\r\n                    //         var tableData = props.editTable.getChangedRows('orgmanager');   //保存时，只获取改变的数据行而不是table的所有数据行，减少数据传输\r\n                    //         if(!tableData || tableData.length === 0) return;\r\n                    //         var\tpk_org = props.getUrlParam('pk_org');\r\n                    //         if(undefined == pk_org){\r\n                    //             pk_org = getDefData('orgunit_pk_org', this.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n                    //         }\r\n                    //         tableData.map((obj)=>{\r\n                    //             obj.values.pk_org.value = pk_org;\r\n                    //         })\r\n                            \r\n                    //         var data = {\r\n                    //             pageid:'10100ORG_orgmanager',\r\n                    //             model : {\r\n                    //                 areaType: \"table\",\r\n                    //                 pageinfo: null,\r\n                    //                 rows: []\r\n                    //             }\r\n                    //         };\r\n                    //         data.model.rows = tableData;\r\n                    //         ajax({\r\n                    //             url :'/nccloud/uapbd/org/orgmanagesavequery.do',\r\n                    //             data:data,\r\n                    //             success : (res) => {\r\n                    //                 if(res.success){\r\n                    //                     toast({content : \"删除成功\",color : 'success'});\r\n                    //                     this.orgManageButtonState(props,'orgmanagedel');\r\n                    //                 }\r\n                    //             }\r\n                    //         });\r\n                    //     }\r\n                    // });\r\n\r\n                break;\r\n            case 'orgmanageedit':\r\n                props.editTable.setStatus('orgmanager', 'edit');\r\n                this.orgManageButtonState(props,'orgmanageedit');\r\n                // this.props.editTable.setValByKeyAndIndex(tableid, num, 'dataoriginflag', {value: '0'});//设置数据来源\r\n                break;\r\n            case 'orgmanagesave':\r\n                this.onSaveOrgManager();\r\n                // this.props.editTable.setValByKeyAndIndex(tableid, num, 'dataoriginflag', {value: '0'});//设置数据来源\r\n                break;\r\n            case 'orgmanagecancel':\r\n                promptBox({\r\n                    color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                    title: that.state.json['10100ORG-000100'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                    noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                    hasCloseBtn:false,\r\n                    content: that.state.json['10100ORG-000002'],/* 国际化处理： 您确定要取消吗？*/\r\n                    beSureBtnClick: () =>{\r\n                        ajax({\r\n                            url :'/nccloud/uapbd/org/orgmanagerquery.do',\r\n                            data:{pk_org:getDefData('orgunit_pk_org', this.config.datasource)},\r\n                            success : (res) => {\r\n                                if(res.success){\r\n                                    \r\n                                    if(res.data){\r\n                                        props.editTable.setTableData('orgmanager',res.data.orgmanager);\r\n                                    }\r\n                                    this.orgManageButtonState(props,'orgmanagerefresh');\r\n                                    props.editTable.cancelEdit('orgmanager');\r\n                                    //props.form.setAllFormValue({['financeorg_v']:res.data['financeorg_v']});\r\n                                }\r\n                            }\r\n                        });\r\n                        //保存完设置为浏览态\r\n                        props.editTable.setStatus('orgmanager', 'browse');\r\n                    }   \r\n                })\r\n                break;\r\n            case 'orgmanagerefresh':\r\n                ajax({\r\n                    url :'/nccloud/uapbd/org/orgmanagerquery.do',\r\n                    data:{pk_org:getDefData('orgunit_pk_org', this.config.datasource)},\r\n                    success : (res) => {\r\n                        if(res.success){\r\n                            \r\n                            if(res.data){\r\n                                props.editTable.setTableData('orgmanager',res.data.orgmanager);\r\n                            }\r\n                            toast({title:that.state.json['10100ORG-000041'],color:\"success\"});/* 国际化处理： 刷新成功！*/\r\n                            this.orgManageButtonState(props,'orgmanagerefresh');\r\n                            //props.form.setAllFormValue({['financeorg_v']:res.data['financeorg_v']});\r\n                        }\r\n                    }\r\n                });\r\n                //保存完设置为浏览态\r\n                props.editTable.setStatus('orgmanager', 'browse');\r\n                //props.editTable.setStatus('orgmanager','edit');\r\n                break;\r\n        }\r\n    }\r\n\r\n    onTableModelAfterEdit(props, moduleId, key, value, changedrows, record, index){\r\n        if(value.refpk){\r\n            ajax({\r\n                url :'/nccloud/uapbd/org/userquery.do',\r\n                data:{cuserid:value.refpk},\r\n                success : (res) => {\r\n                    if(res.success){\r\n        \r\n                        if(res.data){\r\n                            if(undefined != res.data.orgmanager.rows[0].values['username']){\r\n                                props.editTable.setValByKeyAndIndex('orgmanager', record, 'username', {value: res.data.orgmanager.rows[0].values.username.value});\r\n                            }\r\n                            if(undefined != res.data.orgmanager.rows[0].values['psncode']){\r\n                                props.editTable.setValByKeyAndIndex('orgmanager', record, 'psncode', {value: res.data.orgmanager.rows[0].values.psncode.value});\r\n                            }\r\n                            if(undefined != res.data.orgmanager.rows[0].values['psnname']){\r\n                                props.editTable.setValByKeyAndIndex('orgmanager', record, 'psnname', {value: res.data.orgmanager.rows[0].values.psnname.value});\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    dealrelationformstatus (){\r\n        let props = this.props;\r\n        let state = this.state;\r\n        //财务职能开启\r\n        if(state.childstate.financeorg){\r\n            //开启财务职能的时候，需要把库存的采购业务委托关系中的默认结算财务组织和默认应收组织设置为不可编辑\r\n            props.form.setFormItemsDisabled('stockorgrelation',{'default2':true,'default1':true});//设置表单项不可用\r\n            //开启财务职能的时候，需要把库存的所属财务组织为不可编辑\r\n            props.form.setFormItemsDisabled('stockorg',{'pk_financeorg':true});//设置表单项不可用\r\n            //开启财务职能的时候，需要把销售的默认结算财务组织和默认应收组织设置为不可编辑\r\n            props.form.setFormItemsDisabled('saleorgrelation',{'default2':true,'default1':true});//设置表单项不可用\r\n            let meta1 = props.meta.getMeta();\r\n            let pk_financeorg1 = meta1['stockorg'].items.find((item) => item.attrcode == 'pk_financeorg');\r\n            pk_financeorg1.required = false;\r\n            pk_financeorg1.disabled = true; \r\n            props.meta.setMeta(meta1); \r\n        }\r\n        //开启采购职能\r\n        if(state.childstate.purchaseorg){\r\n            //开启采购职能的时候，需要把库存的采购业务委托关系中的默认采购组织设置为不可编辑\r\n            props.form.setFormItemsDisabled('stockorgrelation',{'target':true});//设置表单项不可用\r\n        }\r\n        //开启库存职能\r\n        if(state.childstate.stockorg){\r\n            //开启库存职能的时候，需要把维修的维修库存业务委托关系设置为不可编辑\r\n            props.form.setFormItemsDisabled('maintainstockrelation',{'target':true});//设置表单项不可用\r\n            //开启库存职能的时候，需要把项目的项目库存业务委托关系设置为不可编辑\r\n            props.form.setFormItemsDisabled('itemstockrelation',{'target':true});//设置表单项不可用\r\n            //开启库存职能的时候，需要把销售的默认库存组织设置为不可编辑\r\n            props.form.setFormItemsDisabled('saleorgrelation',{'target':true});//设置表单项不可用\r\n        }\r\n        //开启物流职能\r\n        if(state.childstate.trafficorg){\r\n             //开启物流职能的时候，需要把库存的物流业务委托关系设置为不可编辑\r\n             props.form.setFormItemsDisabled('stocktrafficrelation',{'target':true});//设置表单项不可用\r\n        }\r\n        //开启质检职能\r\n        if(state.childstate.qccenter){\r\n            //开启质检职能的时候，需要把库存的质检业务委托关系设置为不可编辑\r\n            props.form.setFormItemsDisabled('stockqccenterrelation',{'target':true});//设置表单项不可用\r\n        }\r\n       //开启资产职能\r\n       if(state.childstate.assetorg){\r\n            //开启资产职能的时候，需要把库存的资产库存业务委托关系设置为不可编辑\r\n            props.form.setFormItemsDisabled('stockassetrelation',{'target':true});//设置表单项不可用\r\n        }\r\n        //开启维修职能\r\n       if(state.childstate.maintainorg){\r\n            //开启维修职能的时候，需要把资产的资产维修业务委托关系设置为不可编辑\r\n            props.form.setFormItemsDisabled('assetorgmaintainrelation',{'target':true});//设置表单项不可用\r\n        }\r\n        //开启利润中心职能\r\n       if(state.childstate.liabilitycenter){\r\n            //开启利润中心职能的时候，需要把库存的采购业务委托关系中的默认利润中心设置为不可编辑\r\n            props.form.setFormItemsDisabled('stockorgrelation',{'default3':true});//设置表单项不可用\r\n            //开启利润中心职能的时候，需要把销售的默认利润中心设置为不可编辑\r\n            props.form.setFormItemsDisabled('saleorgrelation',{'default3':true});//设置表单项不可用\r\n        }\r\n    }\r\n\r\n    onMouseEnterSortTreeEve( key ) {\r\n        let obj = {\r\n            delIcon:false,\r\n            editIcon:false,\r\n            addIcon:false\r\n        };\r\n        this.props.syncTree.hideIcon( 'orgunittree', key, obj )\r\n    }\r\n\r\n    //选择左树加载右表数据 控制启用停用按钮\r\n    onSelectEve (data, item, isChange) {\r\n        if(isChange){\r\n            //加载成员树表\r\n            let that = this;\r\n            ajax({\r\n                url:'/nccloud/uapbd/org/querydept.do',\r\n                data:{pk_org: data},\r\n                success:function(res){\r\n                    if(res.success){\r\n                        if(res.data){\r\n                            //后台返回的是表格的数据  需要构造成树状表的数据\r\n                            let datas =  that.props.treeTableManyCol.createNewData(res.data.orgdept.rows);\r\n                            //that.props.treeTableManyCol.EmptyAllFormValue(rightTreeTable);\r\n                            //根据树状表的数据构造树表\r\n\r\n                            that.props.treeTableManyCol.initTreeTableData('orgdept',datas,'refpk');\r\n                        }else{\r\n\r\n                            that.props.treeTableManyCol.emptyAllData('orgdept');\r\n                        }\r\n\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n\r\n    /**\r\n     * 设置业务单元根节点\r\n     * @param data\r\n     * @returns {*}\r\n     */\r\n    onSetUnitOrgRoot(){\r\n        let that = this;\r\n        let pk_org = this.props.form.getFormItemsValue('org','pk_org').value;\r\n        if(pk_org == undefined){\r\n            pk_org = getDefData('orgunit_pk_org', this.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n        }\r\n        let type = 'orgroot';\r\n\r\n        ajax({\r\n            url:'/nccloud/uapbd/org/setroot.do',\r\n            data:{pk_org: pk_org,type:type},\r\n            success:function(res){\r\n                if(res.success){\r\n                    toast({ color: 'success', title: that.state.json['10100ORG-000048'] });/* 国际化处理： 设置成功！*/\r\n                    this.props.modal.close('setorgroot');\r\n                }\r\n            },\r\n            error:(result)=>{\r\n                toast({content:result.message,title:that.state.json['10100ORG-000051'], color: 'warning'});/* 国际化处理： 警告*/\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 设置行政组织根节点\r\n     * @param data\r\n     * @returns {*}\r\n     */\r\n    onSetAdminOrgRoot(){\r\n        let that = this;\r\n        let pk_org = that.props.form.getFormItemsValue('org','pk_org').value;\r\n        if(pk_org == undefined){\r\n            pk_org = getDefData('orgunit_pk_org', that.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n        }\r\n        let type = 'adminroot';\r\n\r\n        ajax({\r\n            url:'/nccloud/uapbd/org/setroot.do',\r\n            data:{pk_org: pk_org,type:type},\r\n            success:function(res){\r\n                if(res.success){\r\n                    toast({ color: 'success', title: that.state.json['10100ORG-000048'] });/* 国际化处理： 设置成功！*/\r\n                    that.props.modal.close('setadminorgroot');\r\n                }\r\n            },\r\n            error:(result)=>{\r\n                toast({content:result.message,title:that.state.json['10100ORG-000051'], color: 'warning'});/* 国际化处理： 警告*/\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 设置法人公司根节点\r\n     * @param data\r\n     * @returns {*}\r\n     */\r\n    onSetCorpRoot(){\r\n        let that = this;\r\n        let pk_org = that.props.form.getFormItemsValue('org','pk_org').value;\r\n        if(pk_org == undefined){\r\n            pk_org = getDefData('orgunit_pk_org', that.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n        }\r\n        let type = 'corproot';\r\n\r\n        ajax({\r\n            url:'/nccloud/uapbd/org/setroot.do',\r\n            data:{pk_org: pk_org,type:type},\r\n            success:function(res){\r\n                if(res.success){\r\n                    toast({ color: 'success', title: that.state.json['10100ORG-000048'] });/* 国际化处理： 设置成功！*/\r\n                    that.props.modal.close('setcorproot');\r\n                }\r\n            },\r\n            error:(result)=>{\r\n                toast({content:result.message,title:that.state.json['10100ORG-000051'], color: 'warning'});/* 国际化处理： 警告*/\r\n            }\r\n        });\r\n    }\r\n\r\n    onHideUploader(){\r\n        this.setState({\r\n            showlogoUploader: false,\r\n            showUploader: false,\r\n        })\r\n    }\r\n\r\n    beforeUpload(billId, fullPath, file, fileList) {  \r\n        // 参数：单据id，当前选中分组path、当前上传文件对象，当前文件列表\r\n        let that = this;\r\n        if(fileList.length > 0){\r\n            toast({content:that.state.json['10100ORG-000052'],color:'warning'});/* 国际化处理： logo只允许上传一张图片，请先删除原图片！*/\r\n            return false;\r\n        }\r\n        let isJPG = false;\r\n        if(file.type === 'image/jpeg' || file.type === 'image/png'){\r\n            isJPG = true;\r\n        }\r\n\r\n        if (!isJPG) {\r\n            toast({content:that.state.json['10100ORG-000053'],color:'warning'});/* 国际化处理： 只支持jpg,png格式图片！*/\r\n        }\r\n        const isLt2M = file.size / 1024 / 1024 < 2;\r\n        if (!isLt2M) {\r\n            toast({content:that.state.json['10100ORG-000054'],color:'warning'});/* 国际化处理： 上传大小小于2M！*/\r\n        }\r\n        return isJPG && isLt2M;\r\n        // 备注： return false 不执行上传  return true 执行上传\r\n    }\r\n\r\n    afterInnercustEvent(props, moduleId, key, value,oldValue){\r\n        let meta = props.meta.getMeta();\r\n        meta['innercustsupp'].items.map((obj) => {\r\n            if(obj.attrcode == 'pk_org'){\r\n                //需要根据管控模式判断客商和供应商有没有对应的节点\r\n                ajax({\r\n                    url:'/nccloud/uapbd/org/checknodeoperapower.do',\r\n                    data:{pk_org: value.value},\r\n                    success:(res)=>{\r\n                        if(res.success){\r\n                            //过滤客户基本分类\r\n                            if(res.data){\r\n                                toast({content:res.data,color:'warning'});\r\n                            }\r\n                            meta['innercustsupp'].items.find((item) => item.attrcode == 'pk_custclass').queryCondition =() =>{\r\n                                return {\r\n                                    pk_org:value.value\r\n                                }\r\n                            }\r\n                            //过滤供应商档案\r\n                            meta['innercustsupp'].items.find((item) => item.attrcode == 'pk_supplierclass').queryCondition =() =>{\r\n                                return {\r\n                                    pk_org:value.value\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                });\r\n            }\r\n        })\r\n        props.meta.setMeta(meta);\r\n    }\r\n\r\n    onRowDoubleClick(record,props){\r\n    \r\n        let config = {\r\n            pk_vid:record.pk_vid.value,\r\n            pk_org:record.pk_org.value,\r\n            pageTitle:this.state.json['10100ORG-000104'],\r\n            pagecode:'10100ORG_orgcardversion',\r\n            appcode:'10100ORG',\r\n            appid:'0001Z010000000001NOH',\r\n            type:'version',\r\n\r\n            subGrid:'org_v',\r\n            subGrid1:'corp_v',\r\n            subGrid2:'hrorg_v',\r\n            subGrid3:'financeorgcard_v',\r\n            subGrid4:'fundorg_v',\r\n            subGrid5:'purchaseorg_v',\r\n            subGrid6:'salesorg_v',\r\n            subGrid61:'saleorgrelation_v',\r\n            subGrid7:'stockorg_v',\r\n            subGrid71:'stocktrafficrelation_v',\r\n            subGrid72:'stockqccenterrelation_v',\r\n            subGrid73:'stockorgrelation_v',\r\n            subGrid74:'stockassetrelation_v',\r\n            subGrid8:'trafficorg_v',\r\n            subGrid9:'qccenter_v',\r\n            subGrid10:'assetorg_v',\r\n            subGrid101:'assetorgmaintainrelation_v',\r\n            subGrid11:'maintainorg_v',\r\n            subGrid111:'maintainstockrelation_v',\r\n            subGrid12:'liabilitycenter_v',\r\n            subGrid13:'itemorg_v',\r\n            subGrid131:'itemstockrelation_v',\r\n            subGrid14:'planbudget_v',\r\n            subGrid15:'adminorg_v',\r\n            subGrid16:'factory_v',\r\n            subGrid17:'plancenter_v'\r\n        };\r\n\r\n        this.props.modal.show('orgversion',{\r\n            content: <Orgunitversion {...{config:config}}/>,\r\n            userControl:false//自己控制什么时候关闭窗口\r\n            //beSureBtnClick:this.onSetUnitOrgRoot.bind(this)\r\n        }) \r\n    }\r\n\r\n    pageInfo(props, pk){\r\n        let that = this;\r\n        //页面跳转的时候，需要把前面缓存form清除掉，然后在赋值，不然保存的时候可能获取到前一个缓存的数据\r\n        props.config.orgtypearr.map((obj)=>{\r\n            that.state.childstate[obj.subGrid] = false;\r\n            that.props.form.EmptyAllFormValue(obj.subGrid);\r\n            obj.isshow = false;\r\n        })\r\n        props.setUrlParam({\r\n            status: 'browse',\r\n            pagecode:props.config.pagecode,\r\n            pk_org: pk\r\n        })\r\n        setDefData('orgunit_btnopr', that.config.datasource,'goto');\r\n        this.initData(pk);\r\n        this.onRefresh(pk);\r\n        //如果是集团管理员，设置根节点，需要单独控制一下\r\n        if(getDefData('orgunit_setroot',props.config.datasource)){\r\n            let reqData = [\r\n                {\r\n                    rqUrl: '/uapbd/org/haverootorgunit.do',\r\n                    rqCode: 'haverootorgunit'\r\n                },\r\n                {\r\n                    rqUrl: '/uapbd/org/haveadminrootorgunit.do',\r\n                    rqCode: 'haveadminrootorgunit'\r\n                },\r\n                {\r\n                    rqUrl: '/uapbd/org/havecorprootorgunit.do',\r\n                    rqCode: 'havecorprootorgunit'\r\n                }\r\n            ];\r\n            ajax({\r\n                url : \"/nccloud/platform/pub/mergerequest.do\",\r\n                data : reqData,\r\n                success : (res) => {\r\n                    if(getDefData('orgunit_setroot',props.config.datasource)){\r\n                        \r\n                        //如果是集团管理员,设置根节点才可以见\r\n                        //当没有行政组织或者法人公司的时候，设置成根行政组织和设置成根法人公司不可用\r\n                        let adminroot = res.data.haveadminrootorgunit;\r\n    \r\n                        if(!adminroot.haveroot){\r\n                            props.button.setButtonDisabled(['setadminorgroot'],true);\r\n                        }else{\r\n                            if(pk == adminroot.pk){\r\n                                //如果勾选的是根节点，则对应的设置根节点按钮不可以使用\r\n                                props.button.setButtonDisabled(['setadminorgroot'],true);\r\n                            }else{\r\n                                props.button.setButtonDisabled(['setadminorgroot'],false);\r\n                            }\r\n                            \r\n                        }\r\n    \r\n                        let corproot = res.data.havecorprootorgunit;\r\n                        if(!corproot.haveroot){\r\n                            props.button.setButtonDisabled(['setcorproot'],true);\r\n                        }else{\r\n                            if(pk == corproot.pk){\r\n                                props.button.setButtonDisabled(['setcorproot'],true);\r\n                            }else{\r\n                                props.button.setButtonDisabled(['setcorproot'],false);\r\n                            }\r\n                            \r\n                        }\r\n    \r\n                        let orgroot = res.data.haverootorgunit;\r\n    \r\n                        if(!orgroot.haveroot){\r\n                            props.button.setButtonDisabled(['setorgroot'],true);\r\n                        }else{\r\n                            if(pk == orgroot.pk){\r\n                                //如果勾选的是根节点，则对应的设置根节点按钮不可以使用\r\n                                props.button.setButtonDisabled(['setorgroot'],true);\r\n                            }else{\r\n                                props.button.setButtonDisabled(['setorgroot'],false);\r\n                            }\r\n                            \r\n                        }\r\n                    }else{\r\n                        props.button.setButtonVisible(['setroot-2'],false);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(!this.state.inlt)return '';\r\n        let { cardTable, form, button, modal, cardPagination,table,editTable ,DragWidthCom,syncTree,treeTableManyCol} = this.props;\r\n        const {createCardPagination} = cardPagination;\r\n        let buttons = this.props.button.getButtons();\r\n        let { createForm } = form;\r\n        let { createCardTable } = cardTable;\r\n        let { createButtonApp } = button;\r\n        let { createModal } = modal;\r\n        let { createSimpleTable } = table;\r\n        let {createSyncTree} = syncTree;\r\n        let { treeTableCol } = treeTableManyCol;\r\n        const { createEditTable } = editTable;\r\n\r\n        \r\n        let status = this.props.getUrlParam('status');\r\n\r\n        if(status == undefined){\r\n            status = 'browse';\r\n        }\r\n\r\n        return (\r\n            <div  id='nc-bill-card'>\r\n                <div className=\"nc-bill-card orgunit-card\">\r\n                    <NCAffix>\r\n                        <div className='nc-bill-header-area'>\r\n                            {status === 'browse'&&\r\n                                <NCBackBtn className='title-search-detail'\r\n                                        onClick={ buttonClick.bind(this,this.config.formId,this.props,'back') }></NCBackBtn>}\r\n                                        <div className=\"header-title-search-area\">\r\n                                            <h2 className='title-search-detail'>{this.state.json['10100ORG-000098']}</h2>\r\n                                        </div>\r\n                                \r\n                            {/* {status=='browse'?<div className='header-button-cardPagination'>\r\n\t\t\t\t\t\t\t\t\t{createCardPagination({\thandlePageInfoChange: pageInfoClick.bind(this)})}\r\n\t\t\t\t\t\t\t\t\t</div>:''} */}\r\n                            <div className=\"header-button-area\">\r\n                                {createButtonApp({\r\n                                    area: 'header-button-area',//按钮注册中的按钮区域\r\n                                    //buttonLimit: 5,\r\n                                    onButtonClick:buttonClick.bind(this,this.config.formId)\r\n                                    //popContainer: document.querySelector('.header-button-area')\r\n                                })}\r\n                                {this.state.showSubGrid ? <div className='header-button-cardPagination'>\r\n                                {createCardPagination({\r\n                                    handlePageInfoChange: this.pageInfo.bind(this),\r\n                                    urlPkname:'pk_org',\r\n                                    dataSource: this.config.datasource,\r\n                                })}\r\n                            </div> : ''}\r\n                                {/*分页 */}\r\n                                 {/*{createCardPagination({\r\n                                    handlePageInfoChange:pageInfoClick.bind(this)\r\n                                })} */}\r\n                                \r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </NCAffix>\r\n\r\n                    <NCAnchor>\r\n                    {this.state.orgtypefloor.map((obj)=>{\r\n                        return (\r\n                        <NCScrollLink\r\n                            to={obj.subGrid}\r\n                            spy={true}\r\n                            smooth={true}\r\n                            duration={300}\r\n                            offset={-100}\r\n                        >\r\n                            <p>{obj.subName}</p>\r\n                        </NCScrollLink>);\r\n                    })}\r\n                    </NCAnchor>\r\n                \r\n\r\n                    <NCScrollElement style={{marginBottom:'5px'}} name={this.config.formId}>\r\n                    <div className=\"nc-bill-form-area\">\r\n                        {createForm(this.config.formId, {\r\n                            expandArr:['orgtype'],\r\n                            onBeforeEvent:this.beforeEvent.bind(this),\r\n                            onAfterEvent: this.afterEvent.bind(this)\r\n                        })}\r\n                    </div>\r\n                    </NCScrollElement>\r\n                    {this.state.childstate.corp?(\r\n                    <NCScrollElement name={this.config.subGrid1}>\r\n                        <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                        {this.state.buttonshow ?(\r\n                        <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000064']/* 国际化处理： 法人公司*/}\r\n                                    <NCSwitch\r\n                                    id = 'orgShowDisable'\r\n                                    checked={this.state.childstate.corp}\r\n                                    onChange={this.showOffChange.bind(this,this.config.subGrid1)}\r\n                                    ></NCSwitch>\r\n                                </span>\r\n                        </NCCol> \r\n                        ):('')}   \r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.corp}>\r\n                            <div>\r\n                            {createButtonApp({\r\n                                area: 'corporgtype-button-area',\r\n                                buttonLimit: 5,\r\n                                onButtonClick: oprButtonClick.bind(this,this.config.subGrid1),\r\n                                popContainer: document.querySelector('.childline-button-area')\r\n                            })}\r\n                            {createForm(this.config.subGrid1, {\r\n                                onBeforeEvent:this.beforeEvent.bind(this),\r\n                                onAfterEvent: this.afterEvent.bind(this)\r\n                            })}\r\n                            </div>\r\n                            </NCCollapse>\r\n                        </div>\r\n                    </NCScrollElement>\r\n                    ):('')\r\n                    }\r\n                    {this.state.childstate.hrorg?(\r\n                        <NCScrollElement name={this.config.subGrid2}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\">\r\n                                    {this.state.json['10100ORG-000065']/* 国际化处理： 人力资源*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.hrorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid2)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                        ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.hrorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'hrorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid2),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid2, {\r\n                                    onBeforeEvent:this.beforeEvent.bind(this),\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.financeorg?(\r\n                        <NCScrollElement name={this.config.subGrid3}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000066']/* 国际化处理： 财务*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.financeorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid3)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.financeorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'financeorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid3),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid3, {\r\n                                    onBeforeEvent:this.beforeEvent.bind(this),\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.fundorg?(\r\n                        <NCScrollElement name={this.config.subGrid4}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000067']/* 国际化处理： 资金*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.fundorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid4)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.fundorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'fundorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid4),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid4, {\r\n                                    onBeforeEvent:this.beforeEvent.bind(this),\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.purchaseorg?(\r\n                        <NCScrollElement name={this.config.subGrid5}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                   { this.state.json['10100ORG-000068']/* 国际化处理： 采购*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.purchaseorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid5)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.purchaseorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'purchaseorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid5),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid5, {\r\n                                    onBeforeEvent:this.beforeEvent.bind(this),\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.saleorg?(\r\n                        <NCScrollElement name={this.config.subGrid6}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000069']/* 国际化处理： 销售*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.saleorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid6)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.saleorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'saleorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid6),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid6, {\r\n                                    onBeforeEvent:this.beforeEvent.bind(this),\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                {this.state.buttonshow ?(\r\n                                <div class=\"operator operator-tit\">\r\n                                    {this.state.json['10100ORG-000070']/* 国际化处理： 销售业务委托关系*/}\r\n                                    <span className='wuliu'></span>\r\n                                </div>\r\n                                ):('')}\r\n                                {createForm(this.config.subGrid61, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                \r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.stockorg?(\r\n                        <NCScrollElement name={this.config.subGrid7}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000071']/* 国际化处理： 库存*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.stockorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid7)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.stockorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'stockorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid7),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                \r\n                                {createForm(this.config.subGrid7, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                {this.state.buttonshow ?(\r\n                                <div class=\"operator operator-tit\">\r\n                                    {this.state.json['10100ORG-000072']/* 国际化处理： 物流业务委托关系*/}\r\n                                    <span className='wuliu'></span>\r\n                                </div>\r\n                                ):('')}\r\n                                {createForm(this.config.subGrid71, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                {this.state.buttonshow ?(\r\n                                <div class=\"operator operator-tit\">\r\n                                    {this.state.json['10100ORG-000073']/* 国际化处理： 质检业务委托关系*/}\r\n                                    <span className='wuliu'></span>\r\n                                </div>\r\n                                ):('')}\r\n                                {createForm(this.config.subGrid72, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                {this.state.buttonshow ?(\r\n                                <div class=\"operator operator-tit\">\r\n                                    {this.state.json['10100ORG-000074']/* 国际化处理： 采购业务委托关系*/}\r\n                                    <span className='wuliu'></span>\r\n                                </div>\r\n                                ):('')}\r\n                                {createForm(this.config.subGrid73, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                {this.state.buttonshow ?(\r\n                                <div class=\"operator operator-tit\">\r\n                                    {this.state.json['10100ORG-000075']/* 国际化处理： 资产库存业务委托关系*/}\r\n                                    <span className='wuliu'></span>\r\n                                </div>\r\n                                ):('')}\r\n                                {createForm(this.config.subGrid74, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                \r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.trafficorg?(\r\n                        <NCScrollElement name={this.config.subGrid8}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000076']/* 国际化处理： 物流*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.trafficorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid8)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.trafficorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'trafficorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid8),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid8, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.qccenter?(\r\n                        <NCScrollElement name={this.config.subGrid9}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            <NCCol>\r\n                            {this.state.buttonshow ?(\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000077']/* 国际化处理： 质检*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.qccenter}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid9)}\r\n                                        ></NCSwitch>\r\n                                </span>):('')\r\n                            }\r\n                            </NCCol>\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.qccenter}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'qccenterorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid9),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid9, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.assetorg?(\r\n                        <NCScrollElement name={this.config.subGrid10}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000078']/* 国际化处理： 资产*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.assetorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid10)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.assetorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'assetorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid10),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid10, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                {this.state.buttonshow ?(\r\n                                <div class=\"operator operator-tit\">\r\n                                    {this.state.json['10100ORG-000079']/* 国际化处理： 资产维修业务委托关系*/}\r\n                                    <span className='wuliu'></span>\r\n                                </div>\r\n                                ):('')}\r\n                                {createForm(this.config.subGrid101, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.maintainorg?(\r\n                        <NCScrollElement name={this.config.subGrid11}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000080']/* 国际化处理： 维修*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.maintainorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid11)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.maintainorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'maintainorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid11),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid11, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                {this.state.buttonshow ?(\r\n                                <div class=\"operator operator-tit\">\r\n                                    {this.state.json['10100ORG-000081']/* 国际化处理： 维修库存业务委托关系*/}\r\n                                    <span className='wuliu'></span>\r\n                                </div>\r\n                                ):('')}\r\n                                {createForm(this.config.subGrid111, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                \r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.liabilitycenter?(\r\n                        <NCScrollElement name={this.config.subGrid12}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000003']/* 国际化处理： 利润中心*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.liabilitycenter}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid12)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.liabilitycenter}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'liabilitycenterorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid12),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid12, {\r\n                                    onBeforeEvent:this.beforeEvent.bind(this),\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.itemorg?(\r\n                        <NCScrollElement name={this.config.subGrid13}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                            <NCCol>\r\n                                <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                    {this.state.json['10100ORG-000082']/* 国际化处理： 项目*/}\r\n                                    <NCSwitch \r\n                                        id = 'orgShowDisable'\r\n                                        checked={this.state.childstate.itemorg}\r\n                                        onChange={this.showOffChange.bind(this,this.config.subGrid13)}\r\n                                        ></NCSwitch>\r\n                                </span>\r\n                            </NCCol>\r\n                            ):('')}\r\n                            <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.itemorg}>\r\n                            <div>\r\n                                {createButtonApp({\r\n                                    area: 'itemorgorgtype-button-area',\r\n                                    buttonLimit: 5,\r\n                                    onButtonClick: oprButtonClick.bind(this,this.config.subGrid13),\r\n                                    popContainer: document.querySelector('.childline-button-area')\r\n                                })}\r\n                                {createForm(this.config.subGrid13, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                {this.state.buttonshow ?(\r\n                                <div class=\"operator operator-tit\">\r\n                                    {this.state.json['10100ORG-000083']/* 国际化处理： 项目库存业务委托关系*/}\r\n                                    <span className='wuliu'></span>\r\n                                </div>\r\n                                ):('')}\r\n                                {createForm(this.config.subGrid131, {\r\n                                    onAfterEvent: this.afterEvent.bind(this)\r\n                                })}\r\n                                \r\n                            </div>\r\n                            </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.planbudget?(\r\n                        <NCScrollElement name={this.config.subGrid14}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                                <NCCol>\r\n                                    <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                        {this.state.json['10100ORG-000084']/* 国际化处理： 预算*/}\r\n                                        <NCSwitch \r\n                                            id = 'orgShowDisable'\r\n                                            checked={this.state.childstate.planbudget}\r\n                                            onChange={this.showOffChange.bind(this,this.config.subGrid14)}\r\n                                            ></NCSwitch>\r\n                                    </span>\r\n                                </NCCol>\r\n                            ):('')}\r\n                                <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.planbudget}>\r\n                                    <div>\r\n                                        {createButtonApp({\r\n                                            area: 'planbudgetorgtype-button-area',\r\n                                            buttonLimit: 5,\r\n                                            onButtonClick: oprButtonClick.bind(this,this.config.subGrid14),\r\n                                            popContainer: document.querySelector('.childline-button-area')\r\n                                        })}\r\n                                        {createForm(this.config.subGrid14, {\r\n                                            onAfterEvent: this.afterEvent.bind(this)\r\n                                        })}\r\n                                    </div>\r\n                                </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.adminorg?(\r\n                        <NCScrollElement name={this.config.subGrid15}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                                <NCCol>\r\n                                    <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                        {this.state.json['10100ORG-000085']/* 国际化处理： 行政*/}\r\n                                        <NCSwitch \r\n                                            id = 'orgShowDisable'\r\n                                            checked={this.state.childstate.adminorg}\r\n                                            onChange={this.showOffChange.bind(this,this.config.subGrid15)}\r\n                                            ></NCSwitch>\r\n                                    </span>\r\n                                </NCCol>\r\n                            ):('')}\r\n                                <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.adminorg}>\r\n                                    <div>\r\n                                        {createButtonApp({\r\n                                            area: 'adminorgorgtype-button-area',\r\n                                            buttonLimit: 5,\r\n                                            onButtonClick: oprButtonClick.bind(this,this.config.subGrid15),\r\n                                            popContainer: document.querySelector('.childline-button-area')\r\n                                        })}\r\n                                        {createForm(this.config.subGrid15, {\r\n                                            onBeforeEvent:this.beforeEvent.bind(this),\r\n                                            onAfterEvent: this.afterEvent.bind(this)\r\n                                        })}\r\n                                    </div>\r\n                                </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    {this.state.childstate.factory?(\r\n                        <NCScrollElement name={this.config.subGrid16}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                                <NCCol>\r\n                                    <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                        {this.state.json['10100ORG-000086']/* 国际化处理： 工厂*/}\r\n                                        <NCSwitch \r\n                                            id = 'orgShowDisable'\r\n                                            checked={this.state.childstate.factory}\r\n                                            onChange={this.showOffChange.bind(this,this.config.subGrid16)}\r\n                                            ></NCSwitch>\r\n                                    </span>\r\n                                </NCCol>\r\n                            ):('')}\r\n                                <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.factory}>\r\n                                    <div>\r\n                                        {createButtonApp({\r\n                                            area: 'factoryorgtype-button-area',\r\n                                            buttonLimit: 5,\r\n                                            onButtonClick: oprButtonClick.bind(this,this.config.subGrid16),\r\n                                            popContainer: document.querySelector('.childline-button-area')\r\n                                        })}\r\n                                        {createForm(this.config.subGrid16, {\r\n                                            onAfterEvent: this.afterEvent.bind(this)\r\n                                        })}\r\n                                    </div>\r\n                                </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    \r\n                    {this.state.childstate.plancenter?(\r\n                        <NCScrollElement name={this.config.subGrid17}>\r\n                            <div className=\"nc-bill-table-area nc-bill-table-list\">\r\n                            {this.state.buttonshow ?(\r\n                                <NCCol>\r\n                                    <span className=\"showOff\" style={{marginLeft:'20px'}}>\r\n                                        {this.state.json['10100ORG-000087']/* 国际化处理： 计划中心*/}\r\n                                        <NCSwitch \r\n                                            id = 'orgShowDisable'\r\n                                            checked={this.state.childstate.plancenter}\r\n                                            onChange={this.showOffChange.bind(this,this.config.subGrid17)}\r\n                                            ></NCSwitch>\r\n                                    </span>\r\n                                </NCCol>\r\n                            ):('')}\r\n                                <NCCollapse style={{marginBottom:'5px'}} in={this.state.childstate.plancenter}>\r\n                                    <div>\r\n                                        {createButtonApp({\r\n                                            area: 'plancenterorgtype-button-area',\r\n                                            buttonLimit: 5,\r\n                                            onButtonClick: oprButtonClick.bind(this,this.config.subGrid17),\r\n                                            popContainer: document.querySelector('.childline-button-area')\r\n                                        })}\r\n                                        {createForm(this.config.subGrid17, {\r\n                                            onAfterEvent: this.afterEvent.bind(this)\r\n                                        })}\r\n                                    </div>\r\n                                </NCCollapse>\r\n                            </div>\r\n                        </NCScrollElement>\r\n                        ):('')\r\n                    }\r\n                    { createModal('org_v',{\r\n                        title:this.state.json['10100ORG-000056'],/* 国际化处理： 版本化*/\r\n                        content:function(){\r\n                            return(\r\n                                <div>\r\n                                    <div className='orgunit-financeorg'>\r\n                                        {createForm('org_v_head')}\r\n                                         <div className=\"nc-singleTable-table-area\">\r\n                                            {createSimpleTable('org_v', {\r\n                                                onRowDoubleClick:this.onRowDoubleClick.bind(this),\r\n                                                showIndex:true\r\n                                        })}</div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }.bind(this)(),\r\n                        userControl:false,//自己控制什么时候关闭窗口\r\n                        noFooter : false, //是否需要底部按钮,默认true\r\n                        beSureBtnClick:this.onSaveVersion.bind(this)\r\n                    }) }\r\n                    { createModal('financeorg_v',{\r\n                        content:function(){\r\n                            return(\r\n                                <div>\r\n                                    <div>\r\n                                        {createForm('financeorg_v')}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }.bind(this)(),\r\n                        userControl:false,//自己控制什么时候关闭窗口\r\n                        noFooter : false, //是否需要底部按钮,默认true\r\n                        beSureBtnClick:this.onSaveFinanceVersion.bind(this)\r\n                    }) }\r\n                    { createModal('orgmanager',{\r\n                        title:this.state.json['10100ORG-000057'],/* 国际化处理： 组织主管*/\r\n                        content:function(){\r\n                            return(\r\n                                <div>\r\n                                    <div style={{height: 45,marginTop: -15}}>\r\n                                        <div style={{position: 'relative',height:'100%'}}>\r\n                                            <div className='orgmanager-button-parent'>\r\n                                                {createButtonApp({\r\n                                                    area: 'orgmanager-button-area',\r\n                                                    buttonLimit: 5,\r\n                                                    onButtonClick: this.onOrgManageButtonClick.bind(this), \r\n                                                    popContainer: document.querySelector('.orgmanager-button-area')\r\n                                                })}\r\n                                            </div>\r\n                                            <span className='orgmanager-button-text'>\r\n                                                {this.state.json['10100ORG-000088']/* 国际化处理： 所属组织*/}:{getDefData('orgunit_name', this.config.datasource)}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                    {createEditTable('orgmanager', {\r\n                                        //onCloseModel:this.onCloseTableModel.bind(this),\r\n                                        //tableModelConfirm:this.onModelConfirm.bind(this),\r\n                                        onAfterEvent:this.onTableModelAfterEdit.bind(this),\r\n                                        //onBeforeEvent:this.onTableModelBeforeEdit.bind(this),\r\n                                        //statusChange: this.gridStatusChange.bind(this),\r\n                                        //selectedChange:this.gridBeChecked.bind(this),\r\n                                        onSelected: ()=>{\r\n                                            let data = this.props.editTable.getCheckedRows('orgmanager');\r\n                                            if(data.length > 0){\r\n                                                this.props.button.setButtonDisabled(['orgmanagedel'],false);\r\n                                            }else{\r\n                                                this.props.button.setButtonDisabled(['orgmanagedel'],true);\r\n                                            }\r\n                                        },\r\n                                        showCheck:true,\r\n                                        showIndex:true\r\n                                    })}\r\n                                </div>\r\n                            )\r\n                        }.bind(this)(),\r\n                        userControl:true,//自己控制什么时候关闭窗口\r\n                        cancelBtnClick: ()=>{//无法控制是否关闭模态框\r\n                            promptBox({\r\n                                color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                                title: this.state.json['10100ORG-000100'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                                hasCloseBtn:false,\r\n                                content: this.state.json['10100ORG-000002'],/* 国际化处理： 您确定要取消吗？*/\r\n                                beSureBtnClick: () =>{\r\n                                    this.props.modal.close('orgmanager');\r\n                                    this.props.editTable.setStatus('orgmanager','browse');\r\n                                }   \r\n                            })\r\n                            // this.props.modal.show('warning',{\r\n                            //     beSureBtnClick:()=>{\r\n                            //         this.props.modal.close('orgvatfunclet');\r\n                            //         this.props.modal.close('warning');\r\n                            //     }\r\n                            // });\r\n                        },\r\n                        noFooter : true, //是否需要底部按钮,默认true\r\n                        //beSureBtnClick:this.onSaveOrgManager.bind(this)\r\n                    }) }\r\n                    { createModal('orgmoduleperiod',{\r\n                        title:this.state.json['10100ORG-000058'],/* 国际化处理： 批量设置业务期初期间*/\r\n                        content:function(){\r\n                            return(\r\n                                <div>\r\n                                    <div style={{height: 45,marginTop:-10}}>\r\n                                        <div style={{position: 'relative',height:'100%'}}>\r\n                                            <div style={{position: 'absolute', height: '100%',right:0,top: 5}}>\r\n                                                {createButtonApp({\r\n                                                    area: 'period-button-area',\r\n                                                    buttonLimit: 5,\r\n                                                    onButtonClick: this.onOrgPeirodButtonClick.bind(this), \r\n                                                    popContainer: document.querySelector('.period-button-area')\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='orgunit-card-orgmoduleperiod'>\r\n                                        {createEditTable('orgmoduleperiod', {\r\n                                            //onCloseModel:this.onCloseTableModel.bind(this),\r\n                                            //tableModelConfirm:this.onModelConfirm.bind(this),\r\n                                            //onAfterEvent:this.onTableModelAfterEdit.bind(this),\r\n                                            //statusChange: this.gridStatusChange.bind(this),\r\n                                            //selectedChange:this.gridBeChecked.bind(this),\r\n                                            //showCheck:true,\r\n                                            onBeforeEvent:this.onPeriodBeforeEvent.bind(this),\r\n                                            showIndex:true\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }.bind(this)(),\r\n                        userControl:true,//自己控制什么时候关闭窗口\r\n                        noFooter : true, //是否需要底部按钮,默认true\r\n                        cancelBtnClick: ()=>{//无法控制是否关闭模态框\r\n                            promptBox({\r\n                                color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                                title: this.state.json['10100ORG-000100'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                                hasCloseBtn:false,\r\n                                content: this.state.json['10100ORG-000002'],/* 国际化处理： 您确定要取消吗？*/\r\n                                beSureBtnClick: () =>{\r\n                                    this.props.modal.close('orgmoduleperiod');\r\n                                    this.props.editTable.setStatus('orgmoduleperiod','browse');\r\n                                }   \r\n                            })\r\n                            // this.props.modal.show('warning',{\r\n                            //     beSureBtnClick:()=>{\r\n                            //         this.props.modal.close('orgvatfunclet');\r\n                            //         this.props.modal.close('warning');\r\n                            //     }\r\n                            // });\r\n                        },\r\n                        beSureBtnClick:this.onSaveOrgPeriod.bind(this)\r\n                    }) }\r\n                    { createModal('innercustsupp',{\r\n                        title:this.state.json['10100ORG-000059'],/* 国际化处理： 生成内部客商*/\r\n                        content:function(){\r\n                            return(\r\n                                <div>\r\n                                    <div>\r\n                                    {createForm('innercustsupp', {\r\n                                        setVisibleByForm:true,\r\n                                        onAfterEvent: this.afterInnercustEvent.bind(this)\r\n                                    })}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }.bind(this)(),\r\n                        userControl:true,//自己控制什么时候关闭窗口\r\n                        noFooter : false, //是否需要底部按钮,默认true\r\n                        cancelBtnClick: ()=>{//无法控制是否关闭模态框\r\n                            promptBox({\r\n                                color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                                title: this.state.json['10100ORG-000100'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                                hasCloseBtn:false,\r\n                                content: this.state.json['10100ORG-000002'],/* 国际化处理： 您确定要取消吗？*/\r\n                                beSureBtnClick: () =>{\r\n                                    this.props.modal.close('innercustsupp');\r\n                                    this.props.form.setFormStatus('innercustsupp','browse');\r\n                                }   \r\n                            })\r\n                            // this.props.modal.show('warning',{\r\n                            //     beSureBtnClick:()=>{\r\n                            //         this.props.modal.close('orgvatfunclet');\r\n                            //         this.props.modal.close('warning');\r\n                            //     }\r\n                            // });\r\n                        },\r\n                        beSureBtnClick:this.onSaveOrgInnercust.bind(this)\r\n                    }) }\r\n                    { createModal('orgvatfunclet',{\r\n                        title:this.state.json['10100ORG-000060'],/* 国际化处理： VAT维护*/\r\n                        content:function(){\r\n                            return(\r\n                                <div>\r\n                                    <div style={{height: 45,marginTop:-10}}>\r\n                                        <div style={{position: 'relative',height:'100%'}}>\r\n                                            <div style={{position: 'absolute', height: '100%',right:0,top: 5}}>\r\n                                                {createButtonApp({\r\n                                                    area: 'vat-button-area',\r\n                                                    buttonLimit: 5,\r\n                                                    onButtonClick: this.onOrgVATButtonClick.bind(this), \r\n                                                    popContainer: document.querySelector('.vat-button-area')\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    {createEditTable('orgvatfunclet', {\r\n                                        //onBeforeEvent:this.onPeriodBeforeEvent.bind(this),\r\n                                        onAfterEvent:this.onVATTableModelAfterEdit.bind(this),\r\n                                        onSelected: ()=>{\r\n                                            let checkdata = this.props.editTable.getCheckedRows('orgvatfunclet');\r\n                                            if(checkdata.length > 0){\r\n                                                this.props.button.setButtonDisabled(['vatdel'],false);\r\n                                                this.props.button.setButtonDisabled(['vatlinedel'],false);\r\n                                            }else{\r\n                                                this.props.button.setButtonDisabled(['vatdel'],true);\r\n                                                this.props.button.setButtonDisabled(['vatlinedel'],true);\r\n                                            }\r\n                                        },\r\n                                        onSelectedAll: ()=>{\r\n                                            let checkdata = this.props.editTable.getCheckedRows('orgvatfunclet');\r\n                                            if(checkdata.length > 0){\r\n                                                this.props.button.setButtonDisabled(['vatdel'],false);\r\n                                                this.props.button.setButtonDisabled(['vatlinedel'],false);\r\n                                            }else{\r\n                                                this.props.button.setButtonDisabled(['vatdel'],true);\r\n                                                this.props.button.setButtonDisabled(['vatlinedel'],true);\r\n                                            }\r\n                                        },\r\n                                        showIndex:true,\r\n                                        showCheck:true\r\n                                    })}\r\n                                </div>\r\n                            )\r\n                        }.bind(this)(),\r\n                        userControl:true,//自己控制什么时候关闭窗口\r\n                        //beSureBtnClick:this.onSaveOrgVAT.bind(this),\r\n                        noFooter : true, //是否需要底部按钮,默认true\r\n                        cancelBtnClick: ()=>{//无法控制是否关闭模态框\r\n                            promptBox({\r\n                                color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                                title: this.state.json['10100ORG-000100'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                                hasCloseBtn:false,\r\n                                content: this.state.json['10100ORG-000002'],/* 国际化处理： 您确定要取消吗？*/\r\n                                beSureBtnClick: () =>{\r\n                                    this.props.modal.close('orgvatfunclet');\r\n                                    this.props.editTable.setStatus('orgvatfunclet','browse');\r\n                                }   \r\n                            })\r\n                            // this.props.modal.show('warning',{\r\n                            //     beSureBtnClick:()=>{\r\n                            //         this.props.modal.close('orgvatfunclet');\r\n                            //         this.props.modal.close('warning');\r\n                            //     }\r\n                            // });\r\n                        }\r\n                    }) }\r\n\r\n                    { createModal('orgdept',{\r\n                        title:this.state.json['10100ORG-000061'],/* 国际化处理： 业务单元关联部门*/\r\n\r\n                        content:function(){\r\n                            return(\r\n                                <div className=\"tree-table\">\r\n                                    <DragWidthCom\r\n                                        //业务单元树\r\n                                        leftDom = {\r\n                                            <div className=\"tree-area-dept\" >\r\n                                                {createSyncTree({\r\n                                                    treeId:'orgunittree',\r\n                                                    showLine:true, \r\n                                                   // clickEditIconEveclickEditIconEve: this.onEditSys.bind(this), //编辑点击 回调\r\n                                                   //clickDelIconEve: this.onDeleteSysEve.bind(this), // 删除点击 回调\r\n                                                   // clickAddIconEve: this.onAdd.bind(this), //新增点击 回调\r\n                                                    onSelectEve: this.onSelectEve.bind(this),   //选择节点回调方法\r\n                                                    defaultExpandAll:true,   //初始化展开所有节点  ，默认参数为false,不展开\r\n                                                    onMouseEnterEve:this.onMouseEnterSortTreeEve.bind(this),//鼠标滑过节点事件\r\n                                                    showModal:false\r\n                                                })}\r\n                                            </div>\r\n                                        } \r\n                                        //部门---树状表\r\n                                        rightDom = {\r\n                                            <div className=\"treeTableCol\">\r\n                                                <div className=\"version-head\">\r\n                                                        { treeTableCol( 'orgdept',{\r\n                                                            async:false,    //数据同步加载为false,异步加载为true\r\n                                                            //showCheckBox:true,\r\n                                                            //checkedType:'radio',\r\n                                                            defaultExpandAll:true,   //初始化展开所有节点  ，默认参数为false,不展开\r\n                                                        } ) }\r\n                                                </div>\r\n                                            </div>\r\n                                        }  \r\n                                        defLeftWid = '30%'  // 默认左侧区域宽度，px/百分百 \r\n                                    />\r\n                            </div>\r\n                            )\r\n                        }.bind(this)(),\r\n                        userControl:false,//自己控制什么时候关闭窗口\r\n                        //beSureBtnClick:this.onSaveOrgVAT.bind(this)\r\n                    }) }\r\n                    {this.state.showUploader&&<NCUploader \r\n                                            // billId={cacheTools.get('pk_org')} \r\n                                            billId={'uapbd/null/'+getDefData('orgunit_pk_org', this.config.datasource)}\r\n                                            //billNo={'001'}\r\n                                            //target={target}\r\n                                            placement={'bottom_right'}\r\n                                            multiple={true}\r\n                                            onHide={this.onHideUploader.bind(this)}\r\n                                            //beforeUpload={this.beforeUpload} \r\n                                            />}\r\n\r\n                    {this.state.showlogoUploader&&<NCUploader \r\n                        // billId={cacheTools.get('pk_org')} \r\n                        billId={'logo/'+getDefData('orgunit_pk_org', this.config.datasource)}\r\n                        //billNo={'001'}\r\n                        //target={target}\r\n                        placement={'bottom_right'}\r\n                        multiple={false}\r\n                        beforeUpload={this.beforeUpload.bind(this)} \r\n                        onHide={this.onHideUploader.bind(this)}\r\n                        />}\r\n\r\n                    { createModal('setorgroot',{\r\n                        title:this.state.json['10100ORG-000027'],/* 国际化处理： 提示*/\r\n                        content: this.state.json['10100ORG-000028'],/* 国际化处理： 您确定要设置成根业务单元吗？*/\r\n                        userControl:false,//自己控制什么时候关闭窗口\r\n                        noFooter : false, //是否需要底部按钮,默认true\r\n                        beSureBtnClick:this.onSetUnitOrgRoot.bind(this)\r\n                    }) }\r\n                    { createModal('setadminorgroot',{\r\n                        title:this.state.json['10100ORG-000027'],/* 国际化处理： 提示*/\r\n                        content: this.state.json['10100ORG-000030'],/* 国际化处理： 您确定要设置成根行政组织吗？*/\r\n                        userControl:false,//自己控制什么时候关闭窗口\r\n                        noFooter : false, //是否需要底部按钮,默认true\r\n                        beSureBtnClick:this.onSetAdminOrgRoot.bind(this)\r\n                    }) }\r\n                    { createModal('setcorproot',{\r\n                        title:this.state.json['10100ORG-000027'],/* 国际化处理： 提示*/\r\n                        content: this.state.json['10100ORG-000029'],/* 国际化处理： 您确定要设置成根公司吗？*/\r\n                        noFooter : false, //是否需要底部按钮,默认true\r\n                        userControl:false,//自己控制什么时候关闭窗口\r\n                        beSureBtnClick:this.onSetCorpRoot.bind(this)\r\n                    }) }\r\n                    <PrintOutput\r\n                        ref='printOutput'\r\n                        url='/nccloud/uapbd/org/print.do'\r\n                        data={{\r\n                            funcode:'10100ORG',      //功能节点编码，即模板编码\r\n                            nodekey:'cardPrint',     //模板节点标识\r\n                            oids: this.state.pks,    //或['1001A41000000000A9LR','1001A410000000009JDD']  单据pk  oids含有多个元素时为批量打印,\r\n                            outputType: \"output\"\r\n                        }}\r\n                        //callback={this.onSubmit}\r\n                        >\r\n                    </PrintOutput>\r\n                    <div className='orgversion-table'>\r\n                        {createModal('orgversion',{\r\n                            noFooter : false //是否需要底部按钮,默认true\r\n                        })}\r\n                    </div>\r\n                    \r\n                    {createModal('warning',{\r\n                        title:this.state.json['10100ORG-000062'],/* 国际化处理： 关闭提醒*/\r\n                        content:this.state.json['10100ORG-000063'],/* 国际化处理： 是否确定要关闭？*/\r\n                    })}\r\n                    {createModal('delete')}\r\n                    {createModal('confirm')}\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nfunction  toggleShow (props,enablestate){\r\n    if(enablestate =='2'){//启用状态\r\n        props.button.setButtonsVisible({\r\n            disable:true,\r\n            enable:false,\r\n        });\r\n    }else{\r\n        props.button.setButtonsVisible({\r\n            disable:false,\r\n            enable:true,\r\n        });\r\n    }\r\n}\r\n\r\nexport default  Orgunitcard = createPage({\r\n    \r\n    //initTemplate: ()=>{}\r\n    mutiLangCode: '10100ORG'\r\n})(Orgunitcard);\r\n\r\n\r\n\r\n","import initTemplate from './lifeCycle/initTemplate';\r\nimport buttonClick from './clickEvents/buttonClick';\r\nimport pageInfoClick from './clickEvents/pageInfoClick';\r\nimport oprButtonClick from './clickEvents/oprButtonClick';\r\n\r\n\r\n\r\nexport {initTemplate,buttonClick,pageInfoClick,oprButtonClick};","import {ajax, base,cardCache,getBusinessInfo} from 'nc-lightapp-front';\r\nimport oprButtonClick from '../clickEvents/oprButtonClick';\r\nimport AccPeriodTreeGridRef from '../../../../../../uapbd/refer/pubinfo/AccPeriodTreeGridRef/index';\r\nconst {NCMenu,NCDatePicker } = base;\r\nlet {setDefData, getDefData } = cardCache;\r\n\r\nconst { Item } = NCMenu;\r\n\r\nconst urls = {\r\n    \"queryTemp\" : \"/platform/templet/querypage.do\",\r\n    \"mergerequest\" : \"/nccloud/platform/pub/mergerequest.do\",\r\n};\r\n\r\n\r\nconst pagecodeValues = {\r\n    'corp' : '10100ORG_corp',\r\n    'org' : '10100ORG_orgunitcard',\r\n    'adminorg' : '10100ORG_adminorg',\r\n    'assetorg' : '10100ORG_assetorg',\r\n    'factory' : '10100ORG_factory',\r\n    'financeorg' : '10100ORG_financeorg',\r\n    'fundorg' : '10100ORG_fundorg',\r\n    'hrorg' : '10100ORG_hrorg',\r\n    'itemorg' : '10100ORG_itemorg',\r\n    'liabilitycenter' : '10100ORG_liabilitycenter',\r\n    'maintainorg' : '10100ORG_maintainorg',\r\n    'planbudget' : '10100ORG_planbudget',\r\n    'plancenter' : '10100ORG_plancenter',\r\n    'purchaseorg' : '10100ORG_purchaseorg',\r\n    'qccenter' : '10100ORG_qccenter',\r\n    'saleorg' : '10100ORG_saleorg',\r\n    'stockorg' : '10100ORG_stockorg',\r\n    'trafficorg' : '10100ORG_trafficorg',\r\n    'org_v' : '10100ORG_orgversion',\r\n    'financeorg_v':'10100ORG_financeorgversion',\r\n    'orgmanager':'10100ORG_orgmanager',\r\n    'orgmoduleperiod':'10100ORG_orgmoduleperiod',\r\n    'innercustsupp':'10100ORG_innercustsupp',\r\n    'orgvatfunclet':'10100ORG_orgvatfunclet',\r\n    'orgdept':'10100DEPT_orgdept',\r\n};\r\n\r\n\r\nexport  default function(props,callback){\r\n\r\n    let reqData = [\r\n        \r\n        {//获取辅助属性结构定义保存的卡片模板\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['corp']}\\\"\\n}`,\r\n            rqCode: 'corp'\r\n        },\r\n        {//获取辅助属性结构定义保存的卡片模板\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['org']}\\\"\\n}`,\r\n            rqCode: 'org'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['adminorg']}\\\"\\n}`,\r\n            rqCode: 'adminorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['assetorg']}\\\"\\n}`,\r\n            rqCode: 'assetorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['factory']}\\\"\\n}`,\r\n            rqCode: 'factory'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['financeorg']}\\\"\\n}`,\r\n            rqCode: 'financeorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['fundorg']}\\\"\\n}`,\r\n            rqCode: 'fundorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['hrorg']}\\\"\\n}`,\r\n            rqCode: 'hrorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['itemorg']}\\\"\\n}`,\r\n            rqCode: 'itemorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['liabilitycenter']}\\\"\\n}`,\r\n            rqCode: 'liabilitycenter'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['maintainorg']}\\\"\\n}`,\r\n            rqCode: 'maintainorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['planbudget']}\\\"\\n}`,\r\n            rqCode: 'planbudget'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['plancenter']}\\\"\\n}`,\r\n            rqCode: 'plancenter'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['purchaseorg']}\\\"\\n}`,\r\n            rqCode: 'purchaseorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['qccenter']}\\\"\\n}`,\r\n            rqCode: 'qccenter'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['saleorg']}\\\"\\n}`,\r\n            rqCode: 'saleorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['stockorg']}\\\"\\n}`,\r\n            rqCode: 'stockorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['trafficorg']}\\\"\\n}`,\r\n            rqCode: 'trafficorg'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['org_v']}\\\"\\n}`,\r\n            rqCode: 'org_v'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['financeorg_v']}\\\"\\n}`,\r\n            rqCode: 'financeorg_v'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['orgmanager']}\\\"\\n}`,\r\n            rqCode: 'orgmanager'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['orgmoduleperiod']}\\\"\\n}`,\r\n            rqCode: 'orgmoduleperiod'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['innercustsupp']}\\\"\\n}`,\r\n            rqCode: 'innercustsupp'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['orgvatfunclet']}\\\"\\n}`,\r\n            rqCode: 'orgvatfunclet'\r\n        },\r\n        {\r\n            rqUrl: urls['queryTemp'],\r\n            rqJson: `{\\n  \\\"pagecode\\\": \\\"${pagecodeValues['orgdept']}\\\"\\n}`,\r\n            rqCode: 'orgdept'\r\n        },\r\n        {\r\n             rqUrl: '/platform/appregister/queryallbtns.do',\r\n             rqJson: `{\\n \\\"pagecode\\\": \\\"${props.config.pagecode}\\\",\\n \\\"appcode\\\": \\\"${props.config.appcode}\\\"\\n}`,\r\n             rqCode: 'button'\r\n        },\r\n        {\r\n            rqUrl: '/uapbd/org/haverootorgunit.do',\r\n            rqCode: 'haverootorgunit'\r\n        },\r\n        {\r\n            rqUrl: '/uapbd/org/haveadminrootorgunit.do',\r\n            rqCode: 'haveadminrootorgunit'\r\n        },\r\n        {\r\n            rqUrl: '/uapbd/org/havecorprootorgunit.do',\r\n            rqCode: 'havecorprootorgunit'\r\n        },\r\n        {\r\n            rqUrl: '/platform/appregister/queryappcontext.do',\r\n             rqJson: `{\\n \\\"appcode\\\": \\\"${props.config.appcode}\\\"}`,\r\n             rqCode: 'context'\r\n        }\r\n        \r\n    ];\r\n    ajax({\r\n        url : urls['mergerequest'],\r\n        data : reqData,\r\n        success : (res) => {\r\n            //TODO\r\n            // console.log(res);\r\n            // props.createUIDom({\r\n            //     pagecode : props.config.pagecode\r\n            //     //appid : props.config.appid\r\n            //     //appcode: props.config.appcode,\r\n            // },\r\n            // (data)=>{\r\n                \r\n                let meta = res.data.org;\r\n\r\n                //如果没有根节点的时候，上级业务单元设置为非必填项\r\n                // if(!res.data.haverootorgunit){\r\n                //     let pk_fatherorgitem = meta['org'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                //     pk_fatherorgitem.required = false;\r\n                //     pk_fatherorgitem.disabled = true;\r\n                // }\r\n                setDefData('orgunit_haverootorgunit',props.config.datasource,res.data.haverootorgunit);\r\n                // meta['org'] = res.data.org.org;\r\n                // meta['orgauditinfo'] = res.data.org.orgauditinfo;\r\n                // meta['orgversioninfo'] = res.data.org.orgversioninfo;       \r\n                // meta['orgtype'] = res.data.org.orgtype;            ;\r\n                \r\n\r\n                // //meta = modifierMeta(props, meta,values);\r\n                // //处理物料辅助属性\r\n                // if(res.data.MarAssistant && res.data.MarAssistant.MarAssistant){\r\n                //     res.data.MarAssistant.MarAssistant.forEach((item,index) => {\r\n                //         let it = {\r\n                //             id:item.pk_userdefitem,\r\n                //             name:item.showname\r\n                //         }\r\n                //         MarAssistant.push(it);\r\n                //     });\r\n                // }\r\n                //暂时没有人员的参照，用这个替代一下，到时候在换复杂参照\r\n                meta['org'].items.map((obj)=>{\r\n                    //上级业务单元权限过滤\r\n                    if(obj.attrcode == 'pk_fatherorg'){\r\n                        //if(!getDefData('orgunit_setroot',props.config.datasource)){\r\n                            obj.queryCondition = function () {\r\n                                return {\r\n                                    TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                    AppCode:props.config.appcode\r\n                                }\r\n                            }\r\n                        //}\r\n                    }\r\n                    if(obj.attrcode == 'chargeleader'){\r\n                        obj.isShowUnit = true;\r\n                        obj.isShowUsual = true;\r\n                        obj.unitCondition=()=>{\r\n                            return {\r\n                                isMutiGroup:\"Y\"\r\n                            }\r\n                        }\r\n                    }\r\n                    if(obj.attrcode == 'principal' ){\r\n                        obj.isShowUnit = true;\r\n                        obj.isShowUsual = true;\r\n                        obj.unitCondition=()=>{\r\n                            return {\r\n                                isMutiGroup:\"Y\"\r\n                            }\r\n                        }\r\n                    }\r\n                    if(obj.attrcode == 'pk_corp'){\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                AppCode:props.config.appcode\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                \r\n                //法人公司\r\n                meta['corp'] = res.data.corp.corp;\r\n                meta['corpcontactinfo'] = res.data.corp.corpcontactinfo;\r\n                meta['corpaudioinfo'] = res.data.corp.corpaudioinfo;\r\n                meta['corpotherinfo'] = res.data.corp.corpotherinfo;\r\n                meta['corpdefinfo'] = res.data.corp.corpdefinfo;\r\n                //添加自定义参照\r\n                meta['corp'].items.map((obj)=>{\r\n\r\n                    \r\n                    if(obj.attrcode == 'pk_fatherorg'){\r\n                        //法人公司职能中上级公司需要跨集团\r\n                        obj.isShowUnit = true;\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                AppCode:props.config.appcode\r\n                            }\r\n                        }\r\n                    }\r\n                    if(obj.attrcode == 'industry'){\r\n                        //经济行业\r\n                        props.renderItem('form','corp', 'industry', null);\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                pk_defdoclist: '1009ZZ100000000034NN'\r\n                            }\r\n                        }\r\n                    }\r\n                    if(obj.attrcode == 'ecotype'){\r\n                        //经济类型\r\n                        props.renderItem('form','corp', 'ecotype', null);\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                pk_defdoclist: '1009ZZ100000000034NZ'\r\n                            }\r\n                        }\r\n                    }\r\n                    if(obj.attrcode == 'corptype'){\r\n                        //单位类型\r\n                        props.renderItem('form','corp', 'corptype', null);\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                pk_defdoclist: '1010ZZ10000000003NY1'\r\n                            }\r\n                        }\r\n                    }\r\n                    if(obj.attrcode == 'unitdistinction'){\r\n                        //单位级别\r\n                        props.renderItem('form','corp', 'unitdistinction', null);\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                pk_defdoclist: '1010ZZ10000000003OPT'\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                //人力资源\r\n                meta['hrorg'] = res.data.hrorg.hrorg;\r\n                meta['hrorgauditinfo'] = res.data.hrorg.hrorgauditinfo;\r\n                meta['hrorgdef'] = res.data.hrorg.hrorgdef;\r\n                meta['hrorg'].items.map((obj)=>{\r\n                    \r\n                    if(obj.attrcode == 'pk_fatherorg'){\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                AppCode:props.config.appcode\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                //财务组织\r\n                meta['financeorg'] = res.data.financeorg.financeorg;\r\n                meta['financeorgaudioinfo'] = res.data.financeorg.financeorgaudioinfo;\r\n                meta['financeorgdef'] = res.data.financeorg.financeorgdef;\r\n                let businessInfo = getBusinessInfo();\r\n                let pkGroup = businessInfo==null?null:businessInfo.groupId;\r\n                meta['financeorg'].items.map((obj)=>{\r\n                    \r\n                    if(obj.attrcode == 'pk_costregion'){\r\n                        //成本域增加集团过滤\r\n                        props.renderItem('form','financeorg', 'pk_costregion', null);\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                pk_group: pkGroup\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                //资金\r\n                meta['fundorg'] = res.data.fundorg.fundorg;\r\n                meta['fundorgdef'] = res.data.fundorg.fundorgdef;\r\n                meta['fundorgauditinfo'] = res.data.fundorg.fundorgauditinfo;\r\n                meta['fundorg'].items.map((obj)=>{\r\n                    \r\n                    if(obj.attrcode == 'pk_fatherorg'){\r\n                        obj.isShowUnit = true ;\r\n                    }\r\n                })\r\n                //采购\r\n                meta['purchaseorg'] = res.data.purchaseorg.purchaseorg;\r\n                meta['purchaseorgdef'] = res.data.purchaseorg.purchaseorgdef;\r\n                meta['purchaseorgauditinfo'] = res.data.purchaseorg.purchaseorgauditinfo;\r\n                //销售\r\n                meta['saleorg'] = res.data.saleorg.saleorg;\r\n                meta['saleorgdef'] = res.data.saleorg.saleorgdef;\r\n                meta['saleorgaudit'] = res.data.saleorg.saleorgaudit;\r\n                meta['saleorgrelation'] = res.data.saleorg.saleorgrelation;\r\n                meta['saleorg'].items.map((obj)=>{\r\n                    \r\n                    if(obj.attrcode == 'pk_fatherorg'){\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                AppCode:props.config.appcode\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                //库存\r\n                meta['stockorg'] = res.data.stockorg.stockorg;\r\n                meta['stockorgaudit'] = res.data.stockorg.stockorgaudit;\r\n                meta['stockorgdef'] = res.data.stockorg.stockorgdef;\r\n                meta['stockassetrelation'] = res.data.stockorg.stockassetrelation;\r\n                meta['stockorgrelation'] = res.data.stockorg.stockorgrelation;\r\n                meta['stockqccenterrelation'] = res.data.stockorg.stockqccenterrelation;\r\n                meta['stocktrafficrelation'] = res.data.stockorg.stocktrafficrelation;\r\n                meta['stockorg'].items.map((obj)=>{\r\n                    if(obj.attrcode == 'pk_financeorg'){\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                AppCode:props.config.appcode\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                //物流\r\n                meta['trafficorg'] = res.data.trafficorg.trafficorg;\r\n                meta['trafficorgauditinfo'] = res.data.trafficorg.trafficorgauditinfo;\r\n                meta['trafficorgdef'] = res.data.trafficorg.trafficorgdef;\r\n                //质检\r\n                meta['qccenter'] = res.data.qccenter.qccenter;\r\n                meta['qccenterauditinfo'] = res.data.qccenter.qccenterauditinfo;\r\n                meta['qccenterdef'] = res.data.qccenter.qccenterdef;\r\n                //资产\r\n                meta['assetorg'] = res.data.assetorg.assetorg;\r\n                meta['assetorgauditinfo'] = res.data.assetorg.assetorgauditinfo;\r\n                meta['assetorgdef'] = res.data.assetorg.assetorgdef;\r\n                meta['assetorgmaintainrelation'] = res.data.assetorg.assetorgmaintainrelation;\r\n                //维修\r\n                meta['maintainorg'] = res.data.maintainorg.maintainorg;\r\n                meta['maintainorgauditinfo'] = res.data.maintainorg.maintainorgauditinfo;\r\n                meta['maintainorgdef'] = res.data.maintainorg.maintainorgdef;\r\n                meta['maintainstockrelation'] = res.data.maintainorg.maintainstockrelation;\r\n                //利润中心\r\n                meta['liabilitycenter'] = res.data.liabilitycenter.liabilitycenter;\r\n                meta['liabilitycenterauditinfo'] = res.data.liabilitycenter.liabilitycenterauditinfo;\r\n                meta['liabilitycenterdef'] = res.data.liabilitycenter.liabilitycenterdef;\r\n                //项目\r\n                meta['itemorg'] = res.data.itemorg.itemorg;\r\n                meta['itemorgauditinfo'] = res.data.itemorg.itemorgauditinfo;\r\n                meta['itemorgdefinfo'] = res.data.itemorg.itemorgdefinfo;\r\n                meta['itemstockrelation'] = res.data.itemorg.itemstockrelation;\r\n                meta['itemorg'].items.map((obj)=>{\r\n                    if(obj.attrcode == 'pk_fatherorg'){\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                AppCode:props.config.appcode\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                //预算\r\n                meta['planbudget'] = res.data.planbudget.planbudget;\r\n                meta['planbudgetauditinfo'] = res.data.planbudget.planbudgetauditinfo;\r\n                meta['planbudgetdef'] = res.data.planbudget.planbudgetdef;\r\n                 //添加自定义参照\r\n                 meta['planbudget'].items.map((obj)=>{\r\n                    // if(obj.attrcode == 'datasource'){\r\n                    //     //数据源\r\n                    //     props.renderItem('form','corp_base', 'datasource', null);\r\n                    //     obj.queryCondition = function () {\r\n                    //         return {\r\n                    //             pk_defdoclist: '1009ZZ100000000034NN',\r\n                    //         }\r\n                    //     }\r\n                    // }\r\n                })\r\n                //行政\r\n                meta['adminorg'] = res.data.adminorg.adminorg;\r\n                meta['adminorgauditinfo'] = res.data.adminorg.adminorgauditinfo;\r\n                meta['adminorgdef'] = res.data.adminorg.adminorgdef;\r\n                meta['adminorg'].items.map((obj)=>{\r\n                    \r\n                    if(obj.attrcode == 'pk_fatherorg'){\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder',\r\n                                AppCode:props.config.appcode\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                //工厂\r\n                meta['factory'] = res.data.factory.factory;\r\n                meta['factoryauditinfo'] = res.data.factory.factoryauditinfo;\r\n                meta['factorydefitem'] = res.data.factory.factorydefitem;\r\n                //计划中心\r\n                meta['plancenter'] = res.data.plancenter.plancenter;\r\n                meta['plancenterdefiitem'] = res.data.plancenter.plancenterdefiitem;\r\n                meta['plancenterauditinfo'] = res.data.plancenter.plancenterauditinfo;\r\n                 //业务单元版本化\r\n                 meta['org_v'] = res.data.org_v.org_v;\r\n                 meta['org_v_head'] = res.data.org_v.org_v_head;\r\n                 //财务组织版本化\r\n                 meta['financeorg_v'] = res.data.financeorg_v.financeorg_v;\r\n                 //组织主管\r\n                 meta['orgmanager'] = res.data.orgmanager.orgmanager;\r\n                 meta['orgmanager'].items.map((obj)=>{\r\n                    if(obj.attrcode == 'cuserid'){\r\n                        //经济类型\r\n                       // props.renderItem('table','orgmanager', 'cuserid', null);\r\n                        obj.isMultiSelectedEnabled = false;\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                GridRefActionExt: 'nccloud.web.org.orgunit.action.UserFilter'\r\n                            }\r\n                        }\r\n                    }\r\n                 })\r\n\r\n                 //批量设置业务期初期间\r\n                 meta['orgmoduleperiod'] = res.data.orgmoduleperiod.orgmoduleperiod;\r\n                 //业务期初期间设置会计期间为操作列(同一列中某些列为日期，某些列为参照，平台不支持，只能变通，按照操作列的方式修改)\r\n                meta['orgmoduleperiod'].items.push({\r\n                    attrcode: 'opr',\r\n                    label: props.config.josn['10100ORG-000101'],\r\n                    itemtype:'customer',\r\n                    width: '60px',\r\n                    //fixed: 'right',\r\n                    className: 'table-opr',\r\n                    visible: true,\r\n                    render: (text, record, index) => {\r\n                        let moudleidnum = record.values.moduleid.value;\r\n                        let arr = [\r\n                            '4510',\r\n                            '4530',\r\n                            '4532',\r\n                            '3613',\r\n                            '3614',\r\n                            '3615',\r\n                            '3616',\r\n                            '3617',\r\n                            '3618',\r\n                            '3632',\r\n                            '3630',\r\n                            '3634',\r\n                            '3635',\r\n                            '3637'\r\n                        ];\r\n                        var index = arr.indexOf(moudleidnum);\r\n                        var pk_accperiodscheme = getDefData('orgunit_pk_accperiodscheme',props.config.datasource);\r\n                        var timedata = record.values.pk_accperiod.value;\r\n\r\n                        if (index >= 0) { //画日期\r\n                            return (\r\n                                <div style={{width:200}}>\r\n                                    <NCDatePicker \r\n                                    value={timedata} \r\n                                    onChange={(value)=>{\r\n                                        timedata = value;\r\n                                        props.editTable.setValByKeyAndRowId('orgmoduleperiod',record.rowid,'pk_accperiod',{\"value\":timedata,\"display\":timedata});\r\n                                    }}/>\r\n                                </div>\r\n                            )\r\n                        } else { //refer\r\n                            // if(record.values.pk_orgtype.value == 'STOCKORGTYPE00000000'){\r\n                            //     ajax({\r\n                            //         url: '/nccloud/uapbd/org/setaccperiodscheme.do',\r\n                            //         data: {\r\n                            //             pk_orgtype: record.values.pk_orgtype.display,\r\n                            //             pk_org: record.values.pk_org.value,\r\n                            //             moudleid: moudleidnum\r\n                            //         },\r\n                            //         success: (res) => {\r\n                            //             if (res.success) {\r\n                            //                 if (res.data) {\r\n                            //                     pk_accperiodscheme =  res.data\r\n                            //                 }\r\n                            //             }\r\n                            //         }\r\n                            //     });\r\n                            // }\r\n                            \r\n                            return (\r\n                                <div style={{width:200}}>\r\n                                    {AccPeriodTreeGridRef({\r\n                                        value:{\"refname\":timedata,\"refpk\":timedata}, \r\n                                        onChange:(value)=>{\r\n                                            timedata = value.refname;\r\n                                            props.editTable.setValByKeyAndRowId('orgmoduleperiod',record.rowid,'pk_accperiod',{\"value\":timedata,\"display\":timedata});\r\n                                        },\r\n                                        queryCondition:() => {\r\n                                            return {\r\n                                                \"pk_accperiodscheme\": pk_accperiodscheme\r\n                                            }\r\n                                        }\r\n                                    } )}\r\n                                </div>\r\n                                )\r\n                        }        \r\n                    }\r\n                });\r\n                 //生成内部客商\r\n                 meta['innercustsupp'] = res.data.innercustsupp.innercustsupp;\r\n                 meta['innercustsupp'].items.map((obj)=>{\r\n                    if(obj.attrcode == 'pk_org'){\r\n                        //经济类型\r\n                       // props.renderItem('table','orgmanager', 'cuserid', null);\r\n                        obj.queryCondition = function () {\r\n                            return {\r\n                                TreeRefActionExt: 'nccloud.web.org.orgunit.action.InnercustOrgFilter'\r\n                            }\r\n                        }\r\n                    }\r\n                 })\r\n                 //vat维护\r\n                 meta['orgvatfunclet'] = res.data.orgvatfunclet.orgvatfunclet;\r\n                 //\r\n                 meta['orgdept'] = res.data.orgdept.orgdept;\r\n                 \r\n                 \r\n                 \r\n                //组合原NC也去的单据模板关联关系\r\n                meta['formrelation'].corp=['corpotherinfo','corpcontactinfo','corpdefinfo','corpaudioinfo'];//'corpaudioinfo'\r\n                meta['formrelation'].org=['orgtype','orgversioninfo','orgauditinfo'];//'corpaudioinfo','orgauditinfo'\r\n                meta['formrelation'].hrorg=['hrorgdef','hrorgauditinfo'];//'hrorgauditinfo'\r\n                meta['formrelation'].financeorg=['financeorgdef','financeorgaudioinfo'];//'financeorgaudioinfo'\r\n                meta['formrelation'].fundorg=['fundorgdef','fundorgauditinfo'];//,'fundorgauditinfo'\r\n                meta['formrelation'].purchaseorg=['purchaseorgdef','purchaseorgauditinfo'];//,'purchaseorgauditinfo'\r\n                meta['formrelation'].saleorg=['saleorgdef','saleorgaudit'];//'saleorgdef','saleorgaudit',\r\n                meta['formrelation'].stockorg=['stockorgdef','stockorgaudit'];//'stockorgaudit','stockorgdef'\r\n                meta['formrelation'].trafficorg=['trafficorgdef','trafficorgauditinfo'];//'trafficorgauditinfo',\r\n                meta['formrelation'].qccenter=['qccenterdef','qccenterauditinfo'];//'qccenterauditinfo',\r\n                meta['formrelation'].assetorg=['assetorgdef','assetorgauditinfo'];//'assetorgauditinfo','assetorgdef'\r\n                meta['formrelation'].maintainorg=['maintainorgdef','maintainorgauditinfo'];//'maintainorgauditinfo','maintainorgdef'\r\n                meta['formrelation'].liabilitycenter=['liabilitycenterdef','liabilitycenterauditinfo'];//'liabilitycenterauditinfo',\r\n                meta['formrelation'].itemorg=['itemorgdefinfo','itemorgauditinfo'];//'itemorgauditinfo','itemorgdefinfo'\r\n                meta['formrelation'].planbudget=['planbudgetdef','planbudgetauditinfo'];//'planbudgetauditinfo',\r\n                meta['formrelation'].adminorg=['adminorgdef','adminorgauditinfo'];//'adminorgauditinfo',\r\n                meta['formrelation'].factory=['factorydefitem','factoryauditinfo'];//'factoryauditinfo',\r\n                meta['formrelation'].plancenter=['plancenterdefiitem','plancenterauditinfo'];//,'plancenterauditinfo'\r\n                // meta['formrelation'].materialpu=['pu_base','pu_audit'];\r\n                // meta['formrelation'].marasstframe=['marasstframe_audit'];\r\n\r\n                //设置编辑公式的billinfo\r\n                props.setRelationItemBillinfo([\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_adminorg',\r\n                        templetid: res.data.adminorg.pageid,\r\n                        headcode: 'adminorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_adminorg',\r\n                        templetid: res.data.adminorg.pageid,\r\n                        headcode: 'adminorgdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_assetorg',\r\n                        templetid: res.data.assetorg.pageid,\r\n                        headcode: 'assetorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_assetorg',\r\n                        templetid: res.data.assetorg.pageid,\r\n                        headcode: 'assetorgdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_corp',\r\n                        templetid: res.data.corp.pageid,\r\n                        headcode: 'corp'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_corp',\r\n                        templetid: res.data.corp.pageid,\r\n                        headcode: 'corpcontactinfo'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_corp',\r\n                        templetid: res.data.corp.pageid,\r\n                        headcode: 'corpdefinfo'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_corp',\r\n                        templetid: res.data.corp.pageid,\r\n                        headcode: 'corpotherinfo'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_factory',\r\n                        templetid: res.data.factory.pageid,\r\n                        headcode: 'factory'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_factory',\r\n                        templetid: res.data.factory.pageid,\r\n                        headcode: 'factorydefitem'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_financeorg',\r\n                        templetid: res.data.financeorg.pageid,\r\n                        headcode: 'financeorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_financeorg',\r\n                        templetid: res.data.financeorg.pageid,\r\n                        headcode: 'financeorgdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_fundorg',\r\n                        templetid: res.data.fundorg.pageid,\r\n                        headcode: 'fundorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_fundorg',\r\n                        templetid: res.data.fundorg.pageid,\r\n                        headcode: 'fundorgdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_hrorg',\r\n                        templetid: res.data.hrorg.pageid,\r\n                        headcode: 'hrorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_hrorg',\r\n                        templetid: res.data.hrorg.pageid,\r\n                        headcode: 'hrorgdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_itemorg',\r\n                        templetid: res.data.itemorg.pageid,\r\n                        headcode: 'itemorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_itemorg',\r\n                        templetid: res.data.itemorg.pageid,\r\n                        headcode: 'itemorgdefinfo'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_liabilitycenter',\r\n                        templetid: res.data.liabilitycenter.pageid,\r\n                        headcode: 'liabilitycenter'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_liabilitycenter',\r\n                        templetid: res.data.liabilitycenter.pageid,\r\n                        headcode: 'liabilitycenterdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_maintainorg',\r\n                        templetid: res.data.maintainorg.pageid,\r\n                        headcode: 'maintainorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_maintainorg',\r\n                        templetid: res.data.maintainorg.pageid,\r\n                        headcode: 'maintainorgdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_orgunitcard',\r\n                        templetid: res.data.org.pageid,\r\n                        headcode: 'org'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_planbudget',\r\n                        templetid: res.data.planbudget.pageid,\r\n                        headcode: 'planbudget'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        pagecode: '10100ORG_planbudget',\r\n                        templetid: res.data.planbudget.pageid,\r\n                        headcode: 'planbudgetdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.plancenter.pageid,\r\n                        pagecode: '10100ORG_plancenter',\r\n                        headcode: 'plancenter'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.plancenter.pageid,\r\n                        pagecode: '10100ORG_plancenter',\r\n                        headcode: 'plancenterdefiitem'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.purchaseorg.pageid,\r\n                        pagecode: '10100ORG_purchaseorg',\r\n                        headcode: 'purchaseorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.purchaseorg.pageid,\r\n                        pagecode: '10100ORG_purchaseorg',\r\n                        headcode: 'purchaseorgdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.qccenter.pageid,\r\n                        pagecode: '10100ORG_qccenter',\r\n                        headcode: 'qccenter'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.qccenter.pageid,\r\n                        pagecode: '10100ORG_qccenter',\r\n                        headcode: 'qccenterdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.saleorg.pageid,\r\n                        pagecode: '10100ORG_saleorg',\r\n                        headcode: 'saleorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.saleorg.pageid,\r\n                        pagecode: '10100ORG_saleorg',\r\n                        headcode: 'saleorgdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.stockorg.pageid,\r\n                        pagecode: '10100ORG_stockorg',\r\n                        headcode: 'stockorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.stockorg.pageid,\r\n                        pagecode: '10100ORG_stockorg',\r\n                        headcode: 'stockorgdef'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.trafficorg.pageid,\r\n                        pagecode: '10100ORG_trafficorg',\r\n                        headcode: 'trafficorg'\r\n                    },\r\n                    {\r\n                        billtype: 'form',\r\n                        templetid: res.data.trafficorg.pageid,\r\n                        pagecode: '10100ORG_trafficorg',\r\n                        headcode: 'trafficorgdef'\r\n                    }]);\r\n\r\n                props.meta.setMeta(meta);\r\n                res.data.button && props.button.setButtons(res.data.button);\r\n                buttonToggleShow(props);\r\n\r\n                var pk_org = props.getUrlParam('pk_org');\r\n\r\n                \r\n                if(getDefData('orgunit_setroot',props.config.datasource)){\r\n                    \r\n                    //如果是集团管理员,设置根节点才可以见\r\n                    //当没有行政组织或者法人公司的时候，设置成根行政组织和设置成根法人公司不可用\r\n                    let adminroot = res.data.haveadminrootorgunit;\r\n\r\n                    if(!adminroot.haveroot){\r\n                        props.button.setButtonDisabled(['setadminorgroot'],true);\r\n                    }else{\r\n                        if(pk_org == adminroot.pk){\r\n                            //如果勾选的是根节点，则对应的设置根节点按钮不可以使用\r\n                            props.button.setButtonDisabled(['setadminorgroot'],true);\r\n                        }else{\r\n                            props.button.setButtonDisabled(['setadminorgroot'],false);\r\n                        }\r\n                        \r\n                    }\r\n\r\n                    let corproot = res.data.havecorprootorgunit;\r\n                    if(!corproot.haveroot){\r\n                        props.button.setButtonDisabled(['setcorproot'],true);\r\n                    }else{\r\n                        if(pk_org == corproot.pk){\r\n                            props.button.setButtonDisabled(['setcorproot'],true);\r\n                        }else{\r\n                            props.button.setButtonDisabled(['setcorproot'],false);\r\n                        }\r\n                        \r\n                    }\r\n\r\n                    let orgroot = res.data.haverootorgunit;\r\n\r\n                    if(!orgroot.haveroot){\r\n                        props.button.setButtonDisabled(['setorgroot'],true);\r\n                    }else{\r\n                        if(pk_org == orgroot.pk){\r\n                            //如果勾选的是根节点，则对应的设置根节点按钮不可以使用\r\n                            props.button.setButtonDisabled(['setorgroot'],true);\r\n                        }else{\r\n                            props.button.setButtonDisabled(['setorgroot'],false);\r\n                        }\r\n                        \r\n                    }\r\n                }else{\r\n                    props.button.setButtonVisible(['setroot-2'],false);\r\n                }\r\n\r\n                // if(!res.data.haveadminrootorgunit){\r\n                //     props.button.setButtonDisabled(['setadminorgroot'],true);\r\n                // }else{\r\n                //     props.button.setButtonDisabled(['setadminorgroot'],false);\r\n                // }\r\n                // if(!res.data.havecorprootorgunit){\r\n                //     props.button.setButtonDisabled(['setcorproot'],true);\r\n                // }else{\r\n                //     props.button.setButtonDisabled(['setcorproot'],false);\r\n                // }\r\n                //props.cardPagination.setCardPaginationVisible('cardPaginationBtn', true);\r\n                //props.button.setButtonVisible(['edit','delete','copy','save'],true);\r\n               callback();\r\n            //});\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction buttonToggleShow(props){\r\n    let status = props.getUrlParam('status');\r\n    //按钮的显示状态\r\n    if(status === 'add'){\r\n        props.button.setButtonVisible(['save','saveadd','cancel'],true);\r\n        props.button.setButtonVisible(['edit','delete','copy','enable','disable','add','more'],false);\r\n        props.button.setButtonVisible(['versions','auxiliary','orgunitreldept','printpage','setroot','back','refresh','setadminorgroot','setcorproot','setorgroot'],false);\r\n    }else if(status ==='edit'){\r\n        props.button.setButtonVisible(['save','cancel'],true);\r\n        props.button.setButtonVisible(['edit','delete','copy','enable','disable','add','saveadd','more'],false);\r\n        props.button.setButtonVisible(['versions','auxiliary','orgunitreldept','printpage','setroot','back','refresh','setadminorgroot','setcorproot','setorgroot'],false);\r\n    }else{\r\n        //设置根节点按钮，只有集团管理员登录才可以看见\r\n        let setroot = getDefData('orgunit_setroot', props.config.datasource);//cacheTools.get('orgunit_setroot');\r\n        props.button.setButtonVisible(['setroot-2'],setroot);\r\n        props.button.setButtonVisible(['save','saveadd','cancel','back'],false);\r\n        props.button.setButtonVisible(['edit','delete','copy','enable','disable','add','more'],true);\r\n        props.button.setButtonVisible(['versions','auxiliary','orgunitreldept','printpage','refresh','setadminorgroot','setcorproot','setorgroot'],true);\r\n    }\r\n}\r\n","import {ajax, base, toast,cardCache,print,promptBox} from 'nc-lightapp-front';\r\n\r\nlet {setDefData, getDefData } = cardCache;\r\n\r\n\r\n\r\n\r\nexport  default function (gridId,props,id) {\r\n\r\n    var _this = this;\r\n    var pk_org = props.getUrlParam('pk_org')\r\n    var status = props.getUrlParam('status')\r\n    var pk_orgarr = [];\r\n    let flag = true;\r\n    if(getDefData('orgunit_btnopr',props.config.datasource) == 'copy'){\r\n        status = 'copy';\r\n    }\r\n\r\n    setDefData('orgunit_btnopr',props.config.datasource,'browse');\r\n    if(undefined == pk_org){\r\n        pk_org = getDefData('orgunit_pk_org', props.config.datasource);//cacheTools.get('orgunit_pk_org');\r\n    }\r\n    \r\n    pk_orgarr.push(pk_org);\r\n\r\n    if(id == 'add' || id == 'orgunitreldept' || id == 'print' || id == 'export'|| id == 'refresh'){\r\n        flag = false;\r\n    }\r\n\r\n    if(flag && undefined == pk_org &&  'add' != status && id != 'back'){\r\n        toast({content : _this.state.json['10100ORG-000000'],color : 'warning'});/* 国际化处理： 请先选择组织！*/\r\n    }\r\n    \r\n    let pk_fatherorg = props.form.getFormItemsValue('org','pk_fatherorg');\r\n\r\n    switch (id) {\r\n        case 'add':\r\n            //清空所有form\r\n            //根据编码规则获取编码\r\n            setDefData('orgunit_listadd',props.config.datasource,'cardadd');\r\n            props.setUrlParam({\r\n                pagecode:props.config.pagecode,\r\n                status: 'add'\r\n            })\r\n            //新增的时候使用零售不能编辑\r\n            _this.props.form.setFormItemsDisabled('org',{'isretail':true});//设置表单项不可用\r\n            //楼层加载数据也要清空\r\n            _this.setState({orgtypefloor:[]},_this.onRefresh());\r\n            //BillCode.getBillCode();\r\n            buttonToggleShow(props,'add');\r\n            break;\r\n        case 'cancel':\r\n            promptBox({\r\n                color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                title: _this.state.json['10100ORG-000100'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                content: _this.state.json['10100ORG-000002'],/* 国际化处理： 您确定要取消吗？*/\r\n                beSureBtnClick: () =>{\r\n                    let isbacklist = getDefData('orgunit_listadd',props.config.datasource);\r\n                    if(isbacklist == 'listadd'){\r\n                        props.button.setButtonDisabled(['enable'],false);\r\n                        setDefData('orgunit_btnopr',props.config.datasource,'refresh');\r\n                        props.pushTo('/list', {\r\n                            status: 'browse',\r\n                            pagecode:props.config.listpagecode\r\n                        })\r\n                    }else{\r\n                        //设置浏览器参数\r\n                        props.setUrlParam({\r\n                            status: 'browse',\r\n                            pagecode:props.config.pagecode,\r\n                            pk_org: pk_org\r\n                        })\r\n                        //记录按钮操作\r\n                        setDefData('orgunit_btnopr',props.config.datasource,'cancel');\r\n                        //记录可以用缓存数据，不需要强制走一遍数据库\r\n                        setDefData('orgunit_needquerydata_'+pk_org,_this.props.config.datasource,false);\r\n\r\n                        if(status == 'add'){\r\n                            //编码回收\r\n                            ajax({\r\n                                url:'/nccloud/uapbd/org/rollbackcode.do',\r\n                                data: {\r\n                                    code:props.form.getFormItemsValue('org','code').value,\r\n                                    pk_org:pk_org,\r\n                                    nodetype:_this.config.nodeType\r\n                                }, \r\n                                success:(res)=>{\r\n                                    if(res.success){        \r\n                                    }\r\n                                }\r\n                            });\r\n                            //新增取消的时候，把已经勾选的楼层清空\r\n                            _this.state.orgtypefloor = [];\r\n\r\n                            //将所有职能都设置为form都设置为浏览态\r\n                            props.config.orgtypearr.map((obj)=>{\r\n                                props.form.EmptyAllFormValue(obj.subGrid);\r\n                                props.form.setFormStatus(obj.subGrid,'browse');\r\n                            })\r\n                            \r\n                        }else{\r\n                            //将所有职能都设置为form都设置为浏览态\r\n                            props.config.orgtypearr.map((obj)=>{\r\n                                props.form.cancel(obj.subGrid);\r\n                                props.form.setFormStatus(obj.subGrid,'browse');\r\n                            })\r\n                        }\r\n                        _this.onRefresh();\r\n                        //当是新增的时候需要把界面编码清除\r\n                        if(undefined == props.form.getFormItemsValue('org','pk_org').value){\r\n                            props.form.setFormItemsValue('org',{'code':{value:null,display:null}});\r\n                        }\r\n                        //控制页面按钮状态\r\n                        buttonToggleShow(props,'cancel');\r\n                        //新增取消之后，停启用按钮不可以使用\r\n                        // if(status == 'add'){\r\n                        //     props.button.setButtonDisabled(['enable'],true);\r\n                        // }\r\n                        //控制停启用按钮\r\n                        toggleShow(props,props.form.getFormItemsValue('org','enablestate').value);\r\n\r\n                        //取消的时候设置卡片翻页显示\r\n                        _this.setState({\r\n                            showSubGrid:true\r\n                        });\r\n                    }\r\n                }   \r\n            })\r\n            break;\r\n        case 'edit':\r\n\r\n            //设置编码是否可以编辑,里面包含权限过滤\r\n            ajax({\r\n                url:'/nccloud/uapbd/org/getcode.do',\r\n                data: {pk_org:pk_org,status:'edit'}, \r\n                success:(res)=>{\r\n                    if(res.success){\r\n                        if(res.data){\r\n                            props.form.setFormItemsDisabled('org',{code:!res.data.isCodeEdit});\r\n                        }\r\n\r\n                        props.setUrlParam({\r\n                            status: 'edit',\r\n                            pagecode:props.config.pagecode,\r\n                            pk_org: pk_org\r\n                        })\r\n            \r\n                        //把勾选职能的设置为编辑态\r\n                        props.form.setFormStatus('org','edit');\r\n                        props.config.orgtypearr.map((obj)=>{\r\n                            //不显示停启用按钮，编辑态\r\n                            _this.toggleButtonShow (props,2,obj.subGrid);\r\n                            //将form设置为编辑态\r\n                            props.form.setFormStatus(obj.subGrid,'edit');\r\n                        })\r\n            \r\n                        //如果上级组织为空，说明为根节点，n那么修改的时候需要把上级组织设置为非必填 pk_fatherorg.display == undefined || pk_fatherorg.display == ''\r\n                        if(pk_fatherorg.display == undefined || pk_fatherorg.display == ''){\r\n                            // pk_fatherorgitem = meta1['org'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n                            // pk_fatherorgitem.required = false;\r\n                            // pk_fatherorgitem.disabled = true;\r\n                            // props.meta.setMeta(meta1);\r\n            \r\n                            props.form.setFormItemsDisabled('org',{'pk_fatherorg':true});\r\n                            props.form.setFormItemsRequired('org',{'pk_fatherorg':false});\r\n                        }\r\n                        //编辑的时候，如果选中的就是法人根节点，那么上级就不能编辑\r\n                        let corproot = getDefData('havecorprootorgunit',props.config.datasource);\r\n                        if(!corproot.haveroot || pk_org == corproot.pk){\r\n                            props.form.setFormItemsDisabled('corp',{'pk_fatherorg':true});\r\n                            props.form.setFormItemsRequired('corp',{'pk_fatherorg':false});\r\n                        }\r\n                        if(corproot.haveroot && pk_org != corproot.pk){\r\n                            props.form.setFormItemsDisabled('corp',{'pk_fatherorg':false});\r\n                            props.form.setFormItemsRequired('corp',{'pk_fatherorg':true});\r\n                        }\r\n                        \r\n                        //编辑的时候库存的财务组织，如果勾选财务，那么就不能编辑\r\n                        if(_this.state.childstate.financeorg){\r\n                                props.form.setFormItemsDisabled('stockorg',{pk_financeorg:true});//设置表单项不可用\r\n                        }\r\n                        //编辑的时候，如果选中的就是行政根节点，那么上级就不能编辑\r\n                        let adminroot = getDefData('haveadminrootorgunit',props.config.datasource);\r\n                        //编辑的时候会计期间方案和本位币是不可以修改\r\n                        props.form.setFormItemsDisabled('org',{'pk_accperiodscheme':true});\r\n                        props.form.setFormItemsDisabled('org',{'pk_currtype':true});\r\n            \r\n                        if(!adminroot.haveroot || pk_org == adminroot.pk){\r\n                            //如果勾选的是根节点，则对应的设置根节点按钮不可以使用\r\n                            props.form.setFormItemsDisabled('adminorg',{'pk_fatherorg':true});\r\n                            props.form.setFormItemsRequired('adminorg',{'pk_fatherorg':false});\r\n                        }\r\n                        if(adminroot.haveroot && pk_org != adminroot.pk){\r\n                            props.form.setFormItemsDisabled('adminorg',{'pk_fatherorg':false});\r\n                            props.form.setFormItemsRequired('adminorg',{'pk_fatherorg':true});\r\n                        }\r\n            \r\n                        //设置编码是否可以编辑\r\n                        ajax({\r\n                            url:'/nccloud/uapbd/org/getcode.do',\r\n                            data: {pk_org:pk_org,status:'edit'}, \r\n                            success:(res)=>{\r\n                                if(res.success){\r\n                                    if(res.data){\r\n                                        props.form.setFormItemsDisabled('org',{code:!res.data.isCodeEdit});\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                        if(getDefData('orgunit_needquerydata_'+pk_org,_this.props.config.datasource)){\r\n                            //修改如果发现界面数据没修改了，就需要重新刷新数据\r\n                            _this.onRefresh();\r\n                        }\r\n                        buttonToggleShow(props,'edit');\r\n                        //如果勾选了库存和销售，那么使用零售应该是可以操作的其他情况不可以操作\r\n                        var arr = _this.state.orgtypefloor.filter((obj)=>{\r\n                            //如果勾选利润中心，那么管控范围就不能为空\r\n                            if(\"stockorg\" == obj.subGrid){\r\n                                if(obj.isshow){\r\n                                    return true;\r\n                                }\r\n                            }\r\n                            if(\"saleorg\" == obj.subGrid){\r\n                                if(obj.isshow){\r\n                                    return true;\r\n                                }\r\n                            }\r\n                        })\r\n            \r\n                        if( arr.length > 0 ){\r\n                            _this.props.form.setFormItemsDisabled('org',{'isretail':false});//设置表单项可用\r\n                        }else{\r\n                            _this.props.form.setFormItemsDisabled('org',{'isretail':true});//设置表单项不可用\r\n                        }\r\n                        \r\n                        _this.setState({\r\n                            showSubGrid:false\r\n                        })\r\n                    }\r\n                }\r\n            });\r\n            //委托关系，需要根据开启的职能，关闭委托关系的不能编辑状态\r\n            //_this.dealrelationformstatus();\r\n            break;\r\n        case 'back':\r\n            //列表数据没有做缓存，所以每次返回都需要走一次后台查询\r\n            props.button.setButtonDisabled(['enable'],false);\r\n            setDefData('orgunit_btnopr',props.config.datasource,'refresh');\r\n            //返回的时候相当于没有勾选显示停用按钮\r\n            setDefData('orgunit_checkflag', this.config.datasource, false);\r\n            props.pushTo('/list', {\r\n                status: 'browse',\r\n                pagecode:props.config.listpagecode,\r\n                pk_org: pk_org\r\n            })\r\n            break;\r\n        case 'save':\r\n        //必填项校验\r\n            \r\n            let memberFlag = _this.props.form.isCheckNow('org');\r\n            if(!memberFlag){\r\n                return;\r\n            }\r\n            //记录错误提示信息\r\n            let warm = '';\r\n\r\n            //必填项校验\r\n            var errorarr = _this.state.orgtypefloor.filter((obj)=>{\r\n                //如果勾选利润中心，那么管控范围就不能为空\r\n                if(\"liabilitycenter\" == obj.subGrid){\r\n                    let pk_controlarea = props.form.getFormItemsValue('org','pk_controlarea');\r\n                    if(pk_controlarea.display == undefined || pk_controlarea.display == ''){\r\n                        warm = _this.state.json['10100ORG-000003'] + props.form.getFormItemsValue('org','name').name.value+_this.state.json['10100ORG-000004'];/* 国际化处理： 利润中心,的管控范围不能为空！*/\r\n                        return true;\r\n                    }\r\n                }\r\n                if(\"stockorg\" == obj.subGrid){\r\n                    //校验必填项\r\n                    if(!_this.props.form.isCheckNow('stockorg')){\r\n                        warm = _this.state.json['10100ORG-000005'];/* 国际化处理： 库存组织有必填项未填！*/\r\n                        return true;\r\n                    }\r\n                }\r\n                if(\"adminorg\" == obj.subGrid){\r\n                    //校验必填项\r\n                    if(!_this.props.form.isCheckNow('adminorg')){\r\n                        warm = _this.state.json['10100ORG-000006'];/* 国际化处理： 行政有必填项未填！*/\r\n                        return true;\r\n                    }\r\n                }\r\n                if(\"corp\" == obj.subGrid){\r\n                    //校验必填项\r\n                    if(!_this.props.form.isCheckNow('corp')){\r\n                        warm = _this.state.json['10100ORG-000007'];/* 国际化处理： 法人公司有必填项未填！*/\r\n                        return true;\r\n                    }\r\n                }\r\n            })\r\n\r\n            if(errorarr.length > 0 ){\r\n                //toast({content: '业务单元中法人公司才能维护logo！', color: 'warning'});\r\n                toast({content: warm, color: 'warning'});\r\n                return ;\r\n            }\r\n            //界面上勾选的所有职能form（包含表头）\r\n            let formidarr = [];\r\n            //修改的时候，以前存在，现在取消的职能数组（需要删除）\r\n            let deletemdata = [];\r\n            \r\n            let originalorgtypefloor = _this.state.originalorgtypefloor;\r\n            \r\n            //将原来存在现在取消的职能删除掉\r\n            originalorgtypefloor && originalorgtypefloor.map((a)=>{\r\n                _this.state.orgtypefloor.find((b)=>{\r\n                       if(a.subGrid == b.subGrid ){\r\n                           a.isshow = false;\r\n                       }\r\n               })\r\n               \r\n           });\r\n           originalorgtypefloor.map((delobj)=>{\r\n               if(delobj.isshow){\r\n                deletemdata.push(delobj.subGrid);  \r\n               }\r\n               delobj.isshow = true;\r\n           })\r\n            _this.state.orgtypefloor.map((obj)=>{\r\n                    //只往后台传勾选职能的form\r\n                    //if(obj.isshow){\r\n                //allneworgtype.push(obj);  \r\n                formidarr.push(obj.subGrid);\r\n                if(\"stockorg\" == obj.subGrid){\r\n                    formidarr.push(\"stocktrafficrelation\");\r\n                    formidarr.push(\"stockqccenterrelation\");\r\n                    formidarr.push(\"stockorgrelation\");\r\n                    formidarr.push(\"stockassetrelation\");\r\n                }\r\n                if(\"maintainorg\" == obj.subGrid){\r\n                    formidarr.push(\"maintainstockrelation\");\r\n                }\r\n                if(\"itemorg\" == obj.subGrid){\r\n                    formidarr.push(\"itemstockrelation\");\r\n                }\r\n                if(\"assetorg\" == obj.subGrid){\r\n                    formidarr.push(\"assetorgmaintainrelation\");\r\n                }\r\n                if(\"saleorg\" == obj.subGrid){\r\n                    formidarr.push(\"saleorgrelation\");\r\n                }\r\n                   //}\r\n            })\r\n            //把表头加进去\r\n            formidarr.push('org');\r\n\r\n            let formdata = props.form.getAllFormValue(formidarr);\r\n\r\n            let formdataarr = [];\r\n            //为了适配校验公式，需要把每个模板的pagecode传进去\r\n            if(formdata.adminorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.adminorg,\r\n                    pageid: '10100ORG_adminorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.assetorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.assetorg,\r\n                    pageid: '10100ORG_assetorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.corp != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.corp,\r\n                    pageid: '10100ORG_corp'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.factory != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.factory,\r\n                    pageid: '10100ORG_factory'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.fundorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.fundorg,\r\n                    pageid: '10100ORG_fundorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.financeorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.financeorg,\r\n                    pageid: '10100ORG_financeorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.hrorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.hrorg,\r\n                    pageid: '10100ORG_hrorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.itemorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.itemorg,\r\n                    pageid: '10100ORG_itemorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.liabilitycenter != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.liabilitycenter,\r\n                    pageid: '10100ORG_liabilitycenter'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.maintainorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.maintainorg,\r\n                    pageid: '10100ORG_maintainorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.org != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.org,\r\n                    pageid: '10100ORG_orgunitcard'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.planbudget != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.planbudget,\r\n                    pageid: '10100ORG_planbudget'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.plancenter != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.plancenter,\r\n                    pageid: '10100ORG_plancenter'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.purchaseorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.purchaseorg,\r\n                    pageid: '10100ORG_purchaseorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.qccenter != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.qccenter,\r\n                    pageid: '10100ORG_qccenter'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.saleorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.saleorg,\r\n                    pageid: '10100ORG_saleorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.stockorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.stockorg,\r\n                    pageid: '10100ORG_stockorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n            if(formdata.trafficorg != undefined){\r\n                formdataarr.push({\r\n                    model: formdata.trafficorg,\r\n                    pageid: '10100ORG_trafficorg'//pageid : 我们导出的模板的名字  也就是 json数据的最外层的code值\r\n                });\r\n            }\r\n\r\n            props.validateToSave(formdataarr,()=>{\r\n                //保存数据\r\n                ajax({\r\n                    url:'/nccloud/uapbd/org/save.do',\r\n                    //data:formdata,\r\n                    data:{formdata:formdata,status:status,deleteorgtype:deletemdata},\r\n                    success:(res)=>{\r\n                        let {success,data} = res;\r\n                        if(success){\r\n                            //设置浏览器状态，和参数\r\n                            props.setUrlParam({\r\n                                status: 'browse',\r\n                                pagecode:props.config.pagecode,\r\n                                pk_org: res.data.org.rows[0].values.pk_org.value\r\n                            })\r\n\r\n                            //保存的时候，如果是根节点行政组织，就设置为非必填项\r\n                            if(_this.state.childstate.adminorg && !getDefData('haveadminrootorgunit',props.config.datasource).haveroot){\r\n                                //如果保存的数据有行政，就把根行政设置为存在\r\n                                setDefData('haveadminrootorgunit',props.config.datasource,{'haveroot':true,\r\n                                'pk':res.data.org.rows[0].values.pk_org.value});\r\n                            }\r\n\r\n                            //保存的时候，如果是根节点法人组织，就设置为非必填项\r\n                            if(_this.state.childstate.corp && !getDefData('havecorprootorgunit',props.config.datasource).haveroot){\r\n                                //如果保存的数据有行政，就把根法人设置为存在\r\n                                setDefData('havecorprootorgunit',props.config.datasource,{'haveroot':true,\r\n                                'pk':res.data.org.rows[0].values.pk_org.value});\r\n                            }\r\n\r\n                            //保存的时候，如果是根节点组织，就设置为非必填项\r\n                            if(_this.state.childstate.org && !getDefData('haverootorgunit',props.config.datasource).haveroot){\r\n                                //如果保存的数据有行政，就把根设置为存在\r\n                                setDefData('haverootorgunit',props.config.datasource,{'haveroot':true,\r\n                                'pk':res.data.org.rows[0].values.pk_org.value});\r\n                            }\r\n\r\n                            //缓存数据\r\n                            setDefData('orgunit_carddata_'+res.data.org.rows[0].values.pk_org.value,\r\n                            props.config.datasource,undefined);\r\n\r\n                            setDefData('orgunit_listadd',props.config.datasource,'cardadd');\r\n                            //为了节省时间，界面的ts就不更新了，等用户需要在次操作的时候，更新界面ts\r\n                            setDefData('orgunit_needquerydata_'+pk_org,_this.props.config.datasource,true);\r\n                            //保存成功说明，根节点肯定就有了\r\n                            //setDefData('orgunit_haverootorgunit',_this.props.config.datasource,{'haveroot':true,'pk':res.data.org.rows[0].values.pk_org.value});\r\n                            //保存的时候， 都需要把楼层还有勾选的职能数据缓存一遍，以免保存完直接修改然后取消的时候，楼层和职能数据不能还原\r\n                            setDefData('orgunit_childstate',_this.config.datasource,JSON.parse(JSON.stringify(_this.state.childstate)));\r\n                            setDefData('orgunit_orgtypefloor',_this.config.datasource,_this.state.orgtypefloor);\r\n                            setDefData('orgunit_pk_org',props.config.datasource,res.data.org.rows[0].values.pk_org.value);\r\n                            setDefData('orgunit_name',props.config.datasource,res.data.org.rows[0].values.name.value);\r\n                            setDefData('orgunit_btnopr',props.config.datasource,'save');\r\n                            setDefData('orgunit_pk_accperiodscheme',props.config.datasource,res.data.org.rows[0].values.pk_accperiodscheme.value);\r\n                            _this.props.form.setFormItemsDisabled('org',{'pk_corp':false});//设置表单项不可用\r\n                            _this.props.form.setFormItemsRequired('org',{'pk_corp':false});\r\n\r\n\r\n                            buttonToggleShow(props,'save');\r\n                            //保存完之后应该是只显示停用\r\n                            toggleShow(props,'2');\r\n                            props.setUrlParam({status:'browse',pk_org:res.data.org.rows[0].values.pk_org.value});\r\n                            props.config.orgtypearr.map((obj)=>{\r\n                                props.form.setFormStatus(obj.subGrid,'browse');\r\n                            })\r\n\r\n                            //保存万需要刷新界面，添加新楼层\r\n                            _this.setState({\r\n                                orgtypefloor:_this.state.orgtypefloor,\r\n                                pk_org : res.data.org.rows[0].values.pk_org.value,\r\n                                originalorgtypefloor:JSON.parse(JSON.stringify(_this.state.orgtypefloor))\r\n                            });\r\n\r\n                            _this.onRefresh();\r\n\r\n                            buttonToggleShow(props,'save');\r\n                            //保存完之后应该是只显示停用\r\n                            toggleShow(props,'2');\r\n                            //将原来存在，现在删除的职能form数据清空\r\n                            originalorgtypefloor.map((delobj)=>{\r\n                                if(delobj.isshow){\r\n                                    props.form.EmptyAllFormValue(delobj.subGrid);\r\n                                    setDefData('orgunit_orgtypeformdata'+delobj.subGrid,props.config.datasource,undefined);\r\n                                }\r\n                            })\r\n                        };\r\n                    }\r\n                });\r\n            },{'orgdept':'form','adminorg':'form','assetorg':'form',\r\n               'corp':'form','factory':'form','financeorg':'form',\r\n               'fundorg':'form','hrorg':'form',\r\n               'innercustsupp':'form','itemorg':'form','liabilitycenter':'form',\r\n               'maintainorg':'form','orgmanager':'form','org':'form',\r\n               'orgvatfunclet':'form','planbudget':'form','plancenter':'form',\r\n               'purchaseorg':'form','qccenter':'form','saleorg':'form',\r\n               'stockorg':'form','trafficorg':'form'} , 'form')\r\n            \r\n            break;\r\n        case 'saveadd':\r\n            let memberFlag1 = _this.props.form.isCheckNow('org');\r\n            if(!memberFlag1){\r\n                return;\r\n            }\r\n            props.setUrlParam({\r\n                pagecode:props.config.pagecode,\r\n                status: 'add'\r\n            })\r\n            //必填项校验\r\n            var errorarr = _this.state.orgtypefloor.filter((obj)=>{\r\n                //如果勾选利润中心，那么管控范围就不能为空\r\n                if(\"liabilitycenter\" == obj.subGrid){\r\n                    let pk_controlarea = props.form.getFormItemsValue('org','pk_controlarea');\r\n                    if(pk_controlarea.display == undefined || pk_controlarea.display == ''){\r\n                        warm = _this.state.json['10100ORG-000003'] + props.form.getFormItemsValue('org','name').name.value+_this.state.json['10100ORG-000004'];/* 国际化处理： 利润中心,的管控范围不能为空！*/\r\n                        return true;\r\n                    }\r\n                }\r\n                if(\"stockorg\" == obj.subGrid){\r\n                    //校验必填项\r\n                    if(!_this.props.form.isCheckNow('stockorg')){\r\n                        warm = _this.state.json['10100ORG-000005'];/* 国际化处理： 库存组织有必填项未填！*/\r\n                        return true;\r\n                    }\r\n                }\r\n                if(\"adminorg\" == obj.subGrid){\r\n                    //校验必填项\r\n                    if(!_this.props.form.isCheckNow('adminorg')){\r\n                        warm = _this.state.json['10100ORG-000006'];/* 国际化处理： 行政有必填项未填！*/\r\n                        return true;\r\n                    }\r\n                }\r\n                if(\"corp\" == obj.subGrid){\r\n                    //校验必填项\r\n                    if(!_this.props.form.isCheckNow('corp')){\r\n                        warm = _this.state.json['10100ORG-000007'];/* 国际化处理： 法人公司有必填项未填！*/\r\n                        return true;\r\n                    }\r\n                }\r\n            })\r\n\r\n            if(errorarr.length > 0 ){\r\n                //toast({content: '业务单元中法人公司才能维护logo！', color: 'warning'});\r\n                toast({content: warm, color: 'warning'});\r\n                return ;\r\n            }\r\n            let formidarrs = [];\r\n            let deletemdata1 = [];\r\n\r\n            let originalorgtypefloor1 = _this.state.originalorgtypefloor;\r\n\r\n            originalorgtypefloor1 && originalorgtypefloor1.map((a)=>{\r\n                _this.state.orgtypefloor.find((b)=>{\r\n                       if(a.subGrid == b.subGrid ){\r\n                           a.isshow = false;\r\n                       }\r\n               })\r\n               \r\n           });\r\n           originalorgtypefloor1.map((delobj)=>{\r\n               if(delobj.isshow){\r\n                deletemdata1.push(delobj.subGrid);     \r\n               }\r\n               delobj.isshow = true;\r\n           })\r\n            _this.state.orgtypefloor.map((obj)=>{\r\n                    //只往后台传勾选职能的form\r\n                    //if(obj.isshow){\r\n                        formidarrs.push(obj.subGrid);\r\n                        if(\"stockorg\" == obj.subGrid){\r\n                            formidarrs.push(\"stocktrafficrelation\");\r\n                            formidarrs.push(\"stockqccenterrelation\");\r\n                            formidarrs.push(\"stockorgrelation\");\r\n                            formidarrs.push(\"stockassetrelation\");\r\n                        }\r\n                        if(\"maintainorg\" == obj.subGrid){\r\n                            formidarrs.push(\"maintainstockrelation\");\r\n                        }\r\n                        if(\"itemorg\" == obj.subGrid){\r\n                            formidarrs.push(\"itemstockrelation\");\r\n                        }\r\n                        if(\"assetorg\" == obj.subGrid){\r\n                            formidarrs.push(\"assetorgmaintainrelation\");\r\n                        }\r\n                        if(\"saleorg\" == obj.subGrid){\r\n                            formidarrs.push(\"saleorgrelation\");\r\n                        }\r\n                    //}\r\n                })\r\n                //把表头添加进去\r\n            formidarrs.push('org');\r\n            let formdatas = props.form.getAllFormValue(formidarrs);\r\n\r\n            ajax({\r\n                url:'/nccloud/uapbd/org/save.do',\r\n                //data:formdata,\r\n                data:{formdata:formdatas,status:status,deleteorgtype:deletemdata1},\r\n                success:(res)=>{\r\n                    let {success,data} = res;\r\n                    if(success){\r\n\r\n                        //保存的时候，如果是根节点行政组织，就设置为非必填项\r\n                        if(_this.state.childstate.adminorg && !getDefData('haveadminrootorgunit',props.config.datasource).haveroot){\r\n                            //如果保存的数据有行政，就把根行政设置为存在\r\n                            setDefData('haveadminrootorgunit',props.config.datasource,{'haveroot':true,\r\n                            'pk':res.data.org.rows[0].values.pk_org.value});\r\n                        }\r\n\r\n                        //保存的时候，如果是根节点法人组织，就设置为非必填项\r\n                        if(_this.state.childstate.corp && !getDefData('havecorprootorgunit',props.config.datasource).haveroot){\r\n                            //如果保存的数据有行政，就把根法人设置为存在\r\n                            setDefData('havecorprootorgunit',props.config.datasource,{'haveroot':true,\r\n                            'pk':res.data.org.rows[0].values.pk_org.value});\r\n                        }\r\n\r\n                        //保存的时候，如果是根节点组织，就设置为非必填项\r\n                        if(_this.state.childstate.org && !getDefData('haverootorgunit',props.config.datasource).haveroot){\r\n                            //如果保存的数据有行政，就把根设置为存在\r\n                            setDefData('haverootorgunit',props.config.datasource,{'haveroot':true,\r\n                            'pk':res.data.org.rows[0].values.pk_org.value});\r\n                        }\r\n\r\n                        props.form.setAllFormValue({['org']:res.data.org});\r\n                       // toast({ color: 'success', content: '保存成功！' });\r\n                        //保存成功说明，根节点肯定就有了\r\n                        //setDefData('orgunit_haverootorgunit',_this.props.config.datasource,{'haveroot':true,'pk':res.data.org.rows[0].values.pk_org.value});\r\n                        //保存完，将这个设置为最新的职能数据\r\n                        _this.setState({\r\n                            originalorgtypefloor:JSON.parse(JSON.stringify(_this.state.orgtypefloor))\r\n                        });\r\n                        //清空职能还有楼层信息\r\n                        props.config.orgtypearr.map((obj)=>{\r\n                            props.form.setFormStatus(obj.subGrid,'edit');\r\n                            //职能楼层还有职能form，和列表态进入新增一样\r\n                            _this.state.childstate[obj.subGrid] = false;\r\n                        \r\n                            props.form.EmptyAllFormValue(obj.subGrid);\r\n                            obj.isshow = false;\r\n                        })\r\n                        \r\n                        //按编码规则设置编码\r\n                        ajax({\r\n                            url:'/nccloud/uapbd/org/getcode.do',\r\n                            data: {pk_org:pk_org,status:'saveadd'}, \r\n                            success:(res)=>{\r\n                                if(res.success){\r\n                                    if(res.data){\r\n                                        props.form.setFormItemsDisabled('org',{code:!res.data.isCodeEdit});\r\n                                        props.form.setFormItemsValue('org',{'code':{value:res.data.newCode,display:res.data.newCode}});\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        setDefData('orgunit_listadd',props.config.datasource,'cardadd');\r\n                        //保存的时候， 都需要把楼层还有勾选的职能数据缓存一遍，以免保存完直接修改然后取消的时候，楼层和职能数据不能还原\r\n                        setDefData('orgunit_childstate',_this.config.datasource,JSON.parse(JSON.stringify(_this.state.childstate)));\r\n                        setDefData('orgunit_orgtypefloor',_this.config.datasource,_this.state.orgtypefloor);\r\n                        _this.props.form.setFormItemsDisabled('org',{'pk_corp':false});//设置表单项不可用\r\n                        _this.props.form.setFormItemsRequired('org',{'pk_corp':false});\r\n                        props.setUrlParam({\r\n                            status: 'add',\r\n                            pagecode:props.config.pagecode,\r\n                            pk_org: res.data.org.rows[0].values.pk_org.value\r\n                        })\r\n\r\n                        props.form.setFormItemsDisabled('org',{'pk_fatherorg':false});\r\n                        props.form.setFormItemsRequired('org',{'pk_fatherorg':true});\r\n                        //将原来存在，现在删除的职能form数据清空\r\n                        originalorgtypefloor1.map((delobj)=>{\r\n                            if(delobj.isshow){\r\n                                props.form.EmptyAllFormValue(delobj.subGrid);\r\n                                setDefData('orgunit_orgtypeformdata'+delobj.subGrid,props.config.datasource,undefined);\r\n                            }\r\n                        })\r\n                        //楼层加载数据也要清空\r\n                        _this.setState({orgtypefloor:[]});\r\n                    };\r\n                    \r\n                    buttonToggleShow(props,'saveadd');\r\n                }\r\n            });\r\n            break;\r\n        case 'delete':\r\n            if(props.form.getFormItemsValue('org','pk_org').value == undefined || props.form.getFormItemsValue('org','pk_org').value == null){\r\n                toast({content: _this.state.json['10100ORG-000008'], color: 'warning'});/* 国际化处理： 没有要删除的组织！*/\r\n                return ;\r\n            }\r\n            \r\n            ajax({\r\n                url:'/nccloud/uapbd/org/getcode.do',\r\n                data: {pk_org:pk_org,status:'edit'}, \r\n                success:(res)=>{\r\n                    if(res.success){     \r\n                        promptBox({\r\n                            color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                            title: _this.state.json['10100ORG-000099'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                            noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                            content: _this.state.json['10100ORG-000009'],/* 国际化处理： 确认删除？*/\r\n                            beSureBtnClick: () =>{\r\n                                ajax({\r\n                                    url:'/nccloud/uapbd/org/delete.do',\r\n                                    data:{pk_org:[pk_org]},\r\n                                    success:(res)=>{\r\n                                        if(res.success){\r\n                                            //删除完数据之后，应该加载下一条数据\r\n                                            //获取下一个主键值\r\n                                            let nextpk_org = _this.props.cardPagination.getNextCardPaginationId({id:pk_org,status:3});\r\n                                            _this.props.cardPagination.setCardPaginationId({id:pk_org,status:3});\r\n                                            _this.initData(nextpk_org);\r\n                                            \r\n                                            props.config.orgtypearr.map((obj)=>{\r\n                                                props.form.setFormStatus(obj.subGrid,'browse');\r\n                                                props.form.EmptyAllFormValue(obj.subGrid);\r\n                                            })\r\n                                            setDefData('orgunit_carddata_'+pk_org,undefined);\r\n                                            \r\n                                            setDefData('orgunit_pk_org',props.config.datasource,undefined);\r\n                                            setDefData('orgunit_code',props.config.datasource,undefined);\r\n                                            setDefData('orgunit_name',props.config.datasource,undefined);\r\n                                            setDefData('orgunit_shortname',props.config.datasource,undefined);\r\n                                            toast({ color: 'success', title: _this.state.json['10100ORG-000010'] });/* 国际化处理： 删除成功！*/\r\n                                            //编码回收\r\n                                            ajax({\r\n                                                url:'/nccloud/uapbd/org/rollbackcode.do',\r\n                                                data: {\r\n                                                    code:props.form.getFormItemsValue('org','code').value,\r\n                                                    pk_org:pk_org,\r\n                                                    nodetype:_this.config.nodeType\r\n                                                }, \r\n                                                success:(res)=>{\r\n                                                    if(res.success){        \r\n                                                    }\r\n                                                }\r\n                                            });\r\n                                            \r\n                                            _this.onRefresh(nextpk_org);\r\n                                            //删除完需要把浏览器中保存的pk_org清除掉\r\n                                            props.setUrlParam({\r\n                                                pk_org:nextpk_org,\r\n                                                status:'browse'\r\n                                            })\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }   \r\n                        })\r\n                    }\r\n                }\r\n            });\r\n            \r\n            break;\r\n        case 'disable':\r\n            if(props.form.getFormItemsValue('org','pk_org').value == undefined || props.form.getFormItemsValue('org','pk_org').value == null){\r\n                toast({content: _this.state.json['10100ORG-000011'], color: 'warning'});/* 国际化处理： 没有要停用的组织！*/\r\n                return ;\r\n            }\r\n            ajax({\r\n                url:'/nccloud/uapbd/org/getcode.do',\r\n                data: {pk_org:pk_org,status:'edit'}, \r\n                success:(res)=>{\r\n                    if(res.success){     \r\n                        promptBox({\r\n                            color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                            title: _this.state.json['10100ORG-000103'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                            noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                            content: _this.state.json['10100ORG-000034'],/* 国际化处理： 确认停用该组织？*/\r\n                            beSureBtnClick: () =>{\r\n                                ajax({\r\n                                    url:'/nccloud/uapbd/org/disable.do',\r\n                                    data:{pk_org:[pk_org]},\r\n                                    success:(res)=>{\r\n                                        if(res.success){\r\n                                            props.config.orgtypearr.map((obj)=>{\r\n                                                props.form.setFormStatus(obj.subGrid,'browse');\r\n                                            })\r\n                                           // setDefData('orgunit_carddata_'+pk_org,undefined);\r\n                                            //_this.onRefresh();\r\n                                            //更新表头ts和停启用状态\r\n                                            dealdefaultdata(res.data,props,_this.state.json['10100ORG-000013'],3,false,pk_org);/* 国际化处理： 已停用*/\r\n                                            toast({ color: 'success', title: _this.state.json['10100ORG-000014'] });/* 国际化处理： 停用成功！*/\r\n                                            toggleShow(props,'3');\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }   \r\n                        })\r\n                    }\r\n                }\r\n            });\r\n            \r\n            break;\r\n        case 'enable':\r\n\r\n            if(props.form.getFormItemsValue('org','pk_org').value == undefined || props.form.getFormItemsValue('org','pk_org').value == null){\r\n                toast({content: _this.state.json['10100ORG-000015'], color: 'warning'});/* 国际化处理： 没有要启用的组织！*/\r\n                return ;\r\n            }\r\n            ajax({\r\n                url:'/nccloud/uapbd/org/getcode.do',\r\n                data: {pk_org:pk_org,status:'edit'}, \r\n                success:(res)=>{\r\n                    if(res.success){     \r\n                        promptBox({\r\n                            color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                            title: _this.state.json['10100ORG-000102'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                            noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                            content: _this.state.json['10100ORG-000102'],/* 国际化处理： 确认启用该组织？*/\r\n                            beSureBtnClick: () =>{\r\n                                ajax({\r\n                                    url:'/nccloud/uapbd/org/enable.do',\r\n                                    data:{pk_org:[pk_org]},\r\n                                    success:(res)=>{\r\n                                        if(res.success){\r\n                                            props.config.orgtypearr.map((obj)=>{\r\n                                                props.form.setFormStatus(obj.subGrid,'browse');\r\n                                            })\r\n                                            //setDefData('orgunit_carddata_'+pk_org,undefined);\r\n                                            //更新表头ts和停启用状态\r\n                                            dealdefaultdata(res.data,props,_this.state.json['10100ORG-000017'],2,false,pk_org);/* 国际化处理： 已启用*/\r\n                                            //_this.onRefresh();\r\n                                            toast({ color: 'success', title: _this.state.json['10100ORG-000018'] });/* 国际化处理： 启用成功！*/\r\n                                            toggleShow(props,'2');\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }   \r\n                        })\r\n                    }\r\n                }\r\n            });\r\n            \r\n            break;\r\n        case 'refresh':\r\n            //props.onRefresh();\r\n            //刷新按钮，不走缓存，直接查询数据库\r\n            setDefData('orgunit_btnopr',props.config.datasource,'refresh');\r\n            setDefData('orgunit_needquerydata_'+pk_org,_this.props.config.datasource,true);\r\n            _this.initData(pk_org);\r\n            _this.onRefresh();\r\n           // toast({content:'刷新成功',color:'success'});\r\n            break;\r\n        case 'version':\r\n            //版本化\r\n           props.modal.show('org_v',{title:this.state.json['10100ORG-000056']});\r\n           //查询版本信息还有新版本号\r\n           let reqData = [\r\n            {\r\n                rqUrl: '/uapbd/org/queryversionvno.do',\r\n                rqJson: `{\\n  \\\"pk_org\\\": \\\"${pk_org}\\\"\\n}`,\r\n                rqCode: 'versionvno'\r\n            },\r\n            {\r\n                rqUrl: '/uapbd/org/queryversionvo.do',\r\n                rqJson: `{\\n  \\\"pk_org\\\": \\\"${pk_org}\\\"\\n}`,\r\n                rqCode: 'versionvos'\r\n            }\r\n            ];\r\n            ajax({\r\n                url :'/nccloud/platform/pub/mergerequest.do',\r\n                data : reqData,\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        //给table赋值versionvo\r\n                        props.table.setAllTableData('org_v',res.data.versionvos['org_v']);\r\n                        //给form赋值versioncode\r\n                        props.form.setAllFormValue({['org_v_head']:res.data.versionvno['org_v_head']});\r\n                    // props.form.setFormItemsValue('org_v_head',{vno:{value:res.data['versionvno'],display:res.data['versionvno']}});\r\n                    //  props.form.setFormItemsValue('org_v_head',{pk_org:{value:pk_org,display:pk_org}});\r\n                    }\r\n                }\r\n            });\r\n           props.form.setFormStatus('org_v_head','edit');\r\n           break;\r\n        case 'financeorgversion':\r\n            \r\n            ajax({\r\n                url :'/nccloud/uapbd/org/queryfinanceversion.do',\r\n                data:{type:'1'},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                    \r\n                        if(res.data){\r\n                            props.modal.show('financeorg_v',{title:_this.state.json['10100ORG-000019']});/* 国际化处理： 财务组织版本化*/\r\n                            props.form.EmptyAllFormValue('financeorg_v');\r\n                            props.form.setAllFormValue({['financeorg_v']:res.data['financeorg_v']});\r\n                        }\r\n                        setDefData('orgunit_versiontype',props.config.datasource,'1');\r\n                        setDefData('orgunit_modalid',props.config.datasource,'financeorg_v');\r\n                        //cacheTools.set('orgunit_versiontype','1');\r\n                        //cacheTools.set('orgunit_modalid','financeorg_v');\r\n                        props.form.setFormStatus('financeorg_v','edit');\r\n                    }\r\n                }\r\n            });\r\n            \r\n            break;\r\n\r\n        case 'adminorgversion':\r\n            \r\n            ajax({\r\n                url :'/nccloud/uapbd/org/queryfinanceversion.do',\r\n                data:{type:'4'},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        if(res.data){\r\n                            props.modal.show('financeorg_v',{title:_this.state.json['10100ORG-000020']});/* 国际化处理： 行政组织体系版本化*/\r\n                            props.form.EmptyAllFormValue('financeorg_v');\r\n                            props.form.setAllFormValue({['financeorg_v']:res.data['financeorg_v']});\r\n                        }\r\n                        setDefData('orgunit_versiontype',props.config.datasource,'4');\r\n                        setDefData('orgunit_modalid',props.config.datasource,'financeorg_v');\r\n                        //cacheTools.set('orgunit_versiontype','4');\r\n                       // cacheTools.set('orgunit_modalid','financeorg_v');\r\n                        props.form.setFormStatus('financeorg_v','edit');\r\n                    }\r\n                }\r\n            });\r\n            \r\n            break;\r\n\r\n        case 'liabilitycenterversion':\r\n            // props.modal.show('financeorg_v',{title:'利润中心体系版本化'});\r\n            // props.form.EmptyAllFormValue('financeorg_v');\r\n            ajax({\r\n                url :'/nccloud/uapbd/org/queryfinanceversion.do',\r\n                data:{type:'2'},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        \r\n                        if(res.data){\r\n                            if('error' == res.data['financeorg_v'].rows[0].values.vname.value){\r\n                                promptBox({\r\n                                    color:'warning',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                                    title: _this.state.json['10100ORG-000001'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 请注意*/\r\n                                    noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                                    content: _this.state.json['10100ORG-000021'],/* 国际化处理： 该集团下还未创建利润中心,确定要进行利润中心体系的版本化操作吗？*/\r\n                                    beSureBtnClick: () =>{\r\n                                        props.modal.show('financeorg_v',{title:_this.state.json['10100ORG-000022']});/* 国际化处理： 利润中心体系版本化*/\r\n                                        props.form.EmptyAllFormValue('financeorg_v');\r\n                                        props.form.setAllFormValue({['financeorg_v']:res.data['financeorg_v']});\r\n                                        props.form.setFormItemsValue('financeorg_v',{'vname':{value:null,display:null}})\r\n                                    }   \r\n                                })\r\n                                // props.modal.show('confirm',{\r\n                                //     title:'提示',\r\n                                //     content: \"该集团下还未创建利润中心,确定要进行利润中心体系的版本化操作吗？\",\r\n                                //     userControl:false,//自己控制什么时候关闭窗口\r\n                                //     beSureBtnClick:()=>{\r\n                                //     props.modal.show('financeorg_v',{title:'利润中心体系版本化'});\r\n                                //     props.form.EmptyAllFormValue('financeorg_v');\r\n                                //     props.form.setAllFormValue({['financeorg_v']:res.data['financeorg_v']});\r\n                                //     props.form.setFormItemsValue('financeorg_v',{'vname':{value:null,display:null}})\r\n                                //    }\r\n                                // });\r\n                            }else{\r\n                                props.modal.show('financeorg_v',{title:_this.state.json['10100ORG-000022']});/* 国际化处理： 利润中心体系版本化*/\r\n                                props.form.EmptyAllFormValue('financeorg_v');\r\n                                props.form.setAllFormValue({['financeorg_v']:res.data['financeorg_v']});\r\n                            }\r\n                            setDefData('orgunit_versiontype',props.config.datasource,'2');\r\n                            setDefData('orgunit_modalid',props.config.datasource,'financeorg_v');\r\n                            props.form.setFormStatus('financeorg_v','edit');\r\n                            \r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            \r\n            break;\r\n\r\n        case 'hrorgversion':\r\n            \r\n            ajax({\r\n                url :'/nccloud/uapbd/org/queryfinanceversion.do',\r\n                data:{type:'3'},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        if(res.data){\r\n                            props.modal.show('financeorg_v',{title:_this.state.json['10100ORG-000023']});/* 国际化处理： 人力资源组织体系版本化*/\r\n                            props.form.EmptyAllFormValue('financeorg_v');\r\n                            props.form.setAllFormValue({['financeorg_v']:res.data['financeorg_v']});\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            setDefData('orgunit_versiontype',props.config.datasource,'3');\r\n            setDefData('orgunit_modalid',props.config.datasource,'financeorg_v');\r\n            props.form.setFormStatus('financeorg_v','edit');\r\n            break;\r\n\r\n        case 'orgmanager':\r\n        //组织主管\r\n            \r\n            ajax({\r\n                url :'/nccloud/uapbd/org/orgmanagerquery.do',\r\n                data:{pk_org:pk_org},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        props.modal.show('orgmanager',{title:this.state.json['10100ORG-000057']});\r\n                        if(res.data){\r\n                            props.editTable.setTableData('orgmanager',res.data.orgmanager);\r\n                        }else{\r\n                            props.editTable.setTableData('orgmanager',{rows: []});\r\n                        }\r\n                        props.button.setButtonDisabled(['orgmanagedel'],true);\r\n                        props.button.setButtonVisible(['orgmanagesave','orgmanagecancel'],false);\r\n                        props.button.setButtonVisible(['orgmanageadd','orgmanageedit','orgmanagerefresh','orgmanagedel'],true);\r\n                    }\r\n                }\r\n            });\r\n            \r\n            break;\r\n\r\n        case 'attachconfig':\r\n            //附件管理\r\n            _this.setState({\r\n                showUploader: true,\r\n            })\r\n\r\n                break;\r\n        case 'logomanage':\r\n                //logo管理\r\n                if(!_this.state.childstate.corp){\r\n                    toast({content: _this.state.json['10100ORG-000024'], color: 'warning'});/* 国际化处理： 业务单元中法人公司才能维护logo！*/\r\n                    return;\r\n                }\r\n                _this.setState({\r\n                    showlogoUploader: true,\r\n                })\r\n            break;\r\n\r\n        case 'orgmoduleperiod':\r\n            //业务期初期间\r\n            //业务单元需具有以下四种职能之一：财务、资金、库存、资产，且已经启用时，才可以执行业务期初期间操作.\r\n                ajax({\r\n                    url :'/nccloud/uapbd/org/orgmoduleperiod.do',\r\n                    data:{pk_org: pk_org},\r\n                    success : (res) => {\r\n                        if(res.success){\r\n                            \r\n                            if(res.data){\r\n                                props.modal.show('orgmoduleperiod');\r\n                                props.editTable.setTableData('orgmoduleperiod',res.data.orgmoduleperiod);\r\n                            }else{\r\n                                props.editTable.setTableData('orgmoduleperiod',{rows: []});\r\n                            }\r\n                            props.editTable.setStatus('orgmoduleperiod','edit');\r\n                        }\r\n                    }\r\n                });\r\n            \r\n                 break;\r\n\r\n            case 'createinnercustsupp':\r\n                //生成内部客商\r\n                //内部客商必须要把国家地区维护\r\n                props.form.setItemsVisible('innercustsupp',{'code':true,'custname':true,'custshortname':true});\r\n                if(!props.form.getFormItemsValue('org','countryzone').value){\r\n                    toast({content: _this.state.json['10100ORG-000025'], color: 'warning'});/* 国际化处理： 请先维护该组织的国家地区属性！*/\r\n                    return;\r\n                }\r\n                ajax({\r\n                    url :'/nccloud/uapbd/org/checkinnercustsupp.do',\r\n                    data:{pk_org: pk_orgarr},\r\n                    success : (res) => {\r\n                        if(res.success){\r\n                            \r\n                            if(res.data.exists){\r\n                                toast({content : res.data.existscontent,color : 'warning'});\r\n                                return ;\r\n                            }else{\r\n                                props.modal.show('innercustsupp');\r\n                                props.form.setFormStatus('innercustsupp','edit');\r\n                                props.form.EmptyAllFormValue('innercustsupp');\r\n                                \r\n                                props.form.setFormItemsValue('innercustsupp',{code:{value:getDefData('orgunit_code', props.config.datasource),display:getDefData('orgunit_code', props.config.datasource)}});\r\n                                \r\n                                props.form.setFormItemsValue('innercustsupp',{custname:{value:getDefData('orgunit_name', props.config.datasource),display:getDefData('orgunit_name', props.config.datasource)}});\r\n                                props.form.setFormItemsValue('innercustsupp',{custshortname:{value:getDefData('orgunit_shortname', props.config.datasource),display:getDefData('orgunit_shortname', props.config.datasource)}});\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            break;\r\n\r\n        case'editVAT':\r\n        //维护vat\r\n            if(!_this.state.childstate.financeorg){\r\n                toast({content: _this.state.json['10100ORG-000026'], color: 'warning'});/* 国际化处理： 业务单元中财务才能维护VAT！*/\r\n                return;\r\n            }\r\n            ajax({\r\n                url :'/nccloud/uapbd/org/vatquery.do',\r\n                data:{pk_org: pk_org},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        \r\n                        props.modal.show('orgvatfunclet');\r\n                        if(res.data){\r\n                            props.editTable.setTableData('orgvatfunclet',res.data.orgvatfunclet);\r\n                        }else{\r\n                            props.editTable.setTableData('orgvatfunclet',{rows: []});\r\n                        }\r\n                        props.button.setButtonDisabled(['vatdel'],true);\r\n                        props.editTable.setStatus('orgvatfunclet','browse');\r\n                        props.button.setButtonVisible(['vatadd','vatdel','vatedit','vatrefresh'],true);\r\n                        props.button.setButtonVisible(['vatsave','vatcancel','vatlinedel'],false);\r\n                    }\r\n                }\r\n            });\r\n            break;\r\n\r\n        case'orgunitreldept':\r\n        //业务单元关联部门\r\n            \r\n            ajax({\r\n                url :'/nccloud/uapbd/org/querytreenode.do',\r\n                data:{pk_org: pk_org},\r\n                success : (res) => {\r\n                    if(res.success){\r\n                        \r\n                        props.modal.show('orgdept');\r\n                        //转换树的父子关系\r\n                        //let treeData = dealTreeData(res.data);\r\n                        props.syncTree.setSyncTreeData('orgunittree', res.data);\r\n                        //设置默认中第一行\r\n                        props.syncTree.setNodeSelected('orgunittree', pk_org);\r\n                        _this.onSelectEve( pk_org,null,true);\r\n                        // if(res.data[0].refpk!=='root'){\r\n                        //     props.onSelectEve( res.data[0].refpk,null,true);\r\n                        // }\r\n                    }else{\r\n                        alert(res.message);\r\n                    }\r\n                }\r\n            });\r\n            break;\r\n        case'copy':\r\n            setDefData('orgunit_btnopr',props.config.datasource,'copy');\r\n            //cacheTools.set('orgunit_btnopr','copy');\r\n            props.setUrlParam({\r\n                status: 'copy',\r\n                pagecode:props.config.pagecode,\r\n                pk_org: pk_org\r\n            })\r\n\r\n            //_this.getdata(pk_org);\r\n            //清除表头先关信息\r\n            props.form.setFormItemsValue('org',{'pk_org':{value:null,display:null}});\r\n            props.form.setFormItemsValue('org',{'innercode':{value:null,display:null}});\r\n            props.form.setFormItemsValue('org',{'code':{value:null,display:null}});\r\n            props.form.setFormItemsValue('org',{'name':{value:null,display:null},'name2':{value:null,display:null},'name3':{value:null,display:null}});\r\n            props.form.setFormItemsValue('org',{'shortname':{value:null,display:null},'shortname2':{value:null,display:null},'shortname3':{value:null,display:null}});\r\n            \r\n            //清空职能信息\r\n            //_this.state.orgtypefloor\r\n            //复制的时候，法人的上级公司不清空\r\n            let corpfaterorg  = props.form.getFormItemsValue('corp','pk_fatherorg');\r\n            //清空所有form数据\r\n            _this.props.config.orgtypearr.map((obj)=>{\r\n            //不显示停启用按钮，编辑态\r\n            _this.toggleButtonShow (props,2,obj.subGrid);\r\n            if('org' != obj.subGrid){\r\n                props.form.setFormStatus(obj.subGrid,'edit');\r\n                props.form.EmptyAllFormValue(obj.subGrid);\r\n            }\r\n            })\r\n            if(_this.state.childstate.corp){\r\n                //复制的时候，法人的上级公司不清空\r\n                props.form.setFormItemsValue('corp',{'pk_fatherorg':{value:corpfaterorg.value,display:corpfaterorg.display}});\r\n            }\r\n            \r\n            //如果上级组织为空，说明为根节点，n那么修改的时候需要把上级组织设置为非必填 pk_fatherorg.display == undefined || pk_fatherorg.display == ''\r\n\r\n            // pk_fatherorgitem = meta1['org'].items.find((item) => item.attrcode == 'pk_fatherorg');\r\n            // pk_fatherorgitem.required = true;\r\n            // pk_fatherorgitem.disabled = false;\r\n            // props.meta.setMeta(meta1);\r\n\r\n            props.form.setFormItemsDisabled('org',{'pk_fatherorg':false});\r\n            props.form.setFormItemsRequired('org',{'pk_fatherorg':true});\r\n\r\n            props.form.setFormStatus('org','edit');\r\n            buttonToggleShow(props,'add');\r\n            //自动生成编码\r\n            ajax({\r\n                url:'/nccloud/uapbd/org/getcode.do',\r\n                data: {pk_org:pk_org,status:status}, \r\n                success:(res)=>{\r\n                    if(res.success){     \r\n                        if(res.data){\r\n                            props.form.setFormItemsDisabled('org',{code:!res.data.isCodeEdit});\r\n                            props.form.setFormItemsValue('org',{'code':{value:res.data.newCode,display:res.data.newCode}});\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            _this.dealrelationformstatus();\r\n            _this.setState({\r\n                showSubGrid:false\r\n            })\r\n            break;\r\n\r\n\r\n        case 'print':\r\n            let pks = getDefData('orgunit_allpkorg', props.config.datasource);//cacheTools.get('orgunit_allpkorg');\r\n            print(\r\n                'pdf',  //支持两类: 'html'为模板打印, 'pdf'为pdf打印\r\n                '/nccloud/uapbd/org/print.do', \r\n                {\r\n                    //billtype:'',  //单据类型\r\n                    funcode: props.config.appcode,      //功能节点编码，即模板编码\r\n                    nodekey:'cardPrint',     //模板节点标识\r\n                    oids: [pk_org]    //或['1001A41000000000A9LR','1001A410000000009JDD']  单据pk  oids含有多个元素时为批量打印,\r\n                },false\r\n            );\r\n            break;\r\n        case 'export':\r\n            let pks1 = getDefData('orgunit_allpkorg', props.config.datasource);//cacheTools.get('orgunit_allpkorg');\r\n            _this.setState({\r\n                pks: pks1\r\n             },_this.refs.printOutput.open());\r\n            // print(\r\n            //     'pdf',  //支持两类: 'html'为模板打印, 'pdf'为pdf打印\r\n            //     '/nccloud/uapbd/org/print.do', \r\n            //     {\r\n            //         //billtype:'',  //单据类型\r\n            //         funcode: props.config.appcode,      //功能节点编码，即模板编码\r\n            //         //nodekey:'',     //模板节点标识\r\n            //         nodekey:'cardPrint', \r\n            //         outputType:'output',\r\n            //         oids: [pk_org]    //或['1001A41000000000A9LR','1001A410000000009JDD']  单据pk  oids含有多个元素时为批量打印,\r\n            //     }\r\n            // );\r\n            break;\r\n\r\n        case'setorgroot':\r\n            promptBox({\r\n                color:'info',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                title: _this.state.json['10100ORG-000027'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 提示*/\r\n                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                content: _this.state.json['10100ORG-000028'],/* 国际化处理： 您确定要设置成根业务单元吗？*/\r\n                beSureBtnClick: () =>{\r\n                    _this.onSetUnitOrgRoot();\r\n                }   \r\n            })\r\n            //props.modal.show('setorgroot');\r\n            break;\r\n\r\n        case'setcorproot':\r\n            promptBox({\r\n                color:'info',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                title: _this.state.json['10100ORG-000027'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 提示*/\r\n                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                content: _this.state.json['10100ORG-000029'],/* 国际化处理： 您确定要设置成根公司吗？*/\r\n                beSureBtnClick: () =>{\r\n                    _this.onSetCorpRoot();\r\n                }   \r\n            })\r\n            //props.modal.show('setcorproot');\r\n            break;\r\n\r\n        case'setadminorgroot':\r\n            promptBox({\r\n                color:'info',// 提示类别默认\"success\"， \"success\"/\"info\"/\"warning\"/\"danger\",非必输\r\n                title: _this.state.json['10100ORG-000027'],// 提示标题, 默认不同类别下分别为：\"已成功\"/\"帮助信息\"/\"请注意\"/\"出错啦\",非必输/* 国际化处理： 提示*/\r\n                noFooter: false,// 是否显示底部按钮(确定、取消),默认显示(false),非必输\r\n                content: _this.state.json['10100ORG-000030'],/* 国际化处理： 您确定要设置成根行政组织吗？*/\r\n                beSureBtnClick: () =>{\r\n                    _this.onSetAdminOrgRoot();\r\n                }   \r\n            })\r\n            //props.modal.show('setadminorgroot');\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\n    //切换页面状态--设置按钮显示和业务状态\r\nfunction  toggleShow (props,enablestate){\r\n        if(enablestate =='2'){//启用状态\r\n            props.button.setButtonsVisible({\r\n                disable:true,\r\n                enable:false,\r\n            });\r\n        }else{\r\n            props.button.setButtonsVisible({\r\n                disable:false,\r\n                enable:true,\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    function buttonToggleShow(props,status){\r\n        //let status = props.getUrlParam('status');\r\n        //按钮的显示状态\r\n        if(status == 'add' || status == 'saveadd'){\r\n            props.button.setButtonVisible(['save','saveadd','cancel'],true);\r\n            props.button.setButtonVisible(['edit','delete','copy','enable','disable','add','more','refresh'],false);\r\n            props.button.setButtonVisible(['versions','auxiliary','orgunitreldept','printpage','setroot','back'],false);\r\n        }else if(status =='edit'){\r\n            props.button.setButtonVisible(['save','cancel'],true);\r\n            props.button.setButtonVisible(['edit','delete','copy','enable','disable','add','saveadd','more','refresh'],false);\r\n            props.button.setButtonVisible(['versions','auxiliary','orgunitreldept','printpage','setroot','back'],false);\r\n        }else{\r\n            //设置根节点按钮，只有集团管理员登录才可以看见\r\n            let setroot = getDefData('orgunit_setroot', props.config.datasource);//cacheTools.get('orgunit_setroot');\r\n            props.button.setButtonVisible(['setroot-2'],setroot);\r\n            props.button.setButtonVisible(['save','saveadd','cancel','back'],false);\r\n            props.button.setButtonVisible(['edit','delete','copy','enable','disable','add','more','refresh'],true);\r\n            props.button.setButtonVisible(['versions','auxiliary','orgunitreldept','printpage'],true);\r\n        }\r\n    }\r\n\r\n\r\n     /**\r\n     * 处理树数据\r\n     * @param data\r\n     * @returns {*}\r\n     */\r\nfunction dealTreeData(data){\r\n    let deleteDataChildrenProp = function(node){\r\n        node.iconBox = {\r\n            delIcon:false,\r\n            editIcon:false,\r\n            addIcon:false\r\n        }\r\n        if(!node.children || node.children.length == 0) {\r\n            delete node.children;\r\n        }\r\n        else{\r\n            node.isLeaf = false;\r\n            node.children.forEach( (e) => {\r\n                deleteDataChildrenProp(e);\r\n            } );\r\n        }\r\n    };\r\n    data.forEach( (e) => {\r\n        e.iconBox = {\r\n            delIcon:false,\r\n            editIcon:false,\r\n            addIcon:false\r\n        }\r\n        deleteDataChildrenProp(e);\r\n    });\r\n    return data;\r\n}\r\n\r\n/**\r\n     * 停启用等修改数据后，表头ts和停启用字段更新\r\n     * @param data\r\n     * @returns {*}\r\n     */\r\n    function dealdefaultdata(data,props,display,value,onlyupdatets,pk_org){\r\n        //停启用之后不用刷新所有数据，只需要把停启用状态修改就可以了\r\n        if(onlyupdatets){\r\n            props.form.setFormItemsValue('org',{'ts':{value:data[pk_org],display:null}});\r\n        }else{\r\n            props.form.setFormItemsValue('org',{'ts':{value:data[pk_org],display:null},\r\n                'enablestate':{value:value,display:display}});\r\n        }\r\n        \r\n        //如果有缓存数据，也需要把缓存的数据修改\r\n        let enablecarddata = getDefData('orgunit_carddata_'+pk_org,props.config.datasource);\r\n        if(enablecarddata){\r\n            enablecarddata.find((item) => {\r\n                if(item.hasOwnProperty('org')){\r\n                    if(onlyupdatets){\r\n                        item.org.rows[0].values.ts.value = data[pk_org];\r\n                    }else{\r\n                        item.org.rows[0].values.enablestate.display = display;\r\n                        item.org.rows[0].values.enablestate.value = value;\r\n                        item.org.rows[0].values.ts.value = data[pk_org];\r\n                    }\r\n                }\r\n            });\r\n            //修改完数据之后，需要更新缓存数据\r\n            setDefData('orgunit_carddata_'+pk_org,props.config.datasource,enablecarddata);\r\n        }\r\n    }\r\n\r\n\r\n","import {ajax,cardCache} from 'nc-lightapp-front';\r\nlet {setDefData, getDefData } = cardCache;\r\n\r\nexport default  function(props, pk){\r\n\r\n    let btnopr = getDefData('orgunit_btnopr', props.config.datasource);//cacheTools.get('orgunit_btnopr');\r\n        let data = {\r\n            pk_org:pk,btnopr:btnopr\r\n        };\r\n \r\n    let status = props.getUrlParam('status');\r\n    let that = this;\r\n    ajax({\r\n        url: queryorgunitUrl,\r\n        data:data,\r\n        success: (res) => {\r\n            if(res.data){\r\n                res.data.map((obj) =>{\r\n                    that.config.orgtypearr.map((enb)=>{\r\n                        if(obj.hasOwnProperty('org')){\r\n                            if(!(status == 'add' ||  status == 'edit')){\r\n                                //控制表头的停用启用\r\n                                that.props.toggleShow(that.props,obj.org.rows[0].values.enablestate.value)\r\n                            }\r\n                            setDefData('orgunit_name',props.config.datasource,obj.org.rows[0].values.name.value);\r\n                            //cacheTools.set('orgunit_name',obj.org.rows[0].values.name.value)\r\n                        }\r\n                        if(obj.hasOwnProperty(enb.subGrid)){\r\n                            that.props.toggleButtonShow(that.props,obj[enb.subGrid].rows[0].values.enablestate.value,enb.subGrid);\r\n                            that.props.form.setAllFormValue({[enb.subGrid]:obj[enb.subGrid]});\r\n                        }\r\n                    })\r\n                })\r\n                if(status != 'browse'){\r\n                    that.props.form.setFormStatus('org','edit');\r\n                }\r\n            }\r\n        }\r\n    }); \r\n}\r\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".wuliu {\\n  position: absolute;\\n  right: 20px;\\n  left: 90px;\\n  display: inline-block;\\n  height: 1px;\\n  border: 1px dashed rgba(206, 206, 206, 0.75);\\n  margin-top: 6px;\\n}\\n.operator-tit {\\n  padding: 0 20px;\\n  font-size: 12px;\\n}\\n.orgunit-financeorg .nc-singleTable-table-area {\\n  margin-top: 10px;\\n}\\n.orgunit-card .showOff {\\n  margin-left: 20px;\\n}\\n.nc-bill-card .nc-bill-table-list .button-app-wrapper .u-button {\\n  float: right;\\n  top: -30px;\\n  right: 10px;\\n}\\n.orgunit-card-orgmoduleperiod .u-table-body {\\n  min-height: auto!important;\\n}\\n.nc-bill-header-area .back-btn {\\n  padding-right: 6px!important;\\n}\\n.orgmanager .orgmanager-button-parent {\\n  position: absolute;\\n  height: 100%;\\n  right: 0;\\n  top: 0;\\n  white-space: 'nowrap';\\n  overflow: 'hidden';\\n  text-overflow: 'ellipsis';\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n.orgmanager .orgmanager-button-text {\\n  position: absolute;\\n  height: 100%;\\n  left: 0;\\n  top: 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\", \"\"]);\n\n// exports\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./card.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/_style-loader@0.18.2@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./card.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!../../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./card.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".nc-bill-card .collapse {\\n  padding-top: 30px;\\n}\\n.nc-bill-card .u-button::after {\\n  clear: both;\\n}\\n.nc-bill-card .nc-bill-table-area .collapse {\\n  padding-top: 0;\\n}\\n#u-affix-container .u-button {\\n  float: none;\\n  top: 0;\\n  right: 0;\\n}\\n.ncuploader-header .u-button {\\n  float: none;\\n  top: 0;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n"],"sourceRoot":""}