!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uapbd/org/orgunit_glb/card/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uapbd/org/orgunit_glb/card/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,function(e,t,o){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="../../../../",o(o.s=365)}({1:function(t,o){t.exports=e},131:function(e,t,o){var r=o(133);"string"==typeof r&&(r=[[e.i,r,""]]);var a={transform:void 0};o(4)(r,a);r.locals&&(e.exports=r.locals)},132:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],s=0,i={},l=function(){2==s&&n&&n(i.templateData||{},i.langData||{},i.inlt||{})};o.callback&&console.log("咱们自己createUIDom会同时获取多语和单据模板,并通过一个回调函数返回, langCfg中的回调函数将被忽略");var c=r({},o,{callback:function(e,t,o){s+=1,t||(0,a.toast)({content:"load muti lang error",color:"warning"}),i.langData=e||{},i.inlt=o||{},l()}});e.MultiInit.getMultiLang(c),e.createUIDom(t,function(e){s+=1,i.templateData=e||{},l()})}};var a=o(1)},133:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,'* {\n  padding: 0;\n  margin: 0;\n}\n/*定位容器*/\n.uapbd_style_center_container {\n  position: relative;\n  /*容器 子元素 未定义距离*/\n  /*容器 子元素 距离右边 20px*/\n  /*容器 use 子元素 距离右边 20px*/\n}\n.uapbd_style_center_container .uapbd_style_center_undefined {\n  position: absolute;\n}\n.uapbd_style_center_container .uapbd_style_center_right20 {\n  position: absolute;\n  top: 0;\n  right: 20px;\n  bottom: 0;\n}\n.uapbd_style_center_container .uapbd_style_center_left20 {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 20px;\n}\n/*出现 滚动条的容器*/\n.uapbd_style_scroll_container {\n  overflow: auto;\n}\n/*定义滚动条轨道*/\n.uapbd_style_scroll_container::-webkit-scrollbar-track {\n  border-radius: 8px;\n  background-color: white;\n}\n/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\n.uapbd_style_scroll_container::-webkit-scrollbar {\n  width: 8px;\n}\n/*定义滑块 内阴影+圆角*/\n.uapbd_style_scroll_container::-webkit-scrollbar-thumb {\n  border-radius: 8px;\n  width: 8px;\n  background-color: #d8d8d8;\n}\n.transfer_tree_container {\n  clear: both;\n  height: 90%;\n  width: 100%;\n  margin-top: 10px;\n}\n.transfer_tree_container .left-area {\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  width: calc(50% - 91px);\n  overflow: auto;\n}\n.transfer_tree_container .button-area {\n  height: 100%;\n  width: 50px;\n  display: inline-block;\n  vertical-align: middle;\n  padding-top: 30px;\n  text-align: center;\n}\n.transfer_tree_container .button-area .opr-botton {\n  padding-top: 25px;\n  display: block;\n  margin: 0 auto;\n}\n.transfer_tree_container .right-area {\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  width: calc(50% - 91px);\n  overflow: auto;\n}\n.transfer_tree_container .transferSwitcherClassSelfNameHidden i {\n  visibility: hidden;\n}\n.transfer_tree_container .left-area-tree .u-tree,\n.transfer_tree_container .right-area-tree .u-tree {\n  height: 360px;\n  overflow: auto;\n}\n.transfer_tree_container .left-area-nei,\n.transfer_tree_container .right-area-nei {\n  height: 100%;\n  border-radius: 3px;\n  border: 1px solid #d0d0d0;\n  background: #ffffff;\n}\n.transfer_tree_container .opr-botton-trans button {\n  min-width: auto;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n}\n/*\n * 这个是左树的 控制搜索框 宽度的。\n */\n.NC_syncTreeSearch_self_width {\n  width: 240px!important;\n}\n.NC_syncTreeSearch_self_width .u-form-control-wrapper {\n  width: 240px!important;\n}\n/*\n * 这个是左树中加虚线样式。\n */\n.syncTreeComLineStyle .synctree-area .u-tree > li:only-child > ul:before {\n  border-left: none;\n}\n.syncTreeComLineStyle .synctree-area .u-tree > li > ul:last-child::before {\n  border-left: none;\n}\n.syncTreeComLineStyle .synctree-area .u-tree-child-tree-open > li::after {\n  position: absolute;\n  left: 8px;\n  top: -15px;\n  content: "";\n  display: inline-block;\n  width: 1px;\n  height: 28px;\n  border-left: 1px dashed #d0d0d0;\n}\n.syncTreeComLineStyle .synctree-area .node-item .u-tree-switcher {\n  position: relative;\n  z-index: 2;\n}\n.syncTreeComLineStyle .synctree-area li::after {\n  border: none;\n}\n.syncTreeComLineStyle .synctree-area li {\n  position: relative;\n}\n.syncTreeComLineStyle .synctree-area li .u-tree-switcher {\n  position: relative;\n}\n.syncTreeComLineStyle .synctree-area li .u-tree-switcher::before {\n  position: absolute;\n  left: 11px;\n  top: 8px;\n  content: "";\n  display: inline-block;\n  width: 10px;\n  border-top: 1px dashed #d0d0d0;\n}\n.syncTreeComLineStyle .synctree-area li .isLeaf_hiden_point_line > i::before {\n  visibility: hidden;\n}\n/*\n * 穿梭树 线样式修改\n */\n.syncTreeComTransferLineStyle .synctree-area .u-tree > li:only-child > ul:before {\n  border-left: none;\n}\n.syncTreeComTransferLineStyle .synctree-area .u-tree > li > ul:last-child::before {\n  border-left: none;\n}\n.syncTreeComTransferLineStyle .synctree-area .u-tree-child-tree-open > li::after {\n  position: absolute;\n  left: 8px;\n  top: -15px;\n  content: "";\n  display: inline-block;\n  width: 1px;\n  height: 28px;\n  border-left: 1px dashed #d0d0d0;\n}\n.syncTreeComTransferLineStyle .synctree-area .node-item .u-tree-switcher {\n  position: relative;\n  z-index: 2;\n}\n.syncTreeComTransferLineStyle .synctree-area li::after {\n  border: none;\n}\n.syncTreeComTransferLineStyle .synctree-area li {\n  position: relative;\n}\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_show_point_line::before {\n  position: absolute;\n  left: 11px;\n  top: 8px;\n  content: "";\n  display: inline-block;\n  width: 10px;\n  border-top: 1px dashed #d0d0d0;\n}\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_hiden_point_line::before {\n  position: absolute;\n  left: 11px;\n  top: 8px;\n  content: "";\n  display: inline-block;\n  width: 10px;\n  border-top: 1px dashed #d0d0d0;\n}\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_hiden_point_line > i::before {\n  visibility: hidden;\n}\n.node-item-edit-point-style-self > a {\n  background-color: #ebedf2;\n}\n.node-item-edit-point-style-self > a span {\n  color: #e14c46!important;\n}\n.table-slef-set-long span {\n  margin-right: 0px!important;\n}\n',""])},156:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),a=o(2),n=o(1),s=function(e){return e&&e.__esModule?e:{default:e}}(o(132));var i=n.base.NCAffix,l=(n.base.NCAnchor,n.base.NCScrollElement),c=(n.base.NCScrollLink,n.base.NCCol),d=(n.base.NCCheckbox,n.base.NCSwitch),u=(n.base.NCMessage,n.base.NCCollapse),p="org",g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(o.config=e.config,o.config&&void 0!=o.config.templatedata)o.lang=e.config.json,o.state=o.createState(),p="org_v_form",o.state.json=o.config.json,o.queryRoot(o.config.templatedata,e),e.meta.setMeta(o.config.templatedata,function(){o.setState(o.state,function(){o.browseCard(o.config.pk_vid)})});else{(0,s.default)(e)({pagecode:"10100ORG_orgunit",datasource:"uapbd.org.orgunit.orgunit",appcode:"10100ORG",gridId:"orglist"},{moduleId:"10100ORG",domainName:"uapbd"},function(t,r){p="org",o.lang=r,o.state=o.createState(),o.state.json=r,o.queryRoot(t,e),o.setState(o.state,function(){e.meta.setMeta(t&&t.template?t.template:{},function(){o.browseCard(o.props.getUrlParam("pk_org")||void 0)})})})}return window.onbeforeunload=function(){o.state.editMode},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"createState",value:function(){var e=this,t=this.props,o=(document.querySelector(".childline-button-area"),function(e){return"subname-"+e||!1}),r=function(){return null!=t.form.getFormItemsValue(p,this.orgtypeitem)&&(null!=t.form.getFormItemsValue(p,this.orgtypeitem).value&&t.form.getFormItemsValue(p,this.orgtypeitem).value)},a=function(){t.form.setFormStatus(this.areaname,0==e.state.status?"edit":"browse"),void 0!=this.authorize&&this.authorize.authorizeareacode.forEach(function(o){t.form.setFormStatus(o,0==e.state.status?"edit":"browse")})},n=function(){var e=this.areaname,r=this.title,a=this.orgtypeitem,n=t.form,s=(t.button,n.createForm,{checked:null!=t.form.getFormItemsValue(p,a)&&null!=t.form.getFormItemsValue(p,a).value&&t.form.getFormItemsValue(p,a).value});return React.createElement("div",{name:o(e),style:{display:this.isshow()?"":"none"}},React.createElement(l,{name:e},React.createElement("div",{className:"nc-bill-table-area nc-bill-table-list nc-bill-part"},React.createElement(c,null,React.createElement("span",{className:"showOff"},r,React.createElement(d,s))),React.createElement(u,{className:"nc-bill-btn-par",style:{marginBottom:"5px"},in:s.checked},React.createElement("div",null,this.renderCardForm())))))},s=function(){var e=this.areaname,o=(this.title,this.orgtypeitem,this.isshow,t.form);t.button;return(0,o.createForm)(e)},i={showMode:"card",json:{},orgunit_name:"",status:!0},g={corp:{areaname:"version"!=this.props.config.type?"corp":"corp_v",orderby:1,pk:"pk_corp",orgtypeitem:"orgtype2",title:this.lang["10100ORG-000064"]},hrorg:{areaname:"version"!=this.props.config.type?"hrorg":"hrorg_v",orderby:2,title:this.lang["10100ORG-000065"],orgtypeitem:"orgtype4",pk:"pk_hrorg"},financeorg:{areaname:"version"!=this.props.config.type?"financeorg":"financeorg_v",orderby:3,title:this.lang["10100ORG-000066"],orgtypeitem:"orgtype5",pk:"pk_financeorg"},fundorg:{areaname:"version"!=this.props.config.type?"fundorg":"fundorg_v",orderby:4,orgtypeitem:"orgtype6",pk:"pk_fundorg",title:this.lang["10100ORG-000067"]},purchaseorg:{areaname:"version"!=this.props.config.type?"purchaseorg":"purchaseorg_v",orderby:5,orgtypeitem:"orgtype7",pk:"pk_purchaseorg",title:this.lang["10100ORG-000068"]},saleorg:{areaname:"version"!=this.props.config.type?"saleorg":"saleorg_v",orderby:6,orgtypeitem:"orgtype8",pk:"pk_salesorg",title:this.lang["10100ORG-000069"],authorize:{authorizetitle:this.lang["10100ORG-000070"],authorizeareacode:"version"!=this.props.config.type?["saleorgrelation"]:["saleorgrelation_v"]},renderCardFramework:function(){var e=this.areaname,r=this.title,a=this.orgtypeitem,n=this.authorize,s=t.form,i=(t.button,s.createForm),g={checked:null!=t.form.getFormItemsValue(p,a)&&null!=t.form.getFormItemsValue(p,a).value&&t.form.getFormItemsValue(p,a).value};return React.createElement("div",{name:o(e),style:{display:this.isshow()?"":"none"}},React.createElement(l,{name:e},React.createElement("div",{className:"nc-bill-table-area nc-bill-table-list nc-bill-part"},React.createElement(c,null,React.createElement("span",{className:"showOff"},r,React.createElement(d,g))),React.createElement(u,{className:"nc-bill-btn-par",style:{marginBottom:"5px"},in:g.checked},React.createElement("div",null,this.renderCardForm(),React.createElement("div",{class:"operator operator-tit"},n.authorizetitle,React.createElement("span",{class:"wuliu"})),i(n.authorizeareacode[0]))))))}},stockorg:{areaname:"version"!=this.props.config.type?"stockorg":"stockorg_v",orderby:7,orgtypeitem:"orgtype9",pk:"pk_stockorg",title:this.lang["10100ORG-000071"],authorize:{authorizetitle:[this.lang["10100ORG-000072"],[this.lang["10100ORG-000073"]],[this.lang["10100ORG-000074"]],[this.lang["10100ORG-000075"]]],authorizeareacode:"version"!=this.props.config.type?["stocktrafficrelation","stockqccenterrelation","stockorgrelation","stockassetrelation"]:["stocktrafficrelation_v","stockqccenterrelation_v","stockorgrelation_v","stockassetrelation_v"]},renderCardFramework:function(){var e=this.areaname,r=this.title,a=this.orgtypeitem,n=this.authorize,s=t.form,i=(t.button,s.createForm),g={checked:null!=t.form.getFormItemsValue(p,a)&&null!=t.form.getFormItemsValue(p,a).value&&t.form.getFormItemsValue(p,a).value};return React.createElement("div",{name:o(e),style:{display:this.isshow()?"":"none"}},React.createElement(l,{name:e},React.createElement("div",{className:"nc-bill-table-area nc-bill-table-list nc-bill-part"},React.createElement(c,null,React.createElement("span",{className:"showOff"},r,React.createElement(d,g))),React.createElement(u,{className:"nc-bill-btn-par",style:{marginBottom:"5px"},in:g.checked},React.createElement("div",null,this.renderCardForm(),React.createElement("div",{class:"operator operator-tit"},n.authorizetitle[0],React.createElement("span",{class:"wuliu"})),i(n.authorizeareacode[0]),React.createElement("div",{class:"operator operator-tit"},n.authorizetitle[1],React.createElement("span",{className:"wuliu"})),i(n.authorizeareacode[1]),React.createElement("div",{class:"operator operator-tit"},n.authorizetitle[2],React.createElement("span",{className:"wuliu"})),i(n.authorizeareacode[2]),React.createElement("div",{class:"operator operator-tit"},n.authorizetitle[3],React.createElement("span",{className:"wuliu"})),i(n.authorizeareacode[3]))))))}},trafficorg:{areaname:"version"!=this.props.config.type?"trafficorg":"trafficorg_v",orderby:8,title:this.lang["10100ORG-000076"],orgtypeitem:"orgtype10",pk:"pk_trafficorg"},qccenter:{areaname:"version"!=this.props.config.type?"qccenter":"qccenter_v",orderby:9,title:this.lang["10100ORG-000077"],orgtypeitem:"orgtype11",pk:"pk_qccenter"},assetorg:{areaname:"version"!=this.props.config.type?"assetorg":"assetorg_v",orderby:10,orgtypeitem:"orgtype12",pk:"pk_assetorg",title:this.lang["10100ORG-000078"],authorize:{authorizetitle:this.lang["10100ORG-000079"],authorizeareacode:"version"!=this.props.config.type?["assetorgmaintainrelation"]:["assetorgmaintainrelation_v"]},renderCardFramework:function(){var e=this.areaname,r=this.title,a=this.orgtypeitem,n=this.authorize,s=t.form,i=(t.button,s.createForm),g={checked:null!=t.form.getFormItemsValue(p,a)&&null!=t.form.getFormItemsValue(p,a).value&&t.form.getFormItemsValue(p,a).value};return React.createElement("div",{name:o(e),style:{display:this.isshow()?"":"none"}},React.createElement(l,{name:e},React.createElement("div",{className:"nc-bill-table-area nc-bill-table-list nc-bill-part"},React.createElement(c,null,React.createElement("span",{className:"showOff"},r,React.createElement(d,g))),React.createElement(u,{className:"nc-bill-btn-par",style:{marginBottom:"5px"},in:g.checked},React.createElement("div",null,this.renderCardForm(),React.createElement("div",{class:"operator operator-tit"},n.authorizetitle,React.createElement("span",{class:"wuliu"})),i(n.authorizeareacode[0]))))))}},maintainorg:{areaname:"version"!=this.props.config.type?"maintainorg":"maintainorg_v",orderby:11,orgtypeitem:"orgtype14",pk:"pk_maintainorg",title:this.lang["10100ORG-000080"],authorize:{authorizetitle:this.lang["10100ORG-000081"],authorizeareacode:"version"!=this.props.config.type?["maintainstockrelation"]:["maintainstockrelation_v"]},renderCardFramework:function(){var e=this.areaname,r=this.title,a=this.orgtypeitem,n=this.authorize,s=t.form,i=(t.button,s.createForm),g={checked:null!=t.form.getFormItemsValue(p,a)&&null!=t.form.getFormItemsValue(p,a).value&&t.form.getFormItemsValue(p,a).value};return React.createElement("div",{name:o(e),style:{display:this.isshow()?"":"none"}},React.createElement(l,{name:e},React.createElement("div",{className:"nc-bill-table-area nc-bill-table-list nc-bill-part"},React.createElement(c,null,React.createElement("span",{className:"showOff"},r,React.createElement(d,g))),React.createElement(u,{className:"nc-bill-btn-par",style:{marginBottom:"5px"},in:g.checked},React.createElement("div",null,this.renderCardForm(),React.createElement("div",{class:"operator operator-tit"},n.authorizetitle,React.createElement("span",{class:"wuliu"})),i(n.authorizeareacode[0]))))))}},liabilitycenter:{areaname:"version"!=this.props.config.type?"liabilitycenter":"liabilitycenter_v",orderby:12,title:this.lang["10100ORG-000003"],orgtypeitem:"orgtype15",pk:"pk_liabilitycenter"},itemorg:{areaname:"version"!=this.props.config.type?"itemorg":"itemorg_v",orderby:13,orgtypeitem:"orgtype16",pk:"pk_itemorg",title:this.lang["10100ORG-000082"],authorize:{authorizetitle:this.lang["10100ORG-000083"],authorizeareacode:"version"!=this.props.config.type?["itemstockrelation"]:["itemstockrelation_v"]},renderCardFramework:function(){var e=this.areaname,r=this.title,a=this.orgtypeitem,n=this.authorize,s=t.form,i=(t.button,s.createForm),g={checked:null!=t.form.getFormItemsValue(p,a)&&null!=t.form.getFormItemsValue(p,a).value&&t.form.getFormItemsValue(p,a).value};return React.createElement("div",{name:o(e),style:{display:this.isshow()?"":"none"}},React.createElement(l,{name:e},React.createElement("div",{className:"nc-bill-table-area nc-bill-table-list nc-bill-part"},React.createElement(c,null,React.createElement("span",{className:"showOff"},r,React.createElement(d,g))),React.createElement(u,{className:"nc-bill-btn-par",style:{marginBottom:"5px"},in:g.checked},React.createElement("div",null,this.renderCardForm(),React.createElement("div",{class:"operator operator-tit"},n.authorizetitle,React.createElement("span",{class:"wuliu"})),i(n.authorizeareacode[0]))))))}},planbudget:{areaname:"version"!=this.props.config.type?"planbudget":"planbudget_v",orderby:14,title:this.lang["10100ORG-000084"],orgtypeitem:"orgtype17",pk:"pk_planbudget"},adminorg:{areaname:"version"!=this.props.config.type?"adminorg":"adminorg_v",orderby:15,title:this.lang["10100ORG-000085"],orgtypeitem:"orgtype29",pk:"pk_adminorg"},factory:{areaname:"version"!=this.props.config.type?"factory":"factory_v",orderby:16,title:this.lang["10100ORG-000086"],orgtypeitem:"orgtype33",pk:"pk_factory"},plancenter:{areaname:"version"!=this.props.config.type?"plancenter":"plancenter_v",orderby:17,title:this.lang["10100ORG-000087"],orgtypeitem:"orgtype34",pk:"pk_plancenter"}};return Object.values(g).forEach(function(e){!e.setFormStatus&&(e.setFormStatus=a),!e.isshow&&(e.isshow=r),!e.renderCardFramework&&(e.renderCardFramework=n),!e.renderCardForm&&(e.renderCardForm=s)}),i.card=g,i}},{key:"queryRoot",value:function(e,t){e.formrelation||(e.formrelation={}),e.formrelation.corp=["corpotherinfo","corpcontactinfo","corpdefinfo","corpaudioinfo"],e.formrelation.org=["orgtype","orgversioninfo","orgauditinfo"],e.formrelation.hrorg=["hrorgdef","hrorgauditinfo"],e.formrelation.financeorg=["financeorgdef","financeorgaudioinfo"],e.formrelation.fundorg=["fundorgdef","fundorgauditinfo"],e.formrelation.purchaseorg=["purchaseorgdef","purchaseorgauditinfo"],e.formrelation.saleorg=["saleorgdef","saleorgaudit"],e.formrelation.stockorg=["stockorgdef","stockorgaudit"],e.formrelation.trafficorg=["trafficorgdef","trafficorgauditinfo"],e.formrelation.qccenter=["qccenterdef","qccenterauditinfo"],e.formrelation.assetorg=["assetorgdef","assetorgauditinfo"],e.formrelation.maintainorg=["maintainorgdef","maintainorgauditinfo"],e.formrelation.liabilitycenter=["liabilitycenterdef","liabilitycenterauditinfo"],e.formrelation.itemorg=["itemorgdefinfo","itemorgauditinfo"],e.formrelation.planbudget=["planbudgetdef","planbudgetauditinfo"],e.formrelation.adminorg=["adminorgdef","adminorgauditinfo"],e.formrelation.factory=["factorydefitem","factoryauditinfo"],e.formrelation.plancenter=["plancenterdefiitem","plancenterauditinfo"],e.formrelation.corp_v=["corpversionotherinfo","corpversionlinkinfo"],e.formrelation.org_v_form=["orgtype_v","orgunitversioninfo"],e.formrelation.org_v_form=["orgtype_v","orgunitversioninfo"],e.formrelation.hrorg_v=["hrorgdef"],e.formrelation.financeorg_v=["financeorgdef"],e.formrelation.fundorg_v=["fundorgdef"],e.formrelation.purchaseorg_v=["purchaseorgdef"],e.formrelation.salesorg_v=["saleorgrelation_v"],e.formrelation.stockorg_v=["stocktrafficrelation_v","stockqccenterrelation_v","stockorgrelation_v","stockassetrelation_v"],e.formrelation.trafficorg_v=["trafficorgdef"],e.formrelation.qccenter_v=["qccenterdef"],e.formrelation.assetorg_v=["assetorgmaintainrelation_v"],e.formrelation.maintainorg_v=["maintainstockrelation_v"],e.formrelation.liabilitycenter_v=["liabilitycenterdef"],e.formrelation.itemorg_v_v=["itemstockrelation_v"],e.formrelation.planbudget_v=["planbudgetdef"],e.formrelation.adminorg_v=["adminorgdef"],e.formrelation.factory_v=["factorydefitem"],e.formrelation.plancenter_v=["plancenterdefiitem"]}},{key:"browseCard",value:function(e,t){var o=this;this.state.showMode="card",this.state.status=!0,this.setState(this.state,function(){o.loadCardData({pk_org:e,callback:function(e,r){o.fillCardData(e,function(e){o.setAllFormStatus(e),setTimeout(function(){t&&t(e)},0)})}})})}},{key:"loadCardData",value:function(e){var t,o=e.pk_org,r=e.callback;o&&(0,n.ajax)({url:"version"!=this.props.config.type?"/nccloud/uapbd/org/queryorgtype.do":"/nccloud/uapbd/org/queryorgunitversionUrl.do",data:{pk_org:o||void 0,type:this.props.config.type||"normal"},success:function(e){t=e.data||void 0,r&&r(t)}})}},{key:"fillCardData",value:function(e,t){var o={};e&&e.forEach(function(e){Object.values(e).forEach(function(e){e&&e.areacode&&(o[e.areacode]=e)})}),this.props.form.setAllFormValue(o),this.setState(this.state,function(){t&&t(o)})}},{key:"setAllFormStatus",value:function(e){var t=0==this.state.status?"edit":"browse",o=Object.values(this.state.card);this.props.form.setFormStatus("org",t),o.map(function(e){e.setFormStatus()})}},{key:"render",value:function(){var e=this;if(!this.lang)return"";var t=this.props,o=t.cardTable,r=t.form,a=(t.button,t.modal),n=t.table,s=t.editTable,c=(t.DragWidthCom,t.syncTree),d=t.treeTableManyCol,u=r.createForm;o.createCardTable,a.createModal,n.createSimpleTable,c.createSyncTree,d.treeTableCol,s.createEditTable;return React.createElement("div",null,React.createElement("div",{id:"nc-bill-card"},React.createElement("div",{className:"nc-bill-card orgunit-card"},React.createElement("div",null,React.createElement(i,null,React.createElement("div",{className:"nc-bill-header-area"},React.createElement("div",{className:"header-title-search-area"},React.createElement("h2",{className:"title-search-detail"},e.lang["10100ORG-000098"])),React.createElement("div",{className:"header-button-area"}))),React.createElement(l,{style:{marginBottom:"5px"},name:p},React.createElement("div",{className:"nc-bill-form-area"},u(p,{expandArr:["orgtype_v"]})))),Object.values(e.state.card).map(function(e){return e.renderCardFramework()}))))}}]),t}();t.default=g=(0,n.createPage)({})(g)},161:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"gridTree",refName:"refer-000078",refCode:"uapbd.pubinfo.AccperiodTreeGridRef",placeholder:"refer-000435",queryTreeUrl:"/nccloud/uapbd/ref/AccperiodDefaultTreeRef.do",rootNode:{refname:"refer-000080",refpk:"root"},queryGridUrl:"/nccloud/uapbd/ref/AccperiodGridRef.do",columnConfig:[{name:["refer-000430","refer-000431","refer-000432"],code:["refname","begindate","enddate"]}],isMultiSelectedEnabled:!1,unitProps:n.conf,isShowUnit:!1,isHasDisabledData:!1};return React.createElement(s,r({},t,e))};var a=o(1),n=o(163),s=a.high.Refer},163:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(a,r({},n,e))};var a=o(1).high.Refer,n=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"grid",refName:"refer-000434",placeholder:"refer-000434",refCode:"uapbd.refer.pubinfo.AccPeriodSchemeDefaultTreeRef",queryGridUrl:"/nccloud/uapbd/pub/AccPeriodSchemeDefaultTreeRef.do",columnConfig:[{name:["refer-000002","refer-000003"],code:["refcode","refname"]}],isMultiSelectedEnabled:!1,isHasDisabledData:!1}},165:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){var s=this,i=t.getUrlParam("pk_org");void 0==i&&(i=a("orgunit_pk_org",s.config.datasource));t.getUrlParam("status");void 0==i&&(0,r.toast)({content:s.state.json["10100ORG-000000"],color:"warning"});var l="";s.config.orgtypearr.map(function(t){t.subGrid===e&&(l=t.pk_orgtype)});var c="";-1!=o.indexOf("enable")?(c=o.substring(0,o.indexOf("enable")),o="enable"):(c=o.substring(0,o.indexOf("disable")),o="disable");var d=t.form.getFormItemsValue(e,"enablestate");switch(o){case"enable":if(2==d.value){(0,r.toast)({content:s.state.json["10100ORG-000031"],color:"warning"});break}(0,r.promptBox)({color:"warning",title:s.state.json["10100ORG-000001"],noFooter:!1,content:s.state.json["10100ORG-000032"],beSureBtnClick:function(){(0,r.ajax)({url:"/nccloud/uapbd/org/orgtypeenbale.do",data:{pk_org:i,orgtype:l,enable:"2"},success:function(o){var a=o.success;o.data;a&&(s.config.orgtypearr.map(function(e){t.form.setFormStatus(e.subGrid,"browse")}),(0,r.toast)({color:"success",title:s.state.json["10100ORG-000018"]}),t.form.setFormItemsValue(e,{enablestate:{value:"2",display:s.state.json["10100ORG-000017"]}}),n(t,"2",c))}})}});break;case"disable":if(2==d){(0,r.toast)({content:s.state.json["10100ORG-000033"],color:"warning"});break}(0,r.promptBox)({color:"warning",title:s.state.json["10100ORG-000001"],noFooter:!1,content:s.state.json["10100ORG-000034"],beSureBtnClick:function(){(0,r.ajax)({url:"/nccloud/uapbd/org/orgtypeenbale.do",data:{pk_org:i,orgtype:l,enable:"3"},success:function(o){var a=o.success;o.data;a&&(s.config.orgtypearr.map(function(e){t.form.setFormStatus(e.subGrid,"browse")}),(0,r.toast)({color:"success",title:s.state.json["10100ORG-000014"]}),t.form.setFormItemsValue(e,{enablestate:{value:"3",display:s.state.json["10100ORG-000013"]}}),n(t,"3",c))}})}})}};var r=o(1),a=(r.cardCache.setDefData,r.cardCache.getDefData);function n(e,t,o){"2"===t?(e.button.setButtonVisible([o+"disable"],!0),e.button.setButtonVisible([o+"enable"],!1)):(e.button.setButtonVisible([o+"disable"],!1),e.button.setButtonVisible([o+"enable"],!0))}},2:function(e,o){e.exports=t},206:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),s=o(2),i=u(s),l=o(1),c=(u(o(132)),o(207));o(211),o(131),o(213);var d=u(o(156));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g=l.base.NCAffix,f=l.base.NCAnchor,m=l.base.NCScrollElement,h=l.base.NCScrollLink,b=l.base.NCCol,v=(l.base.NCCheckbox,l.base.NCSwitch),y=l.base.NCCollapse,k=l.base.NCBackBtn,_=l.cardCache.setDefData,w=l.cardCache.getDefData,G=l.high.NCUploader,O=l.high.PrintOutput,R={corp:!1,hrorg:!1,financeorg:!1,fundorg:!1,purchaseorg:!1,saleorg:!1,stockorg:!1,trafficorg:!1,qccenter:!1,assetorg:!1,maintainorg:!1,liabilitycenter:!1,itemorg:!1,planbudget:!1,adminorg:!1,factory:!1,plancenter:!1},F=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.call(o),o.config=e.config,o.state={showUploader:!1,deleteorgtype:[],json:{},inlt:null,originalorgtypefloor:[],showlogoUploader:!1,pks:[],buttonshow:!1,showSubGrid:!0,pk_org:"",title_code:"",orgtype:[],orgtypefloor:[],increaseorgtype:[],childstate:R},o.onRefresh=o.onRefresh.bind(o),o.showOffChange=o.showOffChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),n(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){var e=this.props.getUrlParam("status"),t=this.props.editTable.getStatus("orgmanager"),o=this.props.editTable.getStatus("orgmoduleperiod"),r=this.props.form.getFormStatus("innercustsupp"),a=this.props.editTable.getStatus("orgvatfunclet");window.onbeforeunload="browse"!==e||void 0!=t&&"browse"!=t||void 0!=o&&"browse"!=o||void 0!=r&&"browse"!=r||void 0!=a&&"browse"!=a?function(){return""}:null}},{key:"initData",value:function(e){var t=this;this.state.orgtypefloor=[],void 0!=e&&""!=e||(e=this.props.getUrlParam("pk_org"));var o=this.props.getUrlParam("status");if(this.props.config.orgtypearr.map(function(e){t.state.childstate[e.subGrid]=!1}),void 0!=e&&""!=e){var r=this;(0,l.ajax)({url:"/nccloud/uapbd/org/queryallorgtype.do",data:{pk_org:e,type:"normal"},async:!1,success:function(e){e.success&&e.data&&e.data.map(function(e){r.state.orgtype.push(e),r.props.config.orgtypearr.map(function(t){t.subGrid==e.code&&"add"!=o&&(t.pk_orgtype=e.pk_orgtype,t.isshow=!0,r.state.childstate[t.subGrid]=!0,r.state.orgtypefloor.push(t))})}),_("orgunit_childstate",r.config.datasource,JSON.parse(JSON.stringify(r.state.childstate))),_("orgunit_orgtypefloor",r.config.datasource,r.state.orgtypefloor),t.setState({originalorgtypefloor:JSON.parse(JSON.stringify(r.state.orgtypefloor))})}})}}},{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"10100ORG",domainName:"uapbd",callback:function(t,o,r){o?(e.setState({json:t,inlt:r}),e.props.config.josn=e.state.json,(0,c.initTemplate)(e.props,e.onRefresh)):console.log("未加载到多语资源")}}),this.initData()}},{key:"onRefresh",value:function(e){var t=this,o=t.props.getUrlParam("status"),r=w("orgunit_btnopr",t.props.config.datasource);if(void 0!=e&&""!=e||(e=this.props.getUrlParam("pk_org")),"add"!=o){if(e&&"undefined"!=e&&t.getdata(e),t.props.form.setFormItemsDisabled("org",{pk_accperiodscheme:!1}),t.props.form.setFormItemsDisabled("org",{pk_currtype:!1}),"browse"==o?t.setState({showSubGrid:!0}):t.setState({showSubGrid:!1},function(){"copy"==r&&1==t.state.childstate.corp&&t.dealrelationformstatus()}),"edit"==o){var a=w("havecorprootorgunit",t.props.config.datasource);!a.haveroot||e==a.pk&&"copy"!=r?(t.props.form.setFormItemsDisabled("corp",{pk_fatherorg:!0}),t.props.form.setFormItemsRequired("corp",{pk_fatherorg:!1})):(t.props.form.setFormItemsDisabled("corp",{pk_fatherorg:!1}),t.props.form.setFormItemsRequired("corp",{pk_fatherorg:!0})),t.state.childstate.financeorg&&t.props.form.setFormItemsDisabled("stockorg",{pk_financeorg:!0}),t.props.form.setFormItemsDisabled("org",{pk_accperiodscheme:!0}),t.props.form.setFormItemsDisabled("org",{pk_currtype:!0});var n=w("haveadminrootorgunit",t.props.config.datasource);n.haveroot&&e!=n.pk||(t.props.form.setFormItemsDisabled("adminorg",{pk_fatherorg:!0}),t.props.form.setFormItemsRequired("adminorg",{pk_fatherorg:!1})),n.haveroot&&e!=n.pk&&(t.props.form.setFormItemsDisabled("adminorg",{pk_fatherorg:!1}),t.props.form.setFormItemsRequired("adminorg",{pk_fatherorg:!0}))}}else{t.props.config.orgtypearr.map(function(e){t.props.form.setFormStatus(e.subGrid,"add"),t.state.childstate[e.subGrid]=!1,t.props.form.EmptyAllFormValue(e.subGrid),e.isshow=!1}),(0,l.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:e,status:o},success:function(e){e.success&&e.data&&(t.props.form.setFormItemsDisabled("org",{code:!e.data.isCodeEdit}),t.props.form.setFormItemsValue("org",{code:{value:e.data.newCode,display:e.data.newCode}}))}});t.props.meta.getMeta().org.items.find(function(e){return"pk_fatherorg"==e.attrcode});w("orgunit_haverootorgunit",t.props.config.datasource).haveroot?(t.props.form.setFormItemsDisabled("org",{pk_fatherorg:!1}),t.props.form.setFormItemsRequired("org",{pk_fatherorg:!0})):(t.props.form.setFormItemsDisabled("org",{pk_fatherorg:!0}),t.props.form.setFormItemsRequired("org",{pk_fatherorg:!1})),e&&"undefined"!=e&&(t.props.form.setFormItemsValue("org",{pk_fatherorg:{value:e,display:w("orgunit_name",t.config.datasource)}}),(0,l.ajax)({url:"/nccloud/uapbd/org/getcorpvo.do",data:{pk_org:e},success:function(e){e.success&&e.data&&(t.props.form.setFormItemsValue("org",{pk_corp:{value:e.data.pk_corp,display:e.data.pk_corpname}}),t.props.form.setFormItemsValue("org",{pk_accperiodscheme:{value:e.data.pk_accperiodscheme,display:e.data.pk_accperiodschemename}}),t.props.form.setFormItemsValue("org",{pk_currtype:{value:e.data.pk_currtype,display:e.data.pk_currtypename}}),t.props.form.setFormItemsValue("org",{pk_exratescheme:{value:e.data.pk_exratescheme,display:e.data.pk_exrateschemename}}),_("orgunit_pk_corpfatherorg",t.props.config.datasource,e.data.pk_corpfatherorg),_("orgunit_pk_corpfatherorgname",t.props.config.datasource,e.data.pk_corpfatherorgname))}})),t.setState({buttonshow:!0,showSubGrid:!1})}"edit"==o&&(0,l.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:e,status:r},success:function(e){e.success&&e.data&&t.props.form.setFormItemsDisabled("org",{code:!e.data.isCodeEdit})}})}},{key:"showOffChange",value:function(e,t){var o=this,r=this,a=this.props.getUrlParam("status");if("browse"!=a){var n=[],s=[];if(1==t&&(r.props.form.setFormStatus(e,"add"),r.config.orgtypearr.map(function(o){o.subGrid==e&&(o.isshow=t,r.state.increaseorgtype.push(o),r.state.orgtypefloor.push(o)),"financeorg"!=o.subGrid||"corp"!=e||o.isshow||(o.isshow=t,r.props.form.setFormStatus("financeorg","add"),r.state.orgtypefloor.push(o)),r.state.orgtypefloor.map(function(e){o.subGrid==e.subGrid&&n.push(e)})}),w("orgunit_orgtypeformdata"+e,r.config.datasource)&&r.props.form.setAllFormValue(w("orgunit_orgtypeformdata"+e,r.config.datasource)),"stockorg"==e&&w("orgunit_orgtypeformdata"+e,r.config.datasource)&&(w("orgunit_orgtypeformdatastocktrafficrelation",r.config.datasource)&&r.props.form.setAllFormValue(w("orgunit_orgtypeformdatastocktrafficrelation",r.config.datasource)),w("orgunit_orgtypeformdatastockqccenterrelation",r.config.datasource)&&r.props.form.setAllFormValue(w("orgunit_orgtypeformdatastockqccenterrelation",r.config.datasource)),w("orgunit_orgtypeformdatastockorgrelation",r.config.datasource)&&r.props.form.setAllFormValue(w("orgunit_orgtypeformdatastockorgrelation",r.config.datasource)),w("orgunit_orgtypeformdatastockassetrelation",r.config.datasource)&&r.props.form.setAllFormValue(w("orgunit_orgtypeformdatastockassetrelation",r.config.datasource))),"maintainorg"==e&&w("orgunit_orgtypeformdata"+e,r.config.datasource)&&w("orgunit_orgtypeformdatamaintainstockrelation",r.config.datasource)&&r.props.form.setAllFormValue(w("orgunit_orgtypeformdatamaintainstockrelation",r.config.datasource)),"itemorg"==e&&w("orgunit_orgtypeformdata"+e,r.config.datasource)&&w("orgunit_orgtypeformdataitemstockrelation",r.config.datasource)&&r.props.form.setAllFormValue(w("orgunit_orgtypeformdataitemstockrelation",r.config.datasource)),"assetorg"==e&&w("orgunit_orgtypeformdata"+e,r.config.datasource)&&w("orgunit_orgtypeformdataassetorgmaintainrelation",r.config.datasource)&&r.props.form.setAllFormValue(w("orgunit_orgtypeformdataassetorgmaintainrelation",r.config.datasource)),"saleorg"==e&&w("orgunit_orgtypeformdata"+e,r.config.datasource)&&w("orgunit_orgtypeformdatasaleorgrelation",r.config.datasource)&&r.props.form.setAllFormValue(w("orgunit_orgtypeformdatasaleorgrelation",r.config.datasource)),r.state.orgtypefloor=n),0==t){if("org"!=e&&r.props.form.setFormStatus(e,"browse"),1==this.state.childstate.corp&&"financeorg"==e)return void(0,l.toast)({content:this.state.json["10100ORG-000038"],color:"warning"});if(this.config.orgtypearr.map(function(r){r.subGrid==e&&(r.isshow=t),o.state.orgtypefloor.map(function(e){r.subGrid==e.subGrid&&r.isshow&&n.push(e)}),o.state.increaseorgtype.map(function(e){r.subGrid==e.subGrid&&r.isshow&&s.push(e)})}),this.state.orgtypefloor=n,this.state.increaseorgtype=s,"stockorg"==e){var i=this.props.form.getAllFormValue("stocktrafficrelation");i.areacode="stocktrafficrelation",i=p({},"stocktrafficrelation",i),_("orgunit_orgtypeformdatastocktrafficrelation",r.config.datasource,JSON.parse(JSON.stringify(i)));var c=this.props.form.getAllFormValue("stockqccenterrelation");c.areacode="stockqccenterrelation",c=p({},"stockqccenterrelation",c),_("orgunit_orgtypeformdatastockqccenterrelation",r.config.datasource,JSON.parse(JSON.stringify(c)));var d=this.props.form.getAllFormValue("stockorgrelation");d.areacode="stockorgrelation",d=p({},"stockorgrelation",b),_("orgunit_orgtypeformdatastockorgrelation",r.config.datasource,JSON.parse(JSON.stringify(d)));var u=this.props.form.getAllFormValue("stockassetrelation");u.areacode="stockassetrelation",u=p({},"stockassetrelation",u),_("orgunit_orgtypeformdatastockassetrelation",r.config.datasource,JSON.parse(JSON.stringify(u)))}if("maintainorg"==e){var g=this.props.form.getAllFormValue("maintainstockrelation");g.areacode="maintainstockrelation",g=p({},"maintainstockrelation",g),_("orgunit_orgtypeformdatamaintainstockrelation",r.config.datasource,JSON.parse(JSON.stringify(g)))}if("itemorg"==e){var f=this.props.form.getAllFormValue("itemstockrelation");f.areacode="itemstockrelation",f=p({},"itemstockrelation",f),_("orgunit_orgtypeformdataitemstockrelation",r.config.datasource,JSON.parse(JSON.stringify(f)))}if("assetorg"==e){var m=this.props.form.getAllFormValue("assetorgmaintainrelation");m.areacode="assetorgmaintainrelation",m=p({},"stockorgrelation",m),_("orgunit_orgtypeformdataassetorgmaintainrelation",r.config.datasource,JSON.parse(JSON.stringify(m)))}if("saleorg"==e){var h=this.props.form.getAllFormValue("saleorgrelation");h.areacode="saleorgrelation",h=p({},"stockorgrelation",h),_("orgunit_orgtypeformdatasaleorgrelation",r.config.datasource,JSON.parse(JSON.stringify(h)))}var b=this.props.form.getAllFormValue(e);b.areacode=e,b=p({},e,b),_("orgunit_orgtypeformdata"+e,r.config.datasource,JSON.parse(JSON.stringify(b)))}if("edit"==a||"add"==a){this.props.getUrlParam("pk_org");this.props.form.setFormStatus(e,"add"),"saleorg"==e&&this.props.form.setFormStatus("saleorgrelation","edit"),"stockorg"==e&&(this.props.form.setFormStatus("stocktrafficrelation","edit"),this.props.form.setFormStatus("stockassetrelation","edit"),this.props.form.setFormStatus("stockorgrelation","edit"),this.props.form.setFormStatus("stockqccenterrelation","edit")),"assetorg"==e&&this.props.form.setFormStatus("assetorgmaintainrelation","edit"),"maintainorg"==e&&this.props.form.setFormStatus("maintainstockrelation","edit"),"itemorg"==e&&this.props.form.setFormStatus("itemstockrelation","edit")}var v=R;if(v[e]?this.toggleButtonShow(this.props,3,e):this.toggleButtonShow(this.props,2,e),v[e]=t,"corp"==e&&t){this.toggleButtonShow(this.props,3,"financeorg"),this.props.form.setFormItemsDisabled("stockorgrelation",{default2:!0,default1:!0}),this.props.form.setFormItemsDisabled("stockorg",{pk_financeorg:!0}),this.props.form.setFormItemsDisabled("saleorgrelation",{default2:!0,default1:!0});var y=this.props.meta.getMeta(),k=y.stockorg.items.find(function(e){return"pk_financeorg"==e.attrcode});k.required=!1,k.disabled=!0,this.props.meta.setMeta(y)}switch(e){case"corp":this.props.form.setFormItemsValue("org",{orgtype2:{value:t,display:null}}),t||(this.props.form.setFormItemsValue("org",{pk_corp:{value:null,display:null}}),this.props.form.setFormItemsDisabled("org",{pk_corp:!1}),this.state.childstate.financeorg&&r.props.form.setFormItemsRequired("org",{pk_corp:!0}));break;case"hrorg":this.props.form.setFormItemsValue("org",{orgtype4:{value:t,display:null}});break;case"financeorg":if(!t){this.props.form.setFormItemsValue("org",{orgtype5:{value:t,display:null}}),this.props.form.setFormItemsDisabled("stockorgrelation",{default2:!1,default1:!1}),this.props.form.setFormItemsDisabled("stockorg",{pk_financeorg:!1}),this.props.form.setFormItemsDisabled("saleorgrelation",{default2:!1,default1:!1}),this.props.form.setFormItemsRequired("org",{pk_corp:!1});var G=this.props.meta.getMeta(),O=G.stockorg.items.find(function(e){return"pk_financeorg"==e.attrcode});O.required=!0,O.disabled=!1,this.props.meta.setMeta(G)}break;case"fundorg":this.props.form.setFormItemsValue("org",{orgtype6:{value:t,display:null}});break;case"purchaseorg":this.props.form.setFormItemsValue("org",{orgtype7:{value:t,display:null}}),t||this.props.form.setFormItemsDisabled("stockorgrelation",{target:!1});break;case"saleorg":this.props.form.setFormItemsValue("org",{orgtype8:{value:t,display:null}}),t||(this.props.form.setFormItemsDisabled("org",{isretail:!0}),this.props.form.setFormItemsValue("org",{isretail:{value:null,display:null}}));break;case"stockorg":this.props.form.setFormItemsValue("org",{orgtype9:{value:t,display:null}}),t||(this.props.form.setFormItemsDisabled("maintainstockrelation",{target:!1}),this.props.form.setFormItemsDisabled("itemstockrelation",{target:!1}),this.props.form.setFormItemsDisabled("saleorgrelation",{target:!1}),this.props.form.setFormItemsDisabled("org",{isretail:!0}),this.props.form.setFormItemsValue("org",{isretail:{value:null,display:null}}));break;case"trafficorg":this.props.form.setFormItemsValue("org",{orgtype10:{value:t,display:null}}),t||this.props.form.setFormItemsDisabled("stocktrafficrelation",{target:!1});break;case"qccenter":this.props.form.setFormItemsValue("org",{orgtype11:{value:t,display:null}}),t||this.props.form.setFormItemsDisabled("stockqccenterrelation",{target:!1});break;case"assetorg":this.props.form.setFormItemsValue("org",{orgtype12:{value:t,display:null}}),t||this.props.form.setFormItemsDisabled("stockassetrelation",{target:!1});break;case"maintainorg":this.props.form.setFormItemsValue("org",{orgtype14:{value:t,display:null}}),t||this.props.form.setFormItemsDisabled("assetorgmaintainrelation",{target:!1});break;case"liabilitycenter":this.props.form.setFormItemsValue("org",{orgtype15:{value:t,display:null}}),t||(this.props.form.setFormItemsDisabled("stockorgrelation",{default3:!1}),this.props.form.setFormItemsDisabled("saleorgrelation",{default3:!1}));break;case"itemorg":this.props.form.setFormItemsValue("org",{orgtype16:{value:t,display:null}});break;case"planbudget":this.props.form.setFormItemsValue("org",{orgtype17:{value:t,display:null}});break;case"adminorg":this.props.form.setFormItemsValue("org",{orgtype29:{value:t,display:null}});break;case"factory":this.props.form.setFormItemsValue("org",{orgtype33:{value:t,display:null}});break;case"plancenter":this.props.form.setFormItemsValue("org",{orgtype34:{value:t,display:null}})}this.setState({childstate:v})}}},{key:"toggleButtonShow",value:function(e,t,o){var r,a,n,s=o+"enable",i=o+"disable",l=e.getUrlParam("status");"2"===t?e.button.setButtonsVisible((p(r={},i,!0),p(r,s,!1),r)):e.button.setButtonsVisible((p(a={},i,!1),p(a,s,!0),a));"add"!=l&&"edit"!=l&&"copy"!=l||e.button.setButtonsVisible((p(n={},i,!1),p(n,s,!1),n))}},{key:"onPeriodBeforeEvent",value:function(e,t,o,r,a,n){var s=this.props.meta.getMeta(),i=n.values.moduleid.value;return["4510","4530","4532","3613","3614","3615","3616","3617","3618","3632","3634","3635","3637"].indexOf(i)>=0?(s[t].items.find(function(e){return"pk_accperiod"===e.attrcode}).itemtype="datetimepicker",s[t].items.find(function(e){return"pk_accperiod"===e.attrcode}).refcode=null,e.renderItem("table",t,"pk_accperiod",null),e.meta.setMeta(s)):(0,l.ajax)({url:"/nccloud/uapbd/org/setaccperiodscheme.do",data:{pk_orgtype:n.values.pk_orgtype.display,pk_org:n.values.pk_org.value,moudleid:i},success:function(e){e.success&&e.data&&(o.queryCondition=function(){return{pk_accperiodscheme:e.data}})}}),!0}},{key:"onVATTableModelAfterEdit",value:function(e,t,o,r,a,n,s){var i=this;return(0,l.ajax)({url:"/nccloud/uapbd/org/vatedit.do",data:{countrycode:r.refpk},success:function(e){e.success&&e.data&&i.props.editTable.setValByKeyAndIndex("orgvatfunclet",n,"countrycode",{value:e.data,display:e.data})}}),!0}},{key:"onSaveOrgManager",value:function(){var e=this.props.getUrlParam("pk_org"),t=this;void 0==e&&(e=w("orgunit_pk_org",this.config.datasource)),this.props.editTable.filterEmptyRows("orgmanager",["cuserid"]);var o=this.props.editTable.getChangedRows("orgmanager");if(o.map(function(t){t.values.pk_org.value=e}),!o||0===o.length)return t.props.editTable.setStatus("orgmanager","browse"),t.orgManageButtonState(t.props,"orgmanagesave"),void(0,l.toast)({title:t.state.json["10100ORG-000047"],color:"success"});var r={pageid:"10100ORG_orgmanager",model:{areaType:"table",pageinfo:null,rows:[]}};r.model.rows=o,(0,l.ajax)({url:"/nccloud/uapbd/org/orgmanagesavequery.do",data:r,success:function(e){e.success&&(e.data?t.props.editTable.setTableData("orgmanager",e.data.orgmanager):t.props.editTable.setTableData("orgmanager",{rows:[]}),t.props.editTable.setStatus("orgmanager","browse"),t.orgManageButtonState(t.props,"orgmanagesave"),(0,l.toast)({title:t.state.json["10100ORG-000047"],color:"success"}))}})}},{key:"onSaveOrgPeriod",value:function(){this.props.editTable.getAllData("orgmoduleperiod");var e=props.editTable.getChangedRows("orgmoduleperiod"),t=this;e&&0!==e.length&&(data={pageid:"10100ORG_orgmoduleperiod",model:{areaType:"table",pageinfo:null,rows:[]}},data.model.rows=e.rows,(0,l.ajax)({url:"/nccloud/uapbd/org/saveperiod.do",data:data,success:function(e){e.success&&(0,l.toast)({color:"success",title:t.state.json["10100ORG-000048"]})}}))}},{key:"onSaveOrgInnercust",value:function(){var e=this;if(this.props.form.isCheckNow("innercustsupp")){var t=this,o=this.props.form.getFormItemsValue("org","countryzone"),r=this.props.form.getFormItemsValue("org","pk_org").value;void 0==r&&(r=w("orgunit_pk_org",this.config.datasource));var a=this.props.form.getFormItemsValue("innercustsupp","pk_org"),n=this.props.form.getFormItemsValue("innercustsupp","code"),s=this.props.form.getFormItemsValue("innercustsupp","custname"),i=this.props.form.getFormItemsValue("innercustsupp","custshortname"),c=this.props.form.getFormItemsValue("innercustsupp","pk_custclass"),d=this.props.form.getFormItemsValue("innercustsupp","pk_supplierclass");(0,l.ajax)({url:"/nccloud/uapbd/org/saveinnercust.do",data:{pk_org:a.value,countryzone:o.value,code:n.value,custname:s.value,custshortname:i.value,pk_custclass:c.value,pk_supplierclass:d.value,pk_unitorg:r},success:function(o){o.success&&((0,l.toast)({color:"success",title:t.state.json["10100ORG-000047"]}),e.props.form.setFormStatus("innercustsupp","browse"),e.props.modal.close("innercustsupp"))}})}}},{key:"onOrgPeirodButtonClick",value:function(e,t){var o=this,r=this.props.editTable.getAllData("orgmoduleperiod"),a=e.editTable.getChangedRows("orgmoduleperiod"),n=e.editTable.getNumberOfRows("orgmoduleperiod"),s=0,i={};switch(t){case"periodsave":if(!a||0===a.length)return;(i={pageid:"10100ORG_orgmoduleperiod",model:{areaType:"table",pageinfo:null,rows:[]}}).model.rows=a,(0,l.ajax)({url:"/nccloud/uapbd/org/saveperiod.do",data:i,success:function(t){t.success&&((0,l.ajax)({url:"/nccloud/uapbd/org/orgmoduleperiod.do",data:{pk_org:w("orgunit_pk_org",e.config.datasource)},success:function(t){t.success&&(t.data?e.editTable.setTableData("orgmoduleperiod",t.data.orgmoduleperiod):e.editTable.setTableData("orgmoduleperiod",{rows:[]}),e.editTable.setStatus("orgmoduleperiod","edit"))}}),(0,l.toast)({color:"success",title:o.state.json["10100ORG-000048"]}))}});break;case"batchempty":for(;s!=n;)e.editTable.setValByKeyAndIndex("orgmoduleperiod",s,"pk_accperiod",{value:"",display:""}),s+=1;break;case"batchsetbeginyear":if(!r||0===r.length)return;(i={pageid:"beginyear",model:{areaType:"table",pageinfo:null,rows:[]}}).model.rows=r.rows,(0,l.ajax)({url:"/nccloud/uapbd/org/batchsetyearperiod.do",data:i,success:function(t){if(t.success&&t.data)for(;s!=n;)null!=t.data[s]&&e.editTable.setValByKeyAndIndex("orgmoduleperiod",s,"pk_accperiod",{value:t.data[s],display:t.data[s]}),s+=1}}),e.editTable.setStatus("orgmoduleperiod","edit");break;case"batchcurrentyear":if(!r||0===r.length)return;(i={pageid:"currentyear",model:{areaType:"table",pageinfo:null,rows:[]}}).model.rows=r.rows,(0,l.ajax)({url:"/nccloud/uapbd/org/batchsetyearperiod.do",data:i,success:function(t){if(t.success&&t.data)for(;s!=n;)null!=t.data[s]&&e.editTable.setValByKeyAndIndex("orgmoduleperiod",s,"pk_accperiod",{value:t.data[s],display:t.data[s]}),s+=1}}),e.editTable.setStatus("orgmoduleperiod","edit")}}},{key:"VATbuttonToggleShow",value:function(e,t){"vatadd"===t||"vatedit"===t?(e.button.setButtonVisible(["vatadd","vatlinedel","vatsave","vatcancel"],!0),e.button.setButtonVisible(["vatedit","vatdel","vatrefresh"],!1)):(e.button.setButtonVisible(["vatadd","vatdel","vatedit","vatrefresh"],!0),e.button.setButtonVisible(["vatsave","vatcancel","vatlinedel"],!1))}},{key:"onOrgVATButtonClick",value:function(e,t){var o=this,r=this.props.form.getFormItemsValue("org","pk_org").value;void 0==r&&(r=w("orgunit_pk_org",this.config.datasource)),this.props.editTable.filterEmptyRows("orgvatfunclet",["pk_country"]);this.props.editTable.getAllData("orgvatfunclet");var a=e.editTable.getCheckedRows("orgvatfunclet"),n=e.editTable.getNumberOfRows("orgvatfunclet"),s={};switch(t){case"vatadd":e.editTable.addRow("orgvatfunclet",n,!0),e.editTable.setStatus("orgvatfunclet","edit"),this.VATbuttonToggleShow(e,"vatadd"),this.props.button.setButtonDisabled(["vatdel","vatlinedel"],!0),this.props.button.setMainButton("vatsave",!0),this.props.button.setMainButton("vatadd",!1);break;case"vatdel":if(0==a.length)return void(0,l.toast)({content:o.state.json["10100ORG-000049"],color:"warning"});var i=[];a.forEach(function(e){i.push(e.index)}),e.editTable.deleteTableRowsByIndex("orgvatfunclet",i);var c=e.editTable.getChangedRows("orgvatfunclet");(0,l.promptBox)({color:"warning",title:o.state.json["10100ORG-000001"],noFooter:!1,hasCloseBtn:!1,content:o.state.json["10100ORG-000050"],beSureBtnClick:function(){(s={pageid:r,model:{areaType:"table",pageinfo:null,rows:[]}}).model.rows=c,(0,l.ajax)({url:"/nccloud/uapbd/org/vatesave.do",data:s,success:function(t){t.success&&(o.VATbuttonToggleShow(e,"vatdel"),(0,l.toast)({color:"success",title:o.state.json["10100ORG-000010"]}),o.props.button.setButtonDisabled(["vatdel","vatlinedel"],!0))}})}});break;case"vatlinedel":if(0==a.length)return void(0,l.toast)({content:o.state.json["10100ORG-000049"],color:"warning"});var d=[];a.forEach(function(e){d.push(e.index)}),o.VATbuttonToggleShow(e,"vatedit"),e.editTable.deleteTableRowsByIndex("orgvatfunclet",d),o.props.button.setButtonDisabled(["vatdel","vatlinedel"],!0);break;case"vatedit":e.editTable.setStatus("orgvatfunclet","edit"),o.VATbuttonToggleShow(e,"vatedit"),e.button.setButtonDisabled(["vatlinedel"],!0);break;case"vatcancel":(0,l.promptBox)({color:"warning",title:o.state.json["10100ORG-000001"],noFooter:!1,hasCloseBtn:!1,content:o.state.json["10100ORG-000002"],beSureBtnClick:function(){e.editTable.cancelEdit("orgvatfunclet"),e.editTable.setStatus("orgvatfunclet","browse"),o.VATbuttonToggleShow(e,"vatsave"),o.props.button.setMainButton("vatsave",!1),o.props.button.setMainButton("vatadd",!0)}});break;case"vatrefresh":(0,l.ajax)({url:"/nccloud/uapbd/org/vatquery.do",data:{pk_org:r},success:function(t){t.success&&(t.data?e.editTable.setTableData("orgvatfunclet",t.data.orgvatfunclet):e.editTable.setTableData("orgvatfunclet",{rows:[]}),e.editTable.setStatus("orgvatfunclet","browse"),e.button.setButtonDisabled(["vatdel"],!0),e.button.setButtonVisible(["vatadd","vatdel","vatedit","vatrefresh"],!0),e.button.setButtonVisible(["vatsave","vatcancel","vatlinedel"],!1),(0,l.toast)({title:o.state.json["10100ORG-000041"],color:"success"}))}});break;case"vatsave":o.onSaveOrgVAT(),o.props.button.setMainButton("vatsave",!1),o.props.button.setMainButton("vatadd",!0)}}},{key:"onSaveOrgVAT",value:function(){var e=this,t=this;this.props.editTable.filterEmptyRows("orgvatfunclet",["pk_country"]);var o=this.props.editTable.getChangedRows("orgvatfunclet",!1);if(!o||this.props.editTable.checkRequired("orgvatfunclet",o)){var r=this.props.form.getFormItemsValue("org","pk_org").value;void 0==r&&(r=w("orgunit_pk_org",this.config.datasource));var a={pageid:r,model:{areaType:"table",pageinfo:null,rows:[]}};a.model.rows=o,(0,l.ajax)({url:"/nccloud/uapbd/org/vatesave.do",data:a,success:function(o){o.success&&(e.VATbuttonToggleShow(e.props,"vatsave"),t.props.editTable.setStatus("orgvatfunclet","browse"),(0,l.toast)({color:"success",title:t.state.json["10100ORG-000047"]}))}})}}},{key:"orgManageButtonState",value:function(e,t){"orgmanageadd"===t||"orgmanageedit"===t?(e.button.setButtonVisible(["orgmanagesave","orgmanagecancel"],!0),e.button.setButtonVisible(["orgmanageadd","orgmanageedit","orgmanagerefresh","orgmanagedel"],!1)):(e.button.setButtonVisible(["orgmanagesave","orgmanagecancel"],!1),e.button.setButtonVisible(["orgmanageadd","orgmanageedit","orgmanagerefresh","orgmanagedel"],!0))}},{key:"onOrgManageButtonClick",value:function(e,t){var o=this,r=this;switch(t){case"orgmanageadd":var a=e.editTable.getNumberOfRows("orgmanager");e.editTable.addRow("orgmanager",a,!0),e.editTable.setStatus("orgmanager","edit"),this.orgManageButtonState(e,"orgmanageadd");break;case"orgmanagedel":var n=e.editTable.getCheckedRows("orgmanager");if(0==n.length)return void(0,l.toast)({content:r.state.json["10100ORG-000049"],color:"warning"});(0,l.promptBox)({color:"warning",title:r.state.json["10100ORG-000102"],noFooter:!1,hasCloseBtn:!1,content:r.state.json["10100ORG-000009"],beSureBtnClick:function(){var t=[];n.forEach(function(e){t.push(e.index)}),e.editTable.deleteTableRowsByIndex("orgmanager",t),e.editTable.filterEmptyRows("orgmanager",["cuserid"]);var a=e.editTable.getChangedRows("orgmanager");if(a&&0!==a.length){var s=e.getUrlParam("pk_org");void 0==s&&(s=w("orgunit_pk_org",o.config.datasource)),a.map(function(e){e.values.pk_org.value=s});var i={pageid:"10100ORG_orgmanager",model:{areaType:"table",pageinfo:null,rows:[]}};i.model.rows=a,(0,l.ajax)({url:"/nccloud/uapbd/org/orgmanagesavequery.do",data:i,success:function(t){t.success&&(t.data?e.editTable.setTableData("orgmanager",t.data.orgmanager):e.editTable.setTableData("orgmanager",{rows:[]}),(0,l.toast)({title:r.state.json["10100ORG-000010"],color:"success"}),o.orgManageButtonState(e,"orgmanagedel"))}})}}});break;case"orgmanageedit":e.editTable.setStatus("orgmanager","edit"),this.orgManageButtonState(e,"orgmanageedit");break;case"orgmanagesave":this.onSaveOrgManager();break;case"orgmanagecancel":(0,l.promptBox)({color:"warning",title:r.state.json["10100ORG-000100"],noFooter:!1,hasCloseBtn:!1,content:r.state.json["10100ORG-000002"],beSureBtnClick:function(){(0,l.ajax)({url:"/nccloud/uapbd/org/orgmanagerquery.do",data:{pk_org:w("orgunit_pk_org",o.config.datasource)},success:function(t){t.success&&(t.data&&e.editTable.setTableData("orgmanager",t.data.orgmanager),o.orgManageButtonState(e,"orgmanagerefresh"),e.editTable.cancelEdit("orgmanager"))}}),e.editTable.setStatus("orgmanager","browse")}});break;case"orgmanagerefresh":(0,l.ajax)({url:"/nccloud/uapbd/org/orgmanagerquery.do",data:{pk_org:w("orgunit_pk_org",this.config.datasource)},success:function(t){t.success&&(t.data&&e.editTable.setTableData("orgmanager",t.data.orgmanager),(0,l.toast)({title:r.state.json["10100ORG-000041"],color:"success"}),o.orgManageButtonState(e,"orgmanagerefresh"))}}),e.editTable.setStatus("orgmanager","browse")}}},{key:"onTableModelAfterEdit",value:function(e,t,o,r,a,n,s){r.refpk&&(0,l.ajax)({url:"/nccloud/uapbd/org/userquery.do",data:{cuserid:r.refpk},success:function(t){t.success&&t.data&&(void 0!=t.data.orgmanager.rows[0].values.username&&e.editTable.setValByKeyAndIndex("orgmanager",n,"username",{value:t.data.orgmanager.rows[0].values.username.value}),void 0!=t.data.orgmanager.rows[0].values.psncode&&e.editTable.setValByKeyAndIndex("orgmanager",n,"psncode",{value:t.data.orgmanager.rows[0].values.psncode.value}),void 0!=t.data.orgmanager.rows[0].values.psnname&&e.editTable.setValByKeyAndIndex("orgmanager",n,"psnname",{value:t.data.orgmanager.rows[0].values.psnname.value}))}})}},{key:"dealrelationformstatus",value:function(){var e=this.props,t=this.state;if(t.childstate.financeorg){e.form.setFormItemsDisabled("stockorgrelation",{default2:!0,default1:!0}),e.form.setFormItemsDisabled("stockorg",{pk_financeorg:!0}),e.form.setFormItemsDisabled("saleorgrelation",{default2:!0,default1:!0});var o=e.meta.getMeta(),r=o.stockorg.items.find(function(e){return"pk_financeorg"==e.attrcode});r.required=!1,r.disabled=!0,e.meta.setMeta(o)}t.childstate.purchaseorg&&e.form.setFormItemsDisabled("stockorgrelation",{target:!0}),t.childstate.stockorg&&(e.form.setFormItemsDisabled("maintainstockrelation",{target:!0}),e.form.setFormItemsDisabled("itemstockrelation",{target:!0}),e.form.setFormItemsDisabled("saleorgrelation",{target:!0})),t.childstate.trafficorg&&e.form.setFormItemsDisabled("stocktrafficrelation",{target:!0}),t.childstate.qccenter&&e.form.setFormItemsDisabled("stockqccenterrelation",{target:!0}),t.childstate.assetorg&&e.form.setFormItemsDisabled("stockassetrelation",{target:!0}),t.childstate.maintainorg&&e.form.setFormItemsDisabled("assetorgmaintainrelation",{target:!0}),t.childstate.liabilitycenter&&(e.form.setFormItemsDisabled("stockorgrelation",{default3:!0}),e.form.setFormItemsDisabled("saleorgrelation",{default3:!0}))}},{key:"onMouseEnterSortTreeEve",value:function(e){this.props.syncTree.hideIcon("orgunittree",e,{delIcon:!1,editIcon:!1,addIcon:!1})}},{key:"onSelectEve",value:function(e,t,o){if(o){var r=this;(0,l.ajax)({url:"/nccloud/uapbd/org/querydept.do",data:{pk_org:e},success:function(e){if(e.success)if(e.data){var t=r.props.treeTableManyCol.createNewData(e.data.orgdept.rows);r.props.treeTableManyCol.initTreeTableData("orgdept",t,"refpk")}else r.props.treeTableManyCol.emptyAllData("orgdept")}})}}},{key:"onSetUnitOrgRoot",value:function(){var e=this,t=this.props.form.getFormItemsValue("org","pk_org").value;void 0==t&&(t=w("orgunit_pk_org",this.config.datasource));(0,l.ajax)({url:"/nccloud/uapbd/org/setroot.do",data:{pk_org:t,type:"orgroot"},success:function(t){t.success&&((0,l.toast)({color:"success",title:e.state.json["10100ORG-000048"]}),this.props.modal.close("setorgroot"))},error:function(t){(0,l.toast)({content:t.message,title:e.state.json["10100ORG-000051"],color:"warning"})}})}},{key:"onSetAdminOrgRoot",value:function(){var e=this,t=e.props.form.getFormItemsValue("org","pk_org").value;void 0==t&&(t=w("orgunit_pk_org",e.config.datasource));(0,l.ajax)({url:"/nccloud/uapbd/org/setroot.do",data:{pk_org:t,type:"adminroot"},success:function(t){t.success&&((0,l.toast)({color:"success",title:e.state.json["10100ORG-000048"]}),e.props.modal.close("setadminorgroot"))},error:function(t){(0,l.toast)({content:t.message,title:e.state.json["10100ORG-000051"],color:"warning"})}})}},{key:"onSetCorpRoot",value:function(){var e=this,t=e.props.form.getFormItemsValue("org","pk_org").value;void 0==t&&(t=w("orgunit_pk_org",e.config.datasource));(0,l.ajax)({url:"/nccloud/uapbd/org/setroot.do",data:{pk_org:t,type:"corproot"},success:function(t){t.success&&((0,l.toast)({color:"success",title:e.state.json["10100ORG-000048"]}),e.props.modal.close("setcorproot"))},error:function(t){(0,l.toast)({content:t.message,title:e.state.json["10100ORG-000051"],color:"warning"})}})}},{key:"onHideUploader",value:function(){this.setState({showlogoUploader:!1,showUploader:!1})}},{key:"beforeUpload",value:function(e,t,o,r){if(r.length>0)return(0,l.toast)({content:this.state.json["10100ORG-000052"],color:"warning"}),!1;var a=!1;"image/jpeg"!==o.type&&"image/png"!==o.type||(a=!0),a||(0,l.toast)({content:this.state.json["10100ORG-000053"],color:"warning"});var n=o.size/1024/1024<2;return n||(0,l.toast)({content:this.state.json["10100ORG-000054"],color:"warning"}),a&&n}},{key:"afterInnercustEvent",value:function(e,t,o,r,a){var n=e.meta.getMeta();n.innercustsupp.items.map(function(e){"pk_org"==e.attrcode&&(0,l.ajax)({url:"/nccloud/uapbd/org/checknodeoperapower.do",data:{pk_org:r.value},success:function(e){e.success&&(e.data&&(0,l.toast)({content:e.data,color:"warning"}),n.innercustsupp.items.find(function(e){return"pk_custclass"==e.attrcode}).queryCondition=function(){return{pk_org:r.value}},n.innercustsupp.items.find(function(e){return"pk_supplierclass"==e.attrcode}).queryCondition=function(){return{pk_org:r.value}})}})}),e.meta.setMeta(n)}},{key:"onRowDoubleClick",value:function(e,t){var o={pk_vid:e.pk_vid.value,pk_org:e.pk_org.value,pageTitle:this.state.json["10100ORG-000104"],pagecode:"10100ORG_orgcardversion",appcode:"10100ORG",appid:"0001Z010000000001NOH",type:"version",subGrid:"org_v",subGrid1:"corp_v",subGrid2:"hrorg_v",subGrid3:"financeorgcard_v",subGrid4:"fundorg_v",subGrid5:"purchaseorg_v",subGrid6:"salesorg_v",subGrid61:"saleorgrelation_v",subGrid7:"stockorg_v",subGrid71:"stocktrafficrelation_v",subGrid72:"stockqccenterrelation_v",subGrid73:"stockorgrelation_v",subGrid74:"stockassetrelation_v",subGrid8:"trafficorg_v",subGrid9:"qccenter_v",subGrid10:"assetorg_v",subGrid101:"assetorgmaintainrelation_v",subGrid11:"maintainorg_v",subGrid111:"maintainstockrelation_v",subGrid12:"liabilitycenter_v",subGrid13:"itemorg_v",subGrid131:"itemstockrelation_v",subGrid14:"planbudget_v",subGrid15:"adminorg_v",subGrid16:"factory_v",subGrid17:"plancenter_v"};this.props.modal.show("orgversion",{content:i.default.createElement(d.default,{config:o}),userControl:!1})}},{key:"pageInfo",value:function(e,t){var o=this;if(e.config.orgtypearr.map(function(e){o.state.childstate[e.subGrid]=!1,o.props.form.EmptyAllFormValue(e.subGrid),e.isshow=!1}),e.setUrlParam({status:"browse",pagecode:e.config.pagecode,pk_org:t}),_("orgunit_btnopr",o.config.datasource,"goto"),this.initData(t),this.onRefresh(t),w("orgunit_setroot",e.config.datasource)){(0,l.ajax)({url:"/nccloud/platform/pub/mergerequest.do",data:[{rqUrl:"/uapbd/org/haverootorgunit.do",rqCode:"haverootorgunit"},{rqUrl:"/uapbd/org/haveadminrootorgunit.do",rqCode:"haveadminrootorgunit"},{rqUrl:"/uapbd/org/havecorprootorgunit.do",rqCode:"havecorprootorgunit"}],success:function(o){if(w("orgunit_setroot",e.config.datasource)){var r=o.data.haveadminrootorgunit;r.haveroot?t==r.pk?e.button.setButtonDisabled(["setadminorgroot"],!0):e.button.setButtonDisabled(["setadminorgroot"],!1):e.button.setButtonDisabled(["setadminorgroot"],!0);var a=o.data.havecorprootorgunit;a.haveroot?t==a.pk?e.button.setButtonDisabled(["setcorproot"],!0):e.button.setButtonDisabled(["setcorproot"],!1):e.button.setButtonDisabled(["setcorproot"],!0);var n=o.data.haverootorgunit;n.haveroot?t==n.pk?e.button.setButtonDisabled(["setorgroot"],!0):e.button.setButtonDisabled(["setorgroot"],!1):e.button.setButtonDisabled(["setorgroot"],!0)}else e.button.setButtonVisible(["setroot-2"],!1)}})}}},{key:"render",value:function(){var e=this;if(!this.state.inlt)return"";var t=this.props,o=t.cardTable,r=t.form,a=t.button,n=t.modal,s=t.cardPagination,d=t.table,u=t.editTable,p=t.DragWidthCom,_=t.syncTree,R=t.treeTableManyCol,F=s.createCardPagination,E=(this.props.button.getButtons(),r.createForm),C=(o.createCardTable,a.createButtonApp),S=n.createModal,I=d.createSimpleTable,q=_.createSyncTree,x=R.treeTableCol,j=u.createEditTable,B=this.props.getUrlParam("status");return void 0==B&&(B="browse"),i.default.createElement("div",{id:"nc-bill-card"},i.default.createElement("div",{className:"nc-bill-card orgunit-card"},i.default.createElement(g,null,i.default.createElement("div",{className:"nc-bill-header-area"},"browse"===B&&i.default.createElement(k,{className:"title-search-detail",onClick:c.buttonClick.bind(this,this.config.formId,this.props,"back")}),i.default.createElement("div",{className:"header-title-search-area"},i.default.createElement("h2",{className:"title-search-detail"},this.state.json["10100ORG-000098"])),i.default.createElement("div",{className:"header-button-area"},C({area:"header-button-area",onButtonClick:c.buttonClick.bind(this,this.config.formId)}),this.state.showSubGrid?i.default.createElement("div",{className:"header-button-cardPagination"},F({handlePageInfoChange:this.pageInfo.bind(this),urlPkname:"pk_org",dataSource:this.config.datasource})):""))),i.default.createElement(f,null,this.state.orgtypefloor.map(function(e){return i.default.createElement(h,{to:e.subGrid,spy:!0,smooth:!0,duration:300,offset:-100},i.default.createElement("p",null,e.subName))})),i.default.createElement(m,{style:{marginBottom:"5px"},name:this.config.formId},i.default.createElement("div",{className:"nc-bill-form-area"},E(this.config.formId,{expandArr:["orgtype"],onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}))),this.state.childstate.corp?i.default.createElement(m,{name:this.config.subGrid1},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000064"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.corp,onChange:this.showOffChange.bind(this,this.config.subGrid1)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.corp},i.default.createElement("div",null,C({area:"corporgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid1),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid1,{onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.hrorg?i.default.createElement(m,{name:this.config.subGrid2},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff"},this.state.json["10100ORG-000065"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.hrorg,onChange:this.showOffChange.bind(this,this.config.subGrid2)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.hrorg},i.default.createElement("div",null,C({area:"hrorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid2),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid2,{onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.financeorg?i.default.createElement(m,{name:this.config.subGrid3},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000066"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.financeorg,onChange:this.showOffChange.bind(this,this.config.subGrid3)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.financeorg},i.default.createElement("div",null,C({area:"financeorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid3),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid3,{onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.fundorg?i.default.createElement(m,{name:this.config.subGrid4},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000067"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.fundorg,onChange:this.showOffChange.bind(this,this.config.subGrid4)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.fundorg},i.default.createElement("div",null,C({area:"fundorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid4),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid4,{onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.purchaseorg?i.default.createElement(m,{name:this.config.subGrid5},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000068"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.purchaseorg,onChange:this.showOffChange.bind(this,this.config.subGrid5)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.purchaseorg},i.default.createElement("div",null,C({area:"purchaseorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid5),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid5,{onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.saleorg?i.default.createElement(m,{name:this.config.subGrid6},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000069"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.saleorg,onChange:this.showOffChange.bind(this,this.config.subGrid6)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.saleorg},i.default.createElement("div",null,C({area:"saleorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid6),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid6,{onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}),this.state.buttonshow?i.default.createElement("div",{class:"operator operator-tit"},this.state.json["10100ORG-000070"],i.default.createElement("span",{className:"wuliu"})):"",E(this.config.subGrid61,{onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.stockorg?i.default.createElement(m,{name:this.config.subGrid7},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000071"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.stockorg,onChange:this.showOffChange.bind(this,this.config.subGrid7)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.stockorg},i.default.createElement("div",null,C({area:"stockorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid7),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid7,{onAfterEvent:this.afterEvent.bind(this)}),this.state.buttonshow?i.default.createElement("div",{class:"operator operator-tit"},this.state.json["10100ORG-000072"],i.default.createElement("span",{className:"wuliu"})):"",E(this.config.subGrid71,{onAfterEvent:this.afterEvent.bind(this)}),this.state.buttonshow?i.default.createElement("div",{class:"operator operator-tit"},this.state.json["10100ORG-000073"],i.default.createElement("span",{className:"wuliu"})):"",E(this.config.subGrid72,{onAfterEvent:this.afterEvent.bind(this)}),this.state.buttonshow?i.default.createElement("div",{class:"operator operator-tit"},this.state.json["10100ORG-000074"],i.default.createElement("span",{className:"wuliu"})):"",E(this.config.subGrid73,{onAfterEvent:this.afterEvent.bind(this)}),this.state.buttonshow?i.default.createElement("div",{class:"operator operator-tit"},this.state.json["10100ORG-000075"],i.default.createElement("span",{className:"wuliu"})):"",E(this.config.subGrid74,{onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.trafficorg?i.default.createElement(m,{name:this.config.subGrid8},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000076"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.trafficorg,onChange:this.showOffChange.bind(this,this.config.subGrid8)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.trafficorg},i.default.createElement("div",null,C({area:"trafficorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid8),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid8,{onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.qccenter?i.default.createElement(m,{name:this.config.subGrid9},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},i.default.createElement(b,null,this.state.buttonshow?i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000077"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.qccenter,onChange:this.showOffChange.bind(this,this.config.subGrid9)})):""),i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.qccenter},i.default.createElement("div",null,C({area:"qccenterorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid9),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid9,{onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.assetorg?i.default.createElement(m,{name:this.config.subGrid10},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000078"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.assetorg,onChange:this.showOffChange.bind(this,this.config.subGrid10)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.assetorg},i.default.createElement("div",null,C({area:"assetorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid10),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid10,{onAfterEvent:this.afterEvent.bind(this)}),this.state.buttonshow?i.default.createElement("div",{class:"operator operator-tit"},this.state.json["10100ORG-000079"],i.default.createElement("span",{className:"wuliu"})):"",E(this.config.subGrid101,{onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.maintainorg?i.default.createElement(m,{name:this.config.subGrid11},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000080"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.maintainorg,onChange:this.showOffChange.bind(this,this.config.subGrid11)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.maintainorg},i.default.createElement("div",null,C({area:"maintainorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid11),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid11,{onAfterEvent:this.afterEvent.bind(this)}),this.state.buttonshow?i.default.createElement("div",{class:"operator operator-tit"},this.state.json["10100ORG-000081"],i.default.createElement("span",{className:"wuliu"})):"",E(this.config.subGrid111,{onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.liabilitycenter?i.default.createElement(m,{name:this.config.subGrid12},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000003"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.liabilitycenter,onChange:this.showOffChange.bind(this,this.config.subGrid12)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.liabilitycenter},i.default.createElement("div",null,C({area:"liabilitycenterorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid12),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid12,{onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.itemorg?i.default.createElement(m,{name:this.config.subGrid13},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000082"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.itemorg,onChange:this.showOffChange.bind(this,this.config.subGrid13)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.itemorg},i.default.createElement("div",null,C({area:"itemorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid13),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid13,{onAfterEvent:this.afterEvent.bind(this)}),this.state.buttonshow?i.default.createElement("div",{class:"operator operator-tit"},this.state.json["10100ORG-000083"],i.default.createElement("span",{className:"wuliu"})):"",E(this.config.subGrid131,{onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.planbudget?i.default.createElement(m,{name:this.config.subGrid14},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000084"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.planbudget,onChange:this.showOffChange.bind(this,this.config.subGrid14)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.planbudget},i.default.createElement("div",null,C({area:"planbudgetorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid14),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid14,{onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.adminorg?i.default.createElement(m,{name:this.config.subGrid15},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000085"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.adminorg,onChange:this.showOffChange.bind(this,this.config.subGrid15)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.adminorg},i.default.createElement("div",null,C({area:"adminorgorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid15),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid15,{onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.factory?i.default.createElement(m,{name:this.config.subGrid16},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000086"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.factory,onChange:this.showOffChange.bind(this,this.config.subGrid16)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.factory},i.default.createElement("div",null,C({area:"factoryorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid16),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid16,{onAfterEvent:this.afterEvent.bind(this)}))))):"",this.state.childstate.plancenter?i.default.createElement(m,{name:this.config.subGrid17},i.default.createElement("div",{className:"nc-bill-table-area nc-bill-table-list"},this.state.buttonshow?i.default.createElement(b,null,i.default.createElement("span",{className:"showOff",style:{marginLeft:"20px"}},this.state.json["10100ORG-000087"],i.default.createElement(v,{id:"orgShowDisable",checked:this.state.childstate.plancenter,onChange:this.showOffChange.bind(this,this.config.subGrid17)}))):"",i.default.createElement(y,{style:{marginBottom:"5px"},in:this.state.childstate.plancenter},i.default.createElement("div",null,C({area:"plancenterorgtype-button-area",buttonLimit:5,onButtonClick:c.oprButtonClick.bind(this,this.config.subGrid17),popContainer:document.querySelector(".childline-button-area")}),E(this.config.subGrid17,{onAfterEvent:this.afterEvent.bind(this)}))))):"",S("org_v",{title:this.state.json["10100ORG-000056"],content:function(){return i.default.createElement("div",null,i.default.createElement("div",{className:"orgunit-financeorg"},E("org_v_head"),i.default.createElement("div",{className:"nc-singleTable-table-area"},I("org_v",{onRowDoubleClick:this.onRowDoubleClick.bind(this),showIndex:!0}))))}.bind(this)(),userControl:!1,noFooter:!1,beSureBtnClick:this.onSaveVersion.bind(this)}),S("financeorg_v",{content:function(){return i.default.createElement("div",null,i.default.createElement("div",null,E("financeorg_v")))}.bind(this)(),userControl:!1,noFooter:!1,beSureBtnClick:this.onSaveFinanceVersion.bind(this)}),S("orgmanager",{title:this.state.json["10100ORG-000057"],content:function(){var e=this;return i.default.createElement("div",null,i.default.createElement("div",{style:{height:45,marginTop:-15}},i.default.createElement("div",{style:{position:"relative",height:"100%"}},i.default.createElement("div",{className:"orgmanager-button-parent"},C({area:"orgmanager-button-area",buttonLimit:5,onButtonClick:this.onOrgManageButtonClick.bind(this),popContainer:document.querySelector(".orgmanager-button-area")})),i.default.createElement("span",{className:"orgmanager-button-text"},this.state.json["10100ORG-000088"],":",w("orgunit_name",this.config.datasource)))),j("orgmanager",{onAfterEvent:this.onTableModelAfterEdit.bind(this),onSelected:function(){e.props.editTable.getCheckedRows("orgmanager").length>0?e.props.button.setButtonDisabled(["orgmanagedel"],!1):e.props.button.setButtonDisabled(["orgmanagedel"],!0)},showCheck:!0,showIndex:!0}))}.bind(this)(),userControl:!0,cancelBtnClick:function(){(0,l.promptBox)({color:"warning",title:e.state.json["10100ORG-000100"],noFooter:!1,hasCloseBtn:!1,content:e.state.json["10100ORG-000002"],beSureBtnClick:function(){e.props.modal.close("orgmanager"),e.props.editTable.setStatus("orgmanager","browse")}})},noFooter:!0}),S("orgmoduleperiod",{title:this.state.json["10100ORG-000058"],content:function(){return i.default.createElement("div",null,i.default.createElement("div",{style:{height:45,marginTop:-10}},i.default.createElement("div",{style:{position:"relative",height:"100%"}},i.default.createElement("div",{style:{position:"absolute",height:"100%",right:0,top:5}},C({area:"period-button-area",buttonLimit:5,onButtonClick:this.onOrgPeirodButtonClick.bind(this),popContainer:document.querySelector(".period-button-area")})))),i.default.createElement("div",{className:"orgunit-card-orgmoduleperiod"},j("orgmoduleperiod",{onBeforeEvent:this.onPeriodBeforeEvent.bind(this),showIndex:!0})))}.bind(this)(),userControl:!0,noFooter:!0,cancelBtnClick:function(){(0,l.promptBox)({color:"warning",title:e.state.json["10100ORG-000100"],noFooter:!1,hasCloseBtn:!1,content:e.state.json["10100ORG-000002"],beSureBtnClick:function(){e.props.modal.close("orgmoduleperiod"),e.props.editTable.setStatus("orgmoduleperiod","browse")}})},beSureBtnClick:this.onSaveOrgPeriod.bind(this)}),S("innercustsupp",{title:this.state.json["10100ORG-000059"],content:function(){return i.default.createElement("div",null,i.default.createElement("div",null,E("innercustsupp",{setVisibleByForm:!0,onAfterEvent:this.afterInnercustEvent.bind(this)})))}.bind(this)(),userControl:!0,noFooter:!1,cancelBtnClick:function(){(0,l.promptBox)({color:"warning",title:e.state.json["10100ORG-000100"],noFooter:!1,hasCloseBtn:!1,content:e.state.json["10100ORG-000002"],beSureBtnClick:function(){e.props.modal.close("innercustsupp"),e.props.form.setFormStatus("innercustsupp","browse")}})},beSureBtnClick:this.onSaveOrgInnercust.bind(this)}),S("orgvatfunclet",{title:this.state.json["10100ORG-000060"],content:function(){var e=this;return i.default.createElement("div",null,i.default.createElement("div",{style:{height:45,marginTop:-10}},i.default.createElement("div",{style:{position:"relative",height:"100%"}},i.default.createElement("div",{style:{position:"absolute",height:"100%",right:0,top:5}},C({area:"vat-button-area",buttonLimit:5,onButtonClick:this.onOrgVATButtonClick.bind(this),popContainer:document.querySelector(".vat-button-area")})))),j("orgvatfunclet",{onAfterEvent:this.onVATTableModelAfterEdit.bind(this),onSelected:function(){e.props.editTable.getCheckedRows("orgvatfunclet").length>0?(e.props.button.setButtonDisabled(["vatdel"],!1),e.props.button.setButtonDisabled(["vatlinedel"],!1)):(e.props.button.setButtonDisabled(["vatdel"],!0),e.props.button.setButtonDisabled(["vatlinedel"],!0))},onSelectedAll:function(){e.props.editTable.getCheckedRows("orgvatfunclet").length>0?(e.props.button.setButtonDisabled(["vatdel"],!1),e.props.button.setButtonDisabled(["vatlinedel"],!1)):(e.props.button.setButtonDisabled(["vatdel"],!0),e.props.button.setButtonDisabled(["vatlinedel"],!0))},showIndex:!0,showCheck:!0}))}.bind(this)(),userControl:!0,noFooter:!0,cancelBtnClick:function(){(0,l.promptBox)({color:"warning",title:e.state.json["10100ORG-000100"],noFooter:!1,hasCloseBtn:!1,content:e.state.json["10100ORG-000002"],beSureBtnClick:function(){e.props.modal.close("orgvatfunclet"),e.props.editTable.setStatus("orgvatfunclet","browse")}})}}),S("orgdept",{title:this.state.json["10100ORG-000061"],content:function(){return i.default.createElement("div",{className:"tree-table"},i.default.createElement(p,{leftDom:i.default.createElement("div",{className:"tree-area-dept"},q({treeId:"orgunittree",showLine:!0,onSelectEve:this.onSelectEve.bind(this),defaultExpandAll:!0,onMouseEnterEve:this.onMouseEnterSortTreeEve.bind(this),showModal:!1})),rightDom:i.default.createElement("div",{className:"treeTableCol"},i.default.createElement("div",{className:"version-head"},x("orgdept",{async:!1,defaultExpandAll:!0}))),defLeftWid:"30%"}))}.bind(this)(),userControl:!1}),this.state.showUploader&&i.default.createElement(G,{billId:"uapbd/null/"+w("orgunit_pk_org",this.config.datasource),placement:"bottom_right",multiple:!0,onHide:this.onHideUploader.bind(this)}),this.state.showlogoUploader&&i.default.createElement(G,{billId:"logo/"+w("orgunit_pk_org",this.config.datasource),placement:"bottom_right",multiple:!1,beforeUpload:this.beforeUpload.bind(this),onHide:this.onHideUploader.bind(this)}),S("setorgroot",{title:this.state.json["10100ORG-000027"],content:this.state.json["10100ORG-000028"],userControl:!1,noFooter:!1,beSureBtnClick:this.onSetUnitOrgRoot.bind(this)}),S("setadminorgroot",{title:this.state.json["10100ORG-000027"],content:this.state.json["10100ORG-000030"],userControl:!1,noFooter:!1,beSureBtnClick:this.onSetAdminOrgRoot.bind(this)}),S("setcorproot",{title:this.state.json["10100ORG-000027"],content:this.state.json["10100ORG-000029"],noFooter:!1,userControl:!1,beSureBtnClick:this.onSetCorpRoot.bind(this)}),i.default.createElement(O,{ref:"printOutput",url:"/nccloud/uapbd/org/print.do",data:{funcode:"10100ORG",nodekey:"cardPrint",oids:this.state.pks,outputType:"output"}}),i.default.createElement("div",{className:"orgversion-table"},S("orgversion",{noFooter:!1})),S("warning",{title:this.state.json["10100ORG-000062"],content:this.state.json["10100ORG-000063"]}),S("delete"),S("confirm")))}}]),t}(),a=function(){var e=this;this.afterEvent1=function(e,t,o,r,a){},this.beforeEvent=function(t,o,r,a,n){var s=e,i=e.props.meta.getMeta(),c=t.getUrlParam("pk_org"),d=t.getUrlParam("status");switch(void 0==c&&(c=w("orgunit_pk_org",t.config.datasource)),r){case"orgtype6":if(!a.value&&0==e.state.childstate.financeorg)return(0,l.toast)({content:e.state.json["10100ORG-000035"],color:"warning"}),!1;break;case"orgtype33":if(!a.value){if(1==e.state.childstate.plancenter)return(0,l.toast)({content:e.state.json["10100ORG-000036"],color:"warning"}),!1;if(0==e.state.childstate.stockorg)return(0,l.toast)({content:e.state.json["10100ORG-000037"],color:"warning"}),!1}break;case"orgtype5":if(a.value&&1==e.state.childstate.corp)return(0,l.toast)({content:e.state.json["10100ORG-000038"],color:"warning"}),!1;break;case"orgtype34":if(!a.value&&1==e.state.childstate.factory)return(0,l.toast)({content:e.state.json["10100ORG-000036"],color:"warning"}),!1;break;case"pk_fatherorg":var u=w("orgunit_btnopr",t.config.datasource);if("add"!=d&&"copy"!=u){var p=i.org.items.find(function(e){return"pk_fatherorg"==e.attrcode}),g=i.corp.items.find(function(e){return"pk_fatherorg"==e.attrcode}),f=i.hrorg.items.find(function(e){return"pk_fatherorg"==e.attrcode}),m=i.saleorg.items.find(function(e){return"pk_fatherorg"==e.attrcode}),h=i.liabilitycenter.items.find(function(e){return"pk_fatherorg"==e.attrcode}),b=i.adminorg.items.find(function(e){return"pk_fatherorg"==e.attrcode});p.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",pk:c,AppCode:t.config.appcode,orgtype:"org"}},g.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",pk:c,AppCode:t.config.appcode,orgtype:"corp"}},f.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",pk:c,AppCode:t.config.appcode,orgtype:"hrorg"}},m.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",pk:c,AppCode:t.config.appcode,orgtype:"saleorg"}},h.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",pk:c,AppCode:t.config.appcode,orgtype:"liabilitycenter"}},b.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.org.orgunit.action.OrgPkFatherSQLBuilder,nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",pk:c,AppCode:t.config.appcode,orgtype:"adminorg"}},s.props.meta.setMeta(i)}break;case"istaxorg":if(a.value&&1==e.state.childstate.corp)return(0,l.toast)({content:e.state.json["10100ORG-000039"],color:"warning"}),!1;break;default:return!0}return!0},this.afterEvent=function(t,o,r,a,n){var s=e,i=s.props.meta.getMeta(),c="org",d=s.props.getUrlParam("pk_org");switch(r){case"orgtype2":s.state.childstate.corp=a.value,c="corp",a.value&&(s.state.childstate.financeorg=a.value,s.props.form.setFormItemsValue("org",{orgtype5:{value:a.value,display:null}}),s.props.form.setFormItemsValue("org",{pk_corp:{value:null,display:null}}),s.props.form.setFormItemsDisabled("org",{pk_corp:!0}),s.props.form.setFormItemsRequired("org",{pk_corp:!1})),a.value||(s.props.form.setFormItemsDisabled("org",{pk_corp:!1}),s.state.childstate.financeorg&&s.props.form.setFormItemsRequired("org",{pk_corp:!0}));break;case"orgtype4":s.state.childstate.hrorg=a.value,c="hrorg";break;case"orgtype5":if(s.state.childstate.financeorg=a.value,c="financeorg",a.value){s.props.form.setFormItemsDisabled("stockorgrelation",{default2:!0,default1:!0}),s.props.form.setFormItemsDisabled("stockorg",{pk_financeorg:!0}),s.props.form.setFormItemsDisabled("saleorgrelation",{default2:!0,default1:!0});var u=i.stockorg.items.find(function(e){return"pk_financeorg"==e.attrcode});u.required=!1,u.disabled=!0,s.state.childstate.corp||s.props.form.setFormItemsRequired("org",{pk_corp:!0})}else{s.props.form.setFormItemsDisabled("stockorgrelation",{default2:!1,default1:!1}),s.props.form.setFormItemsDisabled("stockorg",{pk_financeorg:!1}),s.state.childstate.financeorg&&s.props.form.setFormItemsValue("financeorg",{istaxorg:{value:!0,display:!1}}),s.props.form.setFormItemsDisabled("saleorgrelation",{default2:!1,default1:!1});var p=i.stockorg.items.find(function(e){return"pk_financeorg"==e.attrcode});p.required=!0,p.disabled=!1,s.props.form.setFormItemsRequired("org",{pk_corp:!1})}break;case"orgtype6":if(a.value&&0==s.state.childstate.financeorg)return void(0,l.toast)({content:e.state.json["10100ORG-000035"],color:"warning"});s.state.childstate.fundorg=a.value,c="fundorg";break;case"orgtype7":s.state.childstate.purchaseorg=a.value,c="purchaseorg",a.value?s.props.form.setFormItemsDisabled("stockorgrelation",{target:!0}):s.props.form.setFormItemsDisabled("stockorgrelation",{target:!1});break;case"orgtype8":s.state.childstate.saleorg=a.value,c="saleorg",a.value?s.props.form.setFormItemsDisabled("org",{isretail:!1}):(s.props.form.setFormItemsDisabled("org",{isretail:!0}),s.props.form.setFormItemsValue("org",{isretail:{value:null,display:null}})),s.state.childstate.stockorg?s.props.form.setFormItemsDisabled("saleorgrelation",{target:!0}):s.props.form.setFormItemsDisabled("saleorgrelation",{target:!1}),s.state.childstate.financeorg?s.props.form.setFormItemsDisabled("saleorgrelation",{default2:!0,default1:!0}):s.props.form.setFormItemsDisabled("saleorgrelation",{default2:!1,default1:!1}),s.state.childstate.liabilitycenter?s.props.form.setFormItemsDisabled("saleorgrelation",{default3:!0}):s.props.form.setFormItemsDisabled("saleorgrelation",{default3:!1});break;case"orgtype9":s.state.childstate.stockorg=a.value,c="stockorg",a.value?(s.props.form.setFormItemsDisabled("maintainstockrelation",{target:!0}),s.props.form.setFormItemsDisabled("itemstockrelation",{target:!0}),s.props.form.setFormItemsDisabled("saleorgrelation",{target:!0}),s.props.form.setFormItemsDisabled("org",{isretail:!1})):(s.props.form.setFormItemsDisabled("maintainstockrelation",{target:!1}),s.props.form.setFormItemsDisabled("itemstockrelation",{target:!1}),s.props.form.setFormItemsDisabled("saleorgrelation",{target:!1}),s.props.form.setFormItemsDisabled("org",{isretail:!0}),s.props.form.setFormItemsValue("org",{isretail:{value:null,display:null}}));var g=i.stockorg.items.find(function(e){return"pk_financeorg"==e.attrcode});s.state.childstate.financeorg?(s.props.form.setFormItemsDisabled("stockorgrelation",{default2:!0,default1:!0}),s.props.form.setFormItemsDisabled("stockorg",{pk_financeorg:!0}),g.required=!1,g.disabled=!0):(s.props.form.setFormItemsDisabled("stockorgrelation",{default2:!1,default1:!1}),s.props.form.setFormItemsDisabled("stockorg",{pk_financeorg:!1}),g.required=!0,g.disabled=!1),s.state.childstate.qccenter?s.props.form.setFormItemsDisabled("stockqccenterrelation",{target:!0}):s.props.form.setFormItemsDisabled("stockqccenterrelation",{target:!1}),s.state.childstate.liabilitycenter?s.props.form.setFormItemsDisabled("stockorgrelation",{default3:!0}):s.props.form.setFormItemsDisabled("stockorgrelation",{default3:!1}),s.state.childstate.trafficorg?s.props.form.setFormItemsDisabled("stocktrafficrelation",{target:!0}):s.props.form.setFormItemsDisabled("stocktrafficrelation",{target:!1}),s.state.childstate.assetorg?s.props.form.setFormItemsDisabled("stockassetrelation",{target:!0}):s.props.form.setFormItemsDisabled("stockassetrelation",{target:!1}),s.state.childstate.purchaseorg?s.props.form.setFormItemsDisabled("stockorgrelation",{target:!0}):s.props.form.setFormItemsDisabled("stockorgrelation",{target:!1});break;case"orgtype10":s.state.childstate.trafficorg=a.value,c="trafficorg",a.value?s.props.form.setFormItemsDisabled("stocktrafficrelation",{target:!0}):s.props.form.setFormItemsDisabled("stocktrafficrelation",{target:!1});break;case"orgtype11":s.state.childstate.qccenter=a.value,c="qccenter",a.value?s.props.form.setFormItemsDisabled("stockqccenterrelation",{target:!0}):s.props.form.setFormItemsDisabled("stockqccenterrelation",{target:!1});break;case"orgtype12":s.state.childstate.assetorg=a.value,c="assetorg",a.value?s.props.form.setFormItemsDisabled("stockassetrelation",{target:!0}):s.props.form.setFormItemsDisabled("stockassetrelation",{target:!1});break;case"orgtype14":s.state.childstate.maintainorg=a.value,c="maintainorg",a.value?s.props.form.setFormItemsDisabled("assetorgmaintainrelation",{target:!0}):s.props.form.setFormItemsDisabled("assetorgmaintainrelation",{target:!1}),s.state.childstate.stockorg?(s.props.form.setFormItemsDisabled("maintainstockrelation",{target:!0}),s.props.form.setFormItemsDisabled("assetorgmaintainrelation",{target:!0})):(s.props.form.setFormItemsDisabled("assetorgmaintainrelation",{target:!1}),s.props.form.setFormItemsDisabled("maintainstockrelation",{target:!1}));break;case"orgtype15":s.state.childstate.liabilitycenter=a.value,c="liabilitycenter",a.value?(s.props.form.setFormItemsDisabled("stockorgrelation",{default3:!0}),s.props.form.setFormItemsDisabled("saleorgrelation",{default3:!0})):(s.props.form.setFormItemsDisabled("stockorgrelation",{default3:!1}),s.props.form.setFormItemsDisabled("saleorgrelation",{default3:!1}));break;case"orgtype16":s.state.childstate.itemorg=a.value,c="itemorg",s.state.childstate.stockorg?s.props.form.setFormItemsDisabled("itemstockrelation",{target:!0}):s.props.form.setFormItemsDisabled("itemstockrelation",{target:!1});break;case"orgtype17":s.state.childstate.planbudget=a.value,c="planbudget";break;case"orgtype29":s.state.childstate.adminorg=a.value,w("haveadminrootorgunit",t.config.datasource).haveroot?(s.props.form.setFormItemsRequired("adminorg",{pk_fatherorg:!0}),s.props.form.setFormItemsDisabled("adminorg",{pk_fatherorg:!1})):(s.props.form.setFormItemsRequired("adminorg",{pk_fatherorg:!1}),s.props.form.setFormItemsDisabled("adminorg",{pk_fatherorg:!0})),c="adminorg";break;case"orgtype33":if(a.value&&1==s.state.childstate.keyplancenter)return void(0,l.toast)({content:e.state.json["10100ORG-000036"],color:"warning"});s.state.childstate.factory=a.value,c="factory";break;case"orgtype34":if(a.value&&1==s.state.childstate.factory)return void(0,l.toast)({content:e.state.json["10100ORG-000036"],color:"warning"});s.state.childstate.plancenter=a.value,c="plancenter";break;case"issettlecenter":a.value&&s.state.childstate.fundorg?s.props.form.setFormItemsValue("fundorg",{isfinancecorp:{value:!1,display:null}}):s.state.childstate.fundorg&&s.props.form.setFormItemsValue("fundorg",{isfinancecorp:{value:!0,display:null}});break;case"isfinancecorp":a.value&&s.state.childstate.fundorg?s.props.form.setFormItemsValue("fundorg",{issettlecenter:{value:!1,display:null}}):s.state.childstate.fundorg&&s.props.form.setFormItemsValue("fundorg",{issettlecenter:{value:!0,display:null}});break;case"pk_address":(0,l.ajax)({url:"/nccloud/uapbd/org/getpkarea.do",data:{pk:a.refpk},success:function(e){e.success&&e.data&&s.props.form.setFormItemsValue("stockorg",{pk_areacl:{value:e.data.pk,display:e.data.name}})}});break;case"reportconfirm":a.value&&(0,l.ajax)({url:"/nccloud/uapbd/org/checkreportconfirm.do",data:{pk_org:d},success:function(t){if(t.success&&t.data)return(0,l.toast)({content:e.state.json["10100ORG-000040"],color:"warning"}),s.props.form.setFormItemsValue("org",{reportconfirm:{value:!1,display:null}}),!1}})}s.props.meta.setMeta(i),s.setState({childstate:s.state.childstate},function(){s.state.childstate.corp&&(s.state.childstate.financeorg&&(s.props.form.setFormItemsValue("financeorg",{istaxorg:{value:!0,display:!1}}),s.props.form.setFormItemsDisabled("financeorg",{paytaxcates:!1}),s.props.form.setFormItemsDisabled("financeorg",{authorizedtaxcates:!0})),s.props.form.getFormItemsValue("corp","pk_fatherorg").value||s.props.form.setFormItemsValue("corp",{pk_fatherorg:{value:w("orgunit_pk_corpfatherorg",s.props.config.datasource),display:w("orgunit_pk_corpfatherorgname",s.props.config.datasource)}})),s.state.childstate.corp||s.state.childstate.financeorg&&("orgtype5"==r&&s.props.form.setFormItemsValue("financeorg",{istaxorg:{value:!1,display:!1}}),s.props.form.getFormItemsValue("financeorg","istaxorg").value?(s.props.form.setFormItemsDisabled("financeorg",{paytaxcates:!1}),s.props.form.setFormItemsDisabled("financeorg",{authorizedtaxcates:!1})):(s.props.form.setFormItemsDisabled("financeorg",{paytaxcates:!0}),s.props.form.setFormItemsDisabled("financeorg",{authorizedtaxcates:!0})))}),s.showOffChange(c,a.value)},this.getdata=function(t){var o=e,r=e.props.getUrlParam("status"),a=w("orgunit_btnopr",o.config.datasource),n=w("orgunit_carddata_"+t,e.props.config.datasource),s=(o.props.meta.getMeta(),w("orgunit_needquerydata_"+t,e.props.config.datasource));if(n&&!s){var i={};if(JSON.parse(JSON.stringify(n)).forEach(function(e){e.hasOwnProperty("org")&&"add"!=r&&"edit"!=r&&"copy"!=a&&E(o.props,e.org.rows[0].values.enablestate.value),console.log(Object.keys(e)[3]);var t="";Object.keys(e).map(function(o){null!=e[o]&&void 0!=e[o]&&(t=o)}),o.toggleButtonShow(o.props,e[t].rows[0].values.enablestate.value,t),i[t]=e[t]}),o.setState({buttonshow:!0},function(){o.props.form.setAllFormValue(i)}),"copy"==a&&(o.props.form.setFormItemsValue("org",{pk_org:{value:null,display:null},innercode:{value:null,display:null},code:{value:null,display:null},name:{value:null,display:null},name2:{value:null,display:null},name3:{value:null,display:null},shortname:{value:null,display:null},shortname2:{value:null,display:null},shortname3:{value:null,display:null}}),o.props.form.setFormItemsDisabled("org",{pk_fatherorg:!1}),o.props.form.setFormItemsRequired("org",{pk_fatherorg:!0}),(0,l.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:t,status:r},success:function(e){e.success&&e.data&&(o.props.form.setFormItemsDisabled("org",{code:!e.data.isCodeEdit}),o.props.form.setFormItemsValue("org",{code:{value:e.data.newCode,display:e.data.newCode}}))}})),"cancel"==w("orgunit_btnopr",o.props.config.datasource)&&(o.state.childstate=JSON.parse(JSON.stringify(w("orgunit_childstate",o.props.config.datasource))),o.state.orgtypefloor=JSON.parse(JSON.stringify(w("orgunit_orgtypefloor",o.props.config.datasource)))),"edit"!=r&&"browse"!=r||o.props.form.setFormItemsValue("org",{orgtype2:{value:o.state.childstate.corp,display:null},orgtype4:{value:o.state.childstate.hrorg,display:null},orgtype5:{value:o.state.childstate.financeorg,display:null},orgtype6:{value:o.state.childstate.fundorg,display:null},orgtype7:{value:o.state.childstate.purchaseorg,display:null},orgtype8:{value:o.state.childstate.saleorg,display:null},orgtype9:{value:o.state.childstate.stockorg,display:null},orgtype10:{value:o.state.childstate.trafficorg,display:null},orgtype11:{value:o.state.childstate.qccenter,display:null},orgtype12:{value:o.state.childstate.assetorg,display:null},orgtype14:{value:o.state.childstate.maintainorg,display:null},orgtype15:{value:o.state.childstate.liabilitycenter,display:null},orgtype16:{value:o.state.childstate.itemorg,display:null},orgtype17:{value:o.state.childstate.planbudget,display:null},orgtype29:{value:o.state.childstate.adminorg,display:null},orgtype33:{value:o.state.childstate.factory,display:null},orgtype34:{value:o.state.childstate.plancenter,display:null}}),"browse"!=r){var c=o.props.form.getFormItemsValue("corp","pk_fatherorg");o.props.config.orgtypearr.map(function(e){o.props.form.setFormStatus(e.subGrid,"edit"),"copy"==a&&"org"!=e.subGrid&&o.props.form.EmptyAllFormValue(e.subGrid)}),"copy"==a&&o.state.childstate.corp&&o.props.form.setFormItemsValue("corp",{pk_fatherorg:{value:c.value,display:c.display}});var d=o.props.form.getFormItemsValue("org","pk_fatherorg");void 0!=d.display&&""!=d.display||"copy"==w("orgunit_btnopr",o.config.datasource)||(o.props.form.setFormItemsDisabled("org",{pk_fatherorg:!0}),o.props.form.setFormItemsRequired("org",{pk_fatherorg:!1})),o.props.form.setFormStatus("org","edit")}else o.props.config.orgtypearr.map(function(e){o.props.form.setFormStatus(e.subGrid,"browse")});return o.setState({title_code:""}),"refresh"==a&&((0,l.toast)({title:o.state.json["10100ORG-000041"],color:"success"}),_("orgunit_btnopr",o.config.datasource,"browse")),_("orgunit_code",o.props.config.datasource,i.org.rows[0].values.code.value),_("orgunit_name",o.props.config.datasource,i.org.rows[0].values.name.value),void _("orgunit_shortname",o.props.config.datasource,i.org.rows[0].values.shortname.value)}var u={pk_org:t,btnopr:a};(0,l.ajax)({url:"/nccloud/uapbd/org/queryorgtype.do",data:u,success:function(n){if(n.data){console.log(n.data);var s={};if(n.data.forEach(function(e){e.hasOwnProperty("org")&&"add"!=r&&"edit"!=r&&"copy"!=a&&E(o.props,e.org.rows[0].values.enablestate.value);var t="";Object.keys(e).map(function(o){null!=e[o]&&void 0!=e[o]&&(t=o)}),o.toggleButtonShow(o.props,e[t].rows[0].values.enablestate.value,t),s[t]=e[t]}),o.setState({buttonshow:!0},function(){o.props.form.setAllFormValue(s)}),"copy"==a&&(o.props.form.setFormItemsValue("org",{pk_org:{value:null,display:null},innercode:{value:null,display:null},code:{value:null,display:null},name:{value:null,display:null},name2:{value:null,display:null},name3:{value:null,display:null},shortname:{value:null,display:null},shortname2:{value:null,display:null},shortname3:{value:null,display:null}}),o.props.form.setFormItemsDisabled("org",{pk_fatherorg:!1}),o.props.form.setFormItemsRequired("org",{pk_fatherorg:!0}),(0,l.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:t,status:r},success:function(e){e.success&&e.data&&(o.props.form.setFormItemsDisabled("org",{code:!e.data.isCodeEdit}),o.props.form.setFormItemsValue("org",{code:{value:e.data.newCode,display:e.data.newCode}}))}})),"cancel"==w("orgunit_btnopr",o.props.config.datasource)&&(o.state.childstate=JSON.parse(JSON.stringify(w("orgunit_childstate",o.props.config.datasource))),o.state.orgtypefloor=JSON.parse(JSON.stringify(w("orgunit_orgtypefloor",o.props.config.datasource)))),"edit"!=r&&"browse"!=r||o.props.form.setFormItemsValue("org",{orgtype2:{value:o.state.childstate.corp,display:null},orgtype4:{value:o.state.childstate.hrorg,display:null},orgtype5:{value:o.state.childstate.financeorg,display:null},orgtype6:{value:o.state.childstate.fundorg,display:null},orgtype7:{value:o.state.childstate.purchaseorg,display:null},orgtype8:{value:o.state.childstate.saleorg,display:null},orgtype9:{value:o.state.childstate.stockorg,display:null},orgtype10:{value:o.state.childstate.trafficorg,display:null},orgtype11:{value:o.state.childstate.qccenter,display:null},orgtype12:{value:o.state.childstate.assetorg,display:null},orgtype14:{value:o.state.childstate.maintainorg,display:null},orgtype15:{value:o.state.childstate.liabilitycenter,display:null},orgtype16:{value:o.state.childstate.itemorg,display:null},orgtype17:{value:o.state.childstate.planbudget,display:null},orgtype29:{value:o.state.childstate.adminorg,display:null},orgtype33:{value:o.state.childstate.factory,display:null},orgtype34:{value:o.state.childstate.plancenter,display:null}}),"browse"!=r){var i=o.props.form.getFormItemsValue("corp","pk_fatherorg");o.props.config.orgtypearr.map(function(e){o.props.form.setFormStatus(e.subGrid,"edit"),"copy"==a&&"org"!=e.subGrid&&o.props.form.EmptyAllFormValue(e.subGrid)}),"copy"==a&&o.state.childstate.corp&&o.props.form.setFormItemsValue("corp",{pk_fatherorg:{value:i.value,display:i.display}});var c=o.props.form.getFormItemsValue("org","pk_fatherorg");void 0!=c.display&&""!=c.display||"copy"==w("orgunit_btnopr",o.config.datasource)||(o.props.form.setFormItemsDisabled("org",{pk_fatherorg:!0}),o.props.form.setFormItemsRequired("org",{pk_fatherorg:!1})),o.props.form.setFormStatus("org","edit")}else o.props.config.orgtypearr.map(function(e){o.props.form.setFormStatus(e.subGrid,"browse")});"copy"!=w("orgunit_btnopr",o.props.config.datasource)&&(_("orgunit_carddata_"+t,o.props.config.datasource,n.data),_("orgunit_needquerydata_"+t,e.props.config.datasource,!1)),o.setState({title_code:""}),"refresh"==a&&((0,l.toast)({title:o.state.json["10100ORG-000041"],color:"success"}),_("orgunit_btnopr",o.config.datasource,"browse")),_("orgunit_code",o.props.config.datasource,s.org.rows[0].values.code.value),_("orgunit_name",o.props.config.datasource,s.org.rows[0].values.name.value),_("orgunit_shortname",o.props.config.datasource,s.org.rows[0].values.shortname.value)}}})},this.onSaveVersion=function(){var t=e.props.getUrlParam("pk_org"),o=e.props.form.getAllFormValue("org_v_head"),r=e;(0,l.ajax)({url:"/nccloud/uapbd/org/saveorgversion.do",data:o,success:function(e){e.success&&(_("orgunit_needquerydata_"+t,r.props.config.datasource,!0),r.onRefresh(),(0,l.toast)({title:r.state.json["10100ORG-000042"],color:"success"}))}})},this.onSaveFinanceVersion=function(){var t=e.props.getUrlParam("pk_org"),o=w("orgunit_versiontype",e.config.datasource),r=w("orgunit_modalid",e.config.datasource),a=e.props.form.getAllFormValue("financeorg_v"),n=e;(0,l.ajax)({url:"/nccloud/uapbd/org/savefinanceversion.do",data:{form:a,type:o},success:function(e){e.success&&(_("orgunit_needquerydata_"+t,n.props.config.datasource,!0),n.onRefresh(),1==o&&(0,l.toast)({title:n.state.json["10100ORG-000043"],color:"success"}),2==o&&(0,l.toast)({title:n.state.json["10100ORG-000044"],color:"success"}),3==o&&(0,l.toast)({title:n.state.json["10100ORG-000045"],color:"success"}),4==o&&(0,l.toast)({title:n.state.json["10100ORG-000046"],color:"success"}),n.props.modal.close(r))}})}},r);function E(e,t){"2"==t?e.button.setButtonsVisible({disable:!0,enable:!1}):e.button.setButtonsVisible({disable:!1,enable:!0})}t.default=F=(0,l.createPage)({mutiLangCode:"10100ORG"})(F)},207:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oprButtonClick=t.pageInfoClick=t.buttonClick=t.initTemplate=void 0;var r=i(o(208)),a=i(o(209)),n=i(o(210)),s=i(o(165));function i(e){return e&&e.__esModule?e:{default:e}}t.initTemplate=r.default,t.buttonClick=a.default,t.pageInfoClick=n.default,t.oprButtonClick=s.default},208:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o=[{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.corp+'"\n}',rqCode:"corp"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.org+'"\n}',rqCode:"org"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.adminorg+'"\n}',rqCode:"adminorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.assetorg+'"\n}',rqCode:"assetorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.factory+'"\n}',rqCode:"factory"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.financeorg+'"\n}',rqCode:"financeorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.fundorg+'"\n}',rqCode:"fundorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.hrorg+'"\n}',rqCode:"hrorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.itemorg+'"\n}',rqCode:"itemorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.liabilitycenter+'"\n}',rqCode:"liabilitycenter"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.maintainorg+'"\n}',rqCode:"maintainorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.planbudget+'"\n}',rqCode:"planbudget"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.plancenter+'"\n}',rqCode:"plancenter"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.purchaseorg+'"\n}',rqCode:"purchaseorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.qccenter+'"\n}',rqCode:"qccenter"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.saleorg+'"\n}',rqCode:"saleorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.stockorg+'"\n}',rqCode:"stockorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.trafficorg+'"\n}',rqCode:"trafficorg"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.org_v+'"\n}',rqCode:"org_v"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.financeorg_v+'"\n}',rqCode:"financeorg_v"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.orgmanager+'"\n}',rqCode:"orgmanager"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.orgmoduleperiod+'"\n}',rqCode:"orgmoduleperiod"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.innercustsupp+'"\n}',rqCode:"innercustsupp"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.orgvatfunclet+'"\n}',rqCode:"orgvatfunclet"},{rqUrl:d.queryTemp,rqJson:'{\n  "pagecode": "'+u.orgdept+'"\n}',rqCode:"orgdept"},{rqUrl:"/platform/appregister/queryallbtns.do",rqJson:'{\n "pagecode": "'+e.config.pagecode+'",\n "appcode": "'+e.config.appcode+'"\n}',rqCode:"button"},{rqUrl:"/uapbd/org/haverootorgunit.do",rqCode:"haverootorgunit"},{rqUrl:"/uapbd/org/haveadminrootorgunit.do",rqCode:"haveadminrootorgunit"},{rqUrl:"/uapbd/org/havecorprootorgunit.do",rqCode:"havecorprootorgunit"},{rqUrl:"/platform/appregister/queryappcontext.do",rqJson:'{\n "appcode": "'+e.config.appcode+'"}',rqCode:"context"}];(0,r.ajax)({url:d.mergerequest,data:o,success:function(o){var n=o.data.org;l("orgunit_haverootorgunit",e.config.datasource,o.data.haverootorgunit),n.org.items.map(function(t){"pk_fatherorg"==t.attrcode&&(t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",AppCode:e.config.appcode}}),"chargeleader"==t.attrcode&&(t.isShowUnit=!0,t.isShowUsual=!0,t.unitCondition=function(){return{isMutiGroup:"Y"}}),"principal"==t.attrcode&&(t.isShowUnit=!0,t.isShowUsual=!0,t.unitCondition=function(){return{isMutiGroup:"Y"}}),"pk_corp"==t.attrcode&&(t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",AppCode:e.config.appcode}})}),n.corp=o.data.corp.corp,n.corpcontactinfo=o.data.corp.corpcontactinfo,n.corpaudioinfo=o.data.corp.corpaudioinfo,n.corpotherinfo=o.data.corp.corpotherinfo,n.corpdefinfo=o.data.corp.corpdefinfo,n.corp.items.map(function(t){"pk_fatherorg"==t.attrcode&&(t.isShowUnit=!0,t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",AppCode:e.config.appcode}}),"industry"==t.attrcode&&(e.renderItem("form","corp","industry",null),t.queryCondition=function(){return{pk_defdoclist:"1009ZZ100000000034NN"}}),"ecotype"==t.attrcode&&(e.renderItem("form","corp","ecotype",null),t.queryCondition=function(){return{pk_defdoclist:"1009ZZ100000000034NZ"}}),"corptype"==t.attrcode&&(e.renderItem("form","corp","corptype",null),t.queryCondition=function(){return{pk_defdoclist:"1010ZZ10000000003NY1"}}),"unitdistinction"==t.attrcode&&(e.renderItem("form","corp","unitdistinction",null),t.queryCondition=function(){return{pk_defdoclist:"1010ZZ10000000003OPT"}})}),n.hrorg=o.data.hrorg.hrorg,n.hrorgauditinfo=o.data.hrorg.hrorgauditinfo,n.hrorgdef=o.data.hrorg.hrorgdef,n.hrorg.items.map(function(t){"pk_fatherorg"==t.attrcode&&(t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",AppCode:e.config.appcode}})}),n.financeorg=o.data.financeorg.financeorg,n.financeorgaudioinfo=o.data.financeorg.financeorgaudioinfo,n.financeorgdef=o.data.financeorg.financeorgdef;var s=(0,r.getBusinessInfo)(),d=null==s?null:s.groupId;n.financeorg.items.map(function(t){"pk_costregion"==t.attrcode&&(e.renderItem("form","financeorg","pk_costregion",null),t.queryCondition=function(){return{pk_group:d}})}),n.fundorg=o.data.fundorg.fundorg,n.fundorgdef=o.data.fundorg.fundorgdef,n.fundorgauditinfo=o.data.fundorg.fundorgauditinfo,n.fundorg.items.map(function(e){"pk_fatherorg"==e.attrcode&&(e.isShowUnit=!0)}),n.purchaseorg=o.data.purchaseorg.purchaseorg,n.purchaseorgdef=o.data.purchaseorg.purchaseorgdef,n.purchaseorgauditinfo=o.data.purchaseorg.purchaseorgauditinfo,n.saleorg=o.data.saleorg.saleorg,n.saleorgdef=o.data.saleorg.saleorgdef,n.saleorgaudit=o.data.saleorg.saleorgaudit,n.saleorgrelation=o.data.saleorg.saleorgrelation,n.saleorg.items.map(function(t){"pk_fatherorg"==t.attrcode&&(t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",AppCode:e.config.appcode}})}),n.stockorg=o.data.stockorg.stockorg,n.stockorgaudit=o.data.stockorg.stockorgaudit,n.stockorgdef=o.data.stockorg.stockorgdef,n.stockassetrelation=o.data.stockorg.stockassetrelation,n.stockorgrelation=o.data.stockorg.stockorgrelation,n.stockqccenterrelation=o.data.stockorg.stockqccenterrelation,n.stocktrafficrelation=o.data.stockorg.stocktrafficrelation,n.stockorg.items.map(function(t){"pk_financeorg"==t.attrcode&&(t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",AppCode:e.config.appcode}})}),n.trafficorg=o.data.trafficorg.trafficorg,n.trafficorgauditinfo=o.data.trafficorg.trafficorgauditinfo,n.trafficorgdef=o.data.trafficorg.trafficorgdef,n.qccenter=o.data.qccenter.qccenter,n.qccenterauditinfo=o.data.qccenter.qccenterauditinfo,n.qccenterdef=o.data.qccenter.qccenterdef,n.assetorg=o.data.assetorg.assetorg,n.assetorgauditinfo=o.data.assetorg.assetorgauditinfo,n.assetorgdef=o.data.assetorg.assetorgdef,n.assetorgmaintainrelation=o.data.assetorg.assetorgmaintainrelation,n.maintainorg=o.data.maintainorg.maintainorg,n.maintainorgauditinfo=o.data.maintainorg.maintainorgauditinfo,n.maintainorgdef=o.data.maintainorg.maintainorgdef,n.maintainstockrelation=o.data.maintainorg.maintainstockrelation,n.liabilitycenter=o.data.liabilitycenter.liabilitycenter,n.liabilitycenterauditinfo=o.data.liabilitycenter.liabilitycenterauditinfo,n.liabilitycenterdef=o.data.liabilitycenter.liabilitycenterdef,n.itemorg=o.data.itemorg.itemorg,n.itemorgauditinfo=o.data.itemorg.itemorgauditinfo,n.itemorgdefinfo=o.data.itemorg.itemorgdefinfo,n.itemstockrelation=o.data.itemorg.itemstockrelation,n.itemorg.items.map(function(t){"pk_fatherorg"==t.attrcode&&(t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",AppCode:e.config.appcode}})}),n.planbudget=o.data.planbudget.planbudget,n.planbudgetauditinfo=o.data.planbudget.planbudgetauditinfo,n.planbudgetdef=o.data.planbudget.planbudgetdef,n.planbudget.items.map(function(e){}),n.adminorg=o.data.adminorg.adminorg,n.adminorgauditinfo=o.data.adminorg.adminorgauditinfo,n.adminorgdef=o.data.adminorg.adminorgdef,n.adminorg.items.map(function(t){"pk_fatherorg"==t.attrcode&&(t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder",AppCode:e.config.appcode}})}),n.factory=o.data.factory.factory,n.factoryauditinfo=o.data.factory.factoryauditinfo,n.factorydefitem=o.data.factory.factorydefitem,n.plancenter=o.data.plancenter.plancenter,n.plancenterdefiitem=o.data.plancenter.plancenterdefiitem,n.plancenterauditinfo=o.data.plancenter.plancenterauditinfo,n.org_v=o.data.org_v.org_v,n.org_v_head=o.data.org_v.org_v_head,n.financeorg_v=o.data.financeorg_v.financeorg_v,n.orgmanager=o.data.orgmanager.orgmanager,n.orgmanager.items.map(function(e){"cuserid"==e.attrcode&&(e.isMultiSelectedEnabled=!1,e.queryCondition=function(){return{GridRefActionExt:"nccloud.web.org.orgunit.action.UserFilter"}})}),n.orgmoduleperiod=o.data.orgmoduleperiod.orgmoduleperiod,n.orgmoduleperiod.items.push({attrcode:"opr",label:e.config.josn["10100ORG-000101"],itemtype:"customer",width:"60px",className:"table-opr",visible:!0,render:function(t,o,r){var n=o.values.moduleid.value,s=(r=["4510","4530","4532","3613","3614","3615","3616","3617","3618","3632","3630","3634","3635","3637"].indexOf(n),c("orgunit_pk_accperiodscheme",e.config.datasource)),l=o.values.pk_accperiod.value;return r>=0?React.createElement("div",{style:{width:200}},React.createElement(i,{value:l,onChange:function(t){l=t,e.editTable.setValByKeyAndRowId("orgmoduleperiod",o.rowid,"pk_accperiod",{value:l,display:l})}})):React.createElement("div",{style:{width:200}},(0,a.default)({value:{refname:l,refpk:l},onChange:function(t){l=t.refname,e.editTable.setValByKeyAndRowId("orgmoduleperiod",o.rowid,"pk_accperiod",{value:l,display:l})},queryCondition:function(){return{pk_accperiodscheme:s}}}))}}),n.innercustsupp=o.data.innercustsupp.innercustsupp,n.innercustsupp.items.map(function(e){"pk_org"==e.attrcode&&(e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.org.orgunit.action.InnercustOrgFilter"}})}),n.orgvatfunclet=o.data.orgvatfunclet.orgvatfunclet,n.orgdept=o.data.orgdept.orgdept,n.formrelation.corp=["corpotherinfo","corpcontactinfo","corpdefinfo","corpaudioinfo"],n.formrelation.org=["orgtype","orgversioninfo","orgauditinfo"],n.formrelation.hrorg=["hrorgdef","hrorgauditinfo"],n.formrelation.financeorg=["financeorgdef","financeorgaudioinfo"],n.formrelation.fundorg=["fundorgdef","fundorgauditinfo"],n.formrelation.purchaseorg=["purchaseorgdef","purchaseorgauditinfo"],n.formrelation.saleorg=["saleorgdef","saleorgaudit"],n.formrelation.stockorg=["stockorgdef","stockorgaudit"],n.formrelation.trafficorg=["trafficorgdef","trafficorgauditinfo"],n.formrelation.qccenter=["qccenterdef","qccenterauditinfo"],n.formrelation.assetorg=["assetorgdef","assetorgauditinfo"],n.formrelation.maintainorg=["maintainorgdef","maintainorgauditinfo"],n.formrelation.liabilitycenter=["liabilitycenterdef","liabilitycenterauditinfo"],n.formrelation.itemorg=["itemorgdefinfo","itemorgauditinfo"],n.formrelation.planbudget=["planbudgetdef","planbudgetauditinfo"],n.formrelation.adminorg=["adminorgdef","adminorgauditinfo"],n.formrelation.factory=["factorydefitem","factoryauditinfo"],n.formrelation.plancenter=["plancenterdefiitem","plancenterauditinfo"],e.setRelationItemBillinfo([{billtype:"form",pagecode:"10100ORG_adminorg",templetid:o.data.adminorg.pageid,headcode:"adminorg"},{billtype:"form",pagecode:"10100ORG_adminorg",templetid:o.data.adminorg.pageid,headcode:"adminorgdef"},{billtype:"form",pagecode:"10100ORG_assetorg",templetid:o.data.assetorg.pageid,headcode:"assetorg"},{billtype:"form",pagecode:"10100ORG_assetorg",templetid:o.data.assetorg.pageid,headcode:"assetorgdef"},{billtype:"form",pagecode:"10100ORG_corp",templetid:o.data.corp.pageid,headcode:"corp"},{billtype:"form",pagecode:"10100ORG_corp",templetid:o.data.corp.pageid,headcode:"corpcontactinfo"},{billtype:"form",pagecode:"10100ORG_corp",templetid:o.data.corp.pageid,headcode:"corpdefinfo"},{billtype:"form",pagecode:"10100ORG_corp",templetid:o.data.corp.pageid,headcode:"corpotherinfo"},{billtype:"form",pagecode:"10100ORG_factory",templetid:o.data.factory.pageid,headcode:"factory"},{billtype:"form",pagecode:"10100ORG_factory",templetid:o.data.factory.pageid,headcode:"factorydefitem"},{billtype:"form",pagecode:"10100ORG_financeorg",templetid:o.data.financeorg.pageid,headcode:"financeorg"},{billtype:"form",pagecode:"10100ORG_financeorg",templetid:o.data.financeorg.pageid,headcode:"financeorgdef"},{billtype:"form",pagecode:"10100ORG_fundorg",templetid:o.data.fundorg.pageid,headcode:"fundorg"},{billtype:"form",pagecode:"10100ORG_fundorg",templetid:o.data.fundorg.pageid,headcode:"fundorgdef"},{billtype:"form",pagecode:"10100ORG_hrorg",templetid:o.data.hrorg.pageid,headcode:"hrorg"},{billtype:"form",pagecode:"10100ORG_hrorg",templetid:o.data.hrorg.pageid,headcode:"hrorgdef"},{billtype:"form",pagecode:"10100ORG_itemorg",templetid:o.data.itemorg.pageid,headcode:"itemorg"},{billtype:"form",pagecode:"10100ORG_itemorg",templetid:o.data.itemorg.pageid,headcode:"itemorgdefinfo"},{billtype:"form",pagecode:"10100ORG_liabilitycenter",templetid:o.data.liabilitycenter.pageid,headcode:"liabilitycenter"},{billtype:"form",pagecode:"10100ORG_liabilitycenter",templetid:o.data.liabilitycenter.pageid,headcode:"liabilitycenterdef"},{billtype:"form",pagecode:"10100ORG_maintainorg",templetid:o.data.maintainorg.pageid,headcode:"maintainorg"},{billtype:"form",pagecode:"10100ORG_maintainorg",templetid:o.data.maintainorg.pageid,headcode:"maintainorgdef"},{billtype:"form",pagecode:"10100ORG_orgunitcard",templetid:o.data.org.pageid,headcode:"org"},{billtype:"form",pagecode:"10100ORG_planbudget",templetid:o.data.planbudget.pageid,headcode:"planbudget"},{billtype:"form",pagecode:"10100ORG_planbudget",templetid:o.data.planbudget.pageid,headcode:"planbudgetdef"},{billtype:"form",templetid:o.data.plancenter.pageid,pagecode:"10100ORG_plancenter",headcode:"plancenter"},{billtype:"form",templetid:o.data.plancenter.pageid,pagecode:"10100ORG_plancenter",headcode:"plancenterdefiitem"},{billtype:"form",templetid:o.data.purchaseorg.pageid,pagecode:"10100ORG_purchaseorg",headcode:"purchaseorg"},{billtype:"form",templetid:o.data.purchaseorg.pageid,pagecode:"10100ORG_purchaseorg",headcode:"purchaseorgdef"},{billtype:"form",templetid:o.data.qccenter.pageid,pagecode:"10100ORG_qccenter",headcode:"qccenter"},{billtype:"form",templetid:o.data.qccenter.pageid,pagecode:"10100ORG_qccenter",headcode:"qccenterdef"},{billtype:"form",templetid:o.data.saleorg.pageid,pagecode:"10100ORG_saleorg",headcode:"saleorg"},{billtype:"form",templetid:o.data.saleorg.pageid,pagecode:"10100ORG_saleorg",headcode:"saleorgdef"},{billtype:"form",templetid:o.data.stockorg.pageid,pagecode:"10100ORG_stockorg",headcode:"stockorg"},{billtype:"form",templetid:o.data.stockorg.pageid,pagecode:"10100ORG_stockorg",headcode:"stockorgdef"},{billtype:"form",templetid:o.data.trafficorg.pageid,pagecode:"10100ORG_trafficorg",headcode:"trafficorg"},{billtype:"form",templetid:o.data.trafficorg.pageid,pagecode:"10100ORG_trafficorg",headcode:"trafficorgdef"}]),e.meta.setMeta(n),o.data.button&&e.button.setButtons(o.data.button),function(e){var t=e.getUrlParam("status");if("add"===t)e.button.setButtonVisible(["save","saveadd","cancel"],!0),e.button.setButtonVisible(["edit","delete","copy","enable","disable","add","more"],!1),e.button.setButtonVisible(["versions","auxiliary","orgunitreldept","printpage","setroot","back","refresh","setadminorgroot","setcorproot","setorgroot"],!1);else if("edit"===t)e.button.setButtonVisible(["save","cancel"],!0),e.button.setButtonVisible(["edit","delete","copy","enable","disable","add","saveadd","more"],!1),e.button.setButtonVisible(["versions","auxiliary","orgunitreldept","printpage","setroot","back","refresh","setadminorgroot","setcorproot","setorgroot"],!1);else{var o=c("orgunit_setroot",e.config.datasource);e.button.setButtonVisible(["setroot-2"],o),e.button.setButtonVisible(["save","saveadd","cancel","back"],!1),e.button.setButtonVisible(["edit","delete","copy","enable","disable","add","more"],!0),e.button.setButtonVisible(["versions","auxiliary","orgunitreldept","printpage","refresh","setadminorgroot","setcorproot","setorgroot"],!0)}}(e);var u=e.getUrlParam("pk_org");if(c("orgunit_setroot",e.config.datasource)){var p=o.data.haveadminrootorgunit;p.haveroot?u==p.pk?e.button.setButtonDisabled(["setadminorgroot"],!0):e.button.setButtonDisabled(["setadminorgroot"],!1):e.button.setButtonDisabled(["setadminorgroot"],!0);var g=o.data.havecorprootorgunit;g.haveroot?u==g.pk?e.button.setButtonDisabled(["setcorproot"],!0):e.button.setButtonDisabled(["setcorproot"],!1):e.button.setButtonDisabled(["setcorproot"],!0);var f=o.data.haverootorgunit;f.haveroot?u==f.pk?e.button.setButtonDisabled(["setorgroot"],!0):e.button.setButtonDisabled(["setorgroot"],!1):e.button.setButtonDisabled(["setorgroot"],!0)}else e.button.setButtonVisible(["setroot-2"],!1);t()}})};var r=o(1),a=(n(o(165)),n(o(161)));function n(e){return e&&e.__esModule?e:{default:e}}var s=r.base.NCMenu,i=r.base.NCDatePicker,l=r.cardCache.setDefData,c=r.cardCache.getDefData,d=(s.Item,{queryTemp:"/platform/templet/querypage.do",mergerequest:"/nccloud/platform/pub/mergerequest.do"}),u={corp:"10100ORG_corp",org:"10100ORG_orgunitcard",adminorg:"10100ORG_adminorg",assetorg:"10100ORG_assetorg",factory:"10100ORG_factory",financeorg:"10100ORG_financeorg",fundorg:"10100ORG_fundorg",hrorg:"10100ORG_hrorg",itemorg:"10100ORG_itemorg",liabilitycenter:"10100ORG_liabilitycenter",maintainorg:"10100ORG_maintainorg",planbudget:"10100ORG_planbudget",plancenter:"10100ORG_plancenter",purchaseorg:"10100ORG_purchaseorg",qccenter:"10100ORG_qccenter",saleorg:"10100ORG_saleorg",stockorg:"10100ORG_stockorg",trafficorg:"10100ORG_trafficorg",org_v:"10100ORG_orgversion",financeorg_v:"10100ORG_financeorgversion",orgmanager:"10100ORG_orgmanager",orgmoduleperiod:"10100ORG_orgmoduleperiod",innercustsupp:"10100ORG_innercustsupp",orgvatfunclet:"10100ORG_orgvatfunclet",orgdept:"10100DEPT_orgdept"}},209:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){var d=this,u=this,p=t.getUrlParam("pk_org"),g=t.getUrlParam("status"),f=[],m=!0;"copy"==s("orgunit_btnopr",t.config.datasource)&&(g="copy"),n("orgunit_btnopr",t.config.datasource,"browse"),void 0==p&&(p=s("orgunit_pk_org",t.config.datasource)),f.push(p),"add"!=o&&"orgunitreldept"!=o&&"print"!=o&&"export"!=o&&"refresh"!=o||(m=!1),m&&void 0==p&&"add"!=g&&"back"!=o&&(0,r.toast)({content:u.state.json["10100ORG-000000"],color:"warning"});var h=t.form.getFormItemsValue("org","pk_fatherorg");switch(o){case"add":n("orgunit_listadd",t.config.datasource,"cardadd"),t.setUrlParam({pagecode:t.config.pagecode,status:"add"}),u.props.form.setFormItemsDisabled("org",{isretail:!0}),u.setState({orgtypefloor:[]},u.onRefresh()),l(t,"add");break;case"cancel":(0,r.promptBox)({color:"warning",title:u.state.json["10100ORG-000100"],noFooter:!1,content:u.state.json["10100ORG-000002"],beSureBtnClick:function(){"listadd"==s("orgunit_listadd",t.config.datasource)?(t.button.setButtonDisabled(["enable"],!1),n("orgunit_btnopr",t.config.datasource,"refresh"),t.pushTo("/list",{status:"browse",pagecode:t.config.listpagecode})):(t.setUrlParam({status:"browse",pagecode:t.config.pagecode,pk_org:p}),n("orgunit_btnopr",t.config.datasource,"cancel"),n("orgunit_needquerydata_"+p,u.props.config.datasource,!1),"add"==g?((0,r.ajax)({url:"/nccloud/uapbd/org/rollbackcode.do",data:{code:t.form.getFormItemsValue("org","code").value,pk_org:p,nodetype:u.config.nodeType},success:function(e){e.success}}),u.state.orgtypefloor=[],t.config.orgtypearr.map(function(e){t.form.EmptyAllFormValue(e.subGrid),t.form.setFormStatus(e.subGrid,"browse")})):t.config.orgtypearr.map(function(e){t.form.cancel(e.subGrid),t.form.setFormStatus(e.subGrid,"browse")}),u.onRefresh(),void 0==t.form.getFormItemsValue("org","pk_org").value&&t.form.setFormItemsValue("org",{code:{value:null,display:null}}),l(t,"cancel"),i(t,t.form.getFormItemsValue("org","enablestate").value),u.setState({showSubGrid:!0}))}});break;case"edit":(0,r.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:p,status:"edit"},success:function(e){if(e.success){e.data&&t.form.setFormItemsDisabled("org",{code:!e.data.isCodeEdit}),t.setUrlParam({status:"edit",pagecode:t.config.pagecode,pk_org:p}),t.form.setFormStatus("org","edit"),t.config.orgtypearr.map(function(e){u.toggleButtonShow(t,2,e.subGrid),t.form.setFormStatus(e.subGrid,"edit")}),void 0!=h.display&&""!=h.display||(t.form.setFormItemsDisabled("org",{pk_fatherorg:!0}),t.form.setFormItemsRequired("org",{pk_fatherorg:!1}));var o=s("havecorprootorgunit",t.config.datasource);o.haveroot&&p!=o.pk||(t.form.setFormItemsDisabled("corp",{pk_fatherorg:!0}),t.form.setFormItemsRequired("corp",{pk_fatherorg:!1})),o.haveroot&&p!=o.pk&&(t.form.setFormItemsDisabled("corp",{pk_fatherorg:!1}),t.form.setFormItemsRequired("corp",{pk_fatherorg:!0})),u.state.childstate.financeorg&&t.form.setFormItemsDisabled("stockorg",{pk_financeorg:!0});var a=s("haveadminrootorgunit",t.config.datasource);t.form.setFormItemsDisabled("org",{pk_accperiodscheme:!0}),t.form.setFormItemsDisabled("org",{pk_currtype:!0}),a.haveroot&&p!=a.pk||(t.form.setFormItemsDisabled("adminorg",{pk_fatherorg:!0}),t.form.setFormItemsRequired("adminorg",{pk_fatherorg:!1})),a.haveroot&&p!=a.pk&&(t.form.setFormItemsDisabled("adminorg",{pk_fatherorg:!1}),t.form.setFormItemsRequired("adminorg",{pk_fatherorg:!0})),(0,r.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:p,status:"edit"},success:function(e){e.success&&e.data&&t.form.setFormItemsDisabled("org",{code:!e.data.isCodeEdit})}}),s("orgunit_needquerydata_"+p,u.props.config.datasource)&&u.onRefresh(),l(t,"edit"),u.state.orgtypefloor.filter(function(e){return!("stockorg"!=e.subGrid||!e.isshow)||(!("saleorg"!=e.subGrid||!e.isshow)||void 0)}).length>0?u.props.form.setFormItemsDisabled("org",{isretail:!1}):u.props.form.setFormItemsDisabled("org",{isretail:!0}),u.setState({showSubGrid:!1})}}});break;case"back":t.button.setButtonDisabled(["enable"],!1),n("orgunit_btnopr",t.config.datasource,"refresh"),n("orgunit_checkflag",this.config.datasource,!1),t.pushTo("/list",{status:"browse",pagecode:t.config.listpagecode,pk_org:p});break;case"save":if(!u.props.form.isCheckNow("org"))return;var b="";if(u.state.orgtypefloor.filter(function(e){if("liabilitycenter"==e.subGrid){var o=t.form.getFormItemsValue("org","pk_controlarea");if(void 0==o.display||""==o.display)return b=u.state.json["10100ORG-000003"]+t.form.getFormItemsValue("org","name").name.value+u.state.json["10100ORG-000004"],!0}return"stockorg"!=e.subGrid||u.props.form.isCheckNow("stockorg")?"adminorg"!=e.subGrid||u.props.form.isCheckNow("adminorg")?"corp"!=e.subGrid||u.props.form.isCheckNow("corp")?void 0:(b=u.state.json["10100ORG-000007"],!0):(b=u.state.json["10100ORG-000006"],!0):(b=u.state.json["10100ORG-000005"],!0)}).length>0)return void(0,r.toast)({content:b,color:"warning"});var v=[],y=[],k=u.state.originalorgtypefloor;k&&k.map(function(e){u.state.orgtypefloor.find(function(t){e.subGrid==t.subGrid&&(e.isshow=!1)})}),k.map(function(e){e.isshow&&y.push(e.subGrid),e.isshow=!0}),u.state.orgtypefloor.map(function(e){v.push(e.subGrid),"stockorg"==e.subGrid&&(v.push("stocktrafficrelation"),v.push("stockqccenterrelation"),v.push("stockorgrelation"),v.push("stockassetrelation")),"maintainorg"==e.subGrid&&v.push("maintainstockrelation"),"itemorg"==e.subGrid&&v.push("itemstockrelation"),"assetorg"==e.subGrid&&v.push("assetorgmaintainrelation"),"saleorg"==e.subGrid&&v.push("saleorgrelation")}),v.push("org");var _=t.form.getAllFormValue(v),w=[];void 0!=_.adminorg&&w.push({model:_.adminorg,pageid:"10100ORG_adminorg"}),void 0!=_.assetorg&&w.push({model:_.assetorg,pageid:"10100ORG_assetorg"}),void 0!=_.corp&&w.push({model:_.corp,pageid:"10100ORG_corp"}),void 0!=_.factory&&w.push({model:_.factory,pageid:"10100ORG_factory"}),void 0!=_.fundorg&&w.push({model:_.fundorg,pageid:"10100ORG_fundorg"}),void 0!=_.financeorg&&w.push({model:_.financeorg,pageid:"10100ORG_financeorg"}),void 0!=_.hrorg&&w.push({model:_.hrorg,pageid:"10100ORG_hrorg"}),void 0!=_.itemorg&&w.push({model:_.itemorg,pageid:"10100ORG_itemorg"}),void 0!=_.liabilitycenter&&w.push({model:_.liabilitycenter,pageid:"10100ORG_liabilitycenter"}),void 0!=_.maintainorg&&w.push({model:_.maintainorg,pageid:"10100ORG_maintainorg"}),void 0!=_.org&&w.push({model:_.org,pageid:"10100ORG_orgunitcard"}),void 0!=_.planbudget&&w.push({model:_.planbudget,pageid:"10100ORG_planbudget"}),void 0!=_.plancenter&&w.push({model:_.plancenter,pageid:"10100ORG_plancenter"}),void 0!=_.purchaseorg&&w.push({model:_.purchaseorg,pageid:"10100ORG_purchaseorg"}),void 0!=_.qccenter&&w.push({model:_.qccenter,pageid:"10100ORG_qccenter"}),void 0!=_.saleorg&&w.push({model:_.saleorg,pageid:"10100ORG_saleorg"}),void 0!=_.stockorg&&w.push({model:_.stockorg,pageid:"10100ORG_stockorg"}),void 0!=_.trafficorg&&w.push({model:_.trafficorg,pageid:"10100ORG_trafficorg"}),t.validateToSave(w,function(){(0,r.ajax)({url:"/nccloud/uapbd/org/save.do",data:{formdata:_,status:g,deleteorgtype:y},success:function(e){var o=e.success;e.data;o&&(t.setUrlParam({status:"browse",pagecode:t.config.pagecode,pk_org:e.data.org.rows[0].values.pk_org.value}),u.state.childstate.adminorg&&!s("haveadminrootorgunit",t.config.datasource).haveroot&&n("haveadminrootorgunit",t.config.datasource,{haveroot:!0,pk:e.data.org.rows[0].values.pk_org.value}),u.state.childstate.corp&&!s("havecorprootorgunit",t.config.datasource).haveroot&&n("havecorprootorgunit",t.config.datasource,{haveroot:!0,pk:e.data.org.rows[0].values.pk_org.value}),u.state.childstate.org&&!s("haverootorgunit",t.config.datasource).haveroot&&n("haverootorgunit",t.config.datasource,{haveroot:!0,pk:e.data.org.rows[0].values.pk_org.value}),n("orgunit_carddata_"+e.data.org.rows[0].values.pk_org.value,t.config.datasource,void 0),n("orgunit_listadd",t.config.datasource,"cardadd"),n("orgunit_needquerydata_"+p,u.props.config.datasource,!0),n("orgunit_childstate",u.config.datasource,JSON.parse(JSON.stringify(u.state.childstate))),n("orgunit_orgtypefloor",u.config.datasource,u.state.orgtypefloor),n("orgunit_pk_org",t.config.datasource,e.data.org.rows[0].values.pk_org.value),n("orgunit_name",t.config.datasource,e.data.org.rows[0].values.name.value),n("orgunit_btnopr",t.config.datasource,"save"),n("orgunit_pk_accperiodscheme",t.config.datasource,e.data.org.rows[0].values.pk_accperiodscheme.value),u.props.form.setFormItemsDisabled("org",{pk_corp:!1}),u.props.form.setFormItemsRequired("org",{pk_corp:!1}),l(t,"save"),i(t,"2"),t.setUrlParam({status:"browse",pk_org:e.data.org.rows[0].values.pk_org.value}),t.config.orgtypearr.map(function(e){t.form.setFormStatus(e.subGrid,"browse")}),u.setState({orgtypefloor:u.state.orgtypefloor,pk_org:e.data.org.rows[0].values.pk_org.value,originalorgtypefloor:JSON.parse(JSON.stringify(u.state.orgtypefloor))}),u.onRefresh(),l(t,"save"),i(t,"2"),k.map(function(e){e.isshow&&(t.form.EmptyAllFormValue(e.subGrid),n("orgunit_orgtypeformdata"+e.subGrid,t.config.datasource,void 0))}))}})},{orgdept:"form",adminorg:"form",assetorg:"form",corp:"form",factory:"form",financeorg:"form",fundorg:"form",hrorg:"form",innercustsupp:"form",itemorg:"form",liabilitycenter:"form",maintainorg:"form",orgmanager:"form",org:"form",orgvatfunclet:"form",planbudget:"form",plancenter:"form",purchaseorg:"form",qccenter:"form",saleorg:"form",stockorg:"form",trafficorg:"form"},"form");break;case"saveadd":if(!u.props.form.isCheckNow("org"))return;if(t.setUrlParam({pagecode:t.config.pagecode,status:"add"}),u.state.orgtypefloor.filter(function(e){if("liabilitycenter"==e.subGrid){var o=t.form.getFormItemsValue("org","pk_controlarea");if(void 0==o.display||""==o.display)return b=u.state.json["10100ORG-000003"]+t.form.getFormItemsValue("org","name").name.value+u.state.json["10100ORG-000004"],!0}return"stockorg"!=e.subGrid||u.props.form.isCheckNow("stockorg")?"adminorg"!=e.subGrid||u.props.form.isCheckNow("adminorg")?"corp"!=e.subGrid||u.props.form.isCheckNow("corp")?void 0:(b=u.state.json["10100ORG-000007"],!0):(b=u.state.json["10100ORG-000006"],!0):(b=u.state.json["10100ORG-000005"],!0)}).length>0)return void(0,r.toast)({content:b,color:"warning"});var G=[],O=[],R=u.state.originalorgtypefloor;R&&R.map(function(e){u.state.orgtypefloor.find(function(t){e.subGrid==t.subGrid&&(e.isshow=!1)})}),R.map(function(e){e.isshow&&O.push(e.subGrid),e.isshow=!0}),u.state.orgtypefloor.map(function(e){G.push(e.subGrid),"stockorg"==e.subGrid&&(G.push("stocktrafficrelation"),G.push("stockqccenterrelation"),G.push("stockorgrelation"),G.push("stockassetrelation")),"maintainorg"==e.subGrid&&G.push("maintainstockrelation"),"itemorg"==e.subGrid&&G.push("itemstockrelation"),"assetorg"==e.subGrid&&G.push("assetorgmaintainrelation"),"saleorg"==e.subGrid&&G.push("saleorgrelation")}),G.push("org");var F=t.form.getAllFormValue(G);(0,r.ajax)({url:"/nccloud/uapbd/org/save.do",data:{formdata:F,status:g,deleteorgtype:O},success:function(e){var o=e.success;e.data;o&&(u.state.childstate.adminorg&&!s("haveadminrootorgunit",t.config.datasource).haveroot&&n("haveadminrootorgunit",t.config.datasource,{haveroot:!0,pk:e.data.org.rows[0].values.pk_org.value}),u.state.childstate.corp&&!s("havecorprootorgunit",t.config.datasource).haveroot&&n("havecorprootorgunit",t.config.datasource,{haveroot:!0,pk:e.data.org.rows[0].values.pk_org.value}),u.state.childstate.org&&!s("haverootorgunit",t.config.datasource).haveroot&&n("haverootorgunit",t.config.datasource,{haveroot:!0,pk:e.data.org.rows[0].values.pk_org.value}),t.form.setAllFormValue(a({},"org",e.data.org)),u.setState({originalorgtypefloor:JSON.parse(JSON.stringify(u.state.orgtypefloor))}),t.config.orgtypearr.map(function(e){t.form.setFormStatus(e.subGrid,"edit"),u.state.childstate[e.subGrid]=!1,t.form.EmptyAllFormValue(e.subGrid),e.isshow=!1}),(0,r.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:p,status:"saveadd"},success:function(e){e.success&&e.data&&(t.form.setFormItemsDisabled("org",{code:!e.data.isCodeEdit}),t.form.setFormItemsValue("org",{code:{value:e.data.newCode,display:e.data.newCode}}))}}),n("orgunit_listadd",t.config.datasource,"cardadd"),n("orgunit_childstate",u.config.datasource,JSON.parse(JSON.stringify(u.state.childstate))),n("orgunit_orgtypefloor",u.config.datasource,u.state.orgtypefloor),u.props.form.setFormItemsDisabled("org",{pk_corp:!1}),u.props.form.setFormItemsRequired("org",{pk_corp:!1}),t.setUrlParam({status:"add",pagecode:t.config.pagecode,pk_org:e.data.org.rows[0].values.pk_org.value}),t.form.setFormItemsDisabled("org",{pk_fatherorg:!1}),t.form.setFormItemsRequired("org",{pk_fatherorg:!0}),R.map(function(e){e.isshow&&(t.form.EmptyAllFormValue(e.subGrid),n("orgunit_orgtypeformdata"+e.subGrid,t.config.datasource,void 0))}),u.setState({orgtypefloor:[]})),l(t,"saveadd")}});break;case"delete":if(void 0==t.form.getFormItemsValue("org","pk_org").value||null==t.form.getFormItemsValue("org","pk_org").value)return void(0,r.toast)({content:u.state.json["10100ORG-000008"],color:"warning"});(0,r.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:p,status:"edit"},success:function(e){e.success&&(0,r.promptBox)({color:"warning",title:u.state.json["10100ORG-000099"],noFooter:!1,content:u.state.json["10100ORG-000009"],beSureBtnClick:function(){(0,r.ajax)({url:"/nccloud/uapbd/org/delete.do",data:{pk_org:[p]},success:function(e){if(e.success){var o=u.props.cardPagination.getNextCardPaginationId({id:p,status:3});u.props.cardPagination.setCardPaginationId({id:p,status:3}),u.initData(o),t.config.orgtypearr.map(function(e){t.form.setFormStatus(e.subGrid,"browse"),t.form.EmptyAllFormValue(e.subGrid)}),n("orgunit_carddata_"+p,void 0),n("orgunit_pk_org",t.config.datasource,void 0),n("orgunit_code",t.config.datasource,void 0),n("orgunit_name",t.config.datasource,void 0),n("orgunit_shortname",t.config.datasource,void 0),(0,r.toast)({color:"success",title:u.state.json["10100ORG-000010"]}),(0,r.ajax)({url:"/nccloud/uapbd/org/rollbackcode.do",data:{code:t.form.getFormItemsValue("org","code").value,pk_org:p,nodetype:u.config.nodeType},success:function(e){e.success}}),u.onRefresh(o),t.setUrlParam({pk_org:o,status:"browse"})}}})}})}});break;case"disable":if(void 0==t.form.getFormItemsValue("org","pk_org").value||null==t.form.getFormItemsValue("org","pk_org").value)return void(0,r.toast)({content:u.state.json["10100ORG-000011"],color:"warning"});(0,r.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:p,status:"edit"},success:function(e){e.success&&(0,r.promptBox)({color:"warning",title:u.state.json["10100ORG-000103"],noFooter:!1,content:u.state.json["10100ORG-000034"],beSureBtnClick:function(){(0,r.ajax)({url:"/nccloud/uapbd/org/disable.do",data:{pk_org:[p]},success:function(e){e.success&&(t.config.orgtypearr.map(function(e){t.form.setFormStatus(e.subGrid,"browse")}),c(e.data,t,u.state.json["10100ORG-000013"],3,!1,p),(0,r.toast)({color:"success",title:u.state.json["10100ORG-000014"]}),i(t,"3"))}})}})}});break;case"enable":if(void 0==t.form.getFormItemsValue("org","pk_org").value||null==t.form.getFormItemsValue("org","pk_org").value)return void(0,r.toast)({content:u.state.json["10100ORG-000015"],color:"warning"});(0,r.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:p,status:"edit"},success:function(e){e.success&&(0,r.promptBox)({color:"warning",title:u.state.json["10100ORG-000102"],noFooter:!1,content:u.state.json["10100ORG-000102"],beSureBtnClick:function(){(0,r.ajax)({url:"/nccloud/uapbd/org/enable.do",data:{pk_org:[p]},success:function(e){e.success&&(t.config.orgtypearr.map(function(e){t.form.setFormStatus(e.subGrid,"browse")}),c(e.data,t,u.state.json["10100ORG-000017"],2,!1,p),(0,r.toast)({color:"success",title:u.state.json["10100ORG-000018"]}),i(t,"2"))}})}})}});break;case"refresh":n("orgunit_btnopr",t.config.datasource,"refresh"),n("orgunit_needquerydata_"+p,u.props.config.datasource,!0),u.initData(p),u.onRefresh();break;case"version":t.modal.show("org_v",{title:this.state.json["10100ORG-000056"]});var E=[{rqUrl:"/uapbd/org/queryversionvno.do",rqJson:'{\n  "pk_org": "'+p+'"\n}',rqCode:"versionvno"},{rqUrl:"/uapbd/org/queryversionvo.do",rqJson:'{\n  "pk_org": "'+p+'"\n}',rqCode:"versionvos"}];(0,r.ajax)({url:"/nccloud/platform/pub/mergerequest.do",data:E,success:function(e){e.success&&(t.table.setAllTableData("org_v",e.data.versionvos.org_v),t.form.setAllFormValue(a({},"org_v_head",e.data.versionvno.org_v_head)))}}),t.form.setFormStatus("org_v_head","edit");break;case"financeorgversion":(0,r.ajax)({url:"/nccloud/uapbd/org/queryfinanceversion.do",data:{type:"1"},success:function(e){e.success&&(e.data&&(t.modal.show("financeorg_v",{title:u.state.json["10100ORG-000019"]}),t.form.EmptyAllFormValue("financeorg_v"),t.form.setAllFormValue(a({},"financeorg_v",e.data.financeorg_v))),n("orgunit_versiontype",t.config.datasource,"1"),n("orgunit_modalid",t.config.datasource,"financeorg_v"),t.form.setFormStatus("financeorg_v","edit"))}});break;case"adminorgversion":(0,r.ajax)({url:"/nccloud/uapbd/org/queryfinanceversion.do",data:{type:"4"},success:function(e){e.success&&(e.data&&(t.modal.show("financeorg_v",{title:u.state.json["10100ORG-000020"]}),t.form.EmptyAllFormValue("financeorg_v"),t.form.setAllFormValue(a({},"financeorg_v",e.data.financeorg_v))),n("orgunit_versiontype",t.config.datasource,"4"),n("orgunit_modalid",t.config.datasource,"financeorg_v"),t.form.setFormStatus("financeorg_v","edit"))}});break;case"liabilitycenterversion":(0,r.ajax)({url:"/nccloud/uapbd/org/queryfinanceversion.do",data:{type:"2"},success:function(e){e.success&&e.data&&("error"==e.data.financeorg_v.rows[0].values.vname.value?(0,r.promptBox)({color:"warning",title:u.state.json["10100ORG-000001"],noFooter:!1,content:u.state.json["10100ORG-000021"],beSureBtnClick:function(){t.modal.show("financeorg_v",{title:u.state.json["10100ORG-000022"]}),t.form.EmptyAllFormValue("financeorg_v"),t.form.setAllFormValue(a({},"financeorg_v",e.data.financeorg_v)),t.form.setFormItemsValue("financeorg_v",{vname:{value:null,display:null}})}}):(t.modal.show("financeorg_v",{title:u.state.json["10100ORG-000022"]}),t.form.EmptyAllFormValue("financeorg_v"),t.form.setAllFormValue(a({},"financeorg_v",e.data.financeorg_v))),n("orgunit_versiontype",t.config.datasource,"2"),n("orgunit_modalid",t.config.datasource,"financeorg_v"),t.form.setFormStatus("financeorg_v","edit"))}});break;case"hrorgversion":(0,r.ajax)({url:"/nccloud/uapbd/org/queryfinanceversion.do",data:{type:"3"},success:function(e){e.success&&e.data&&(t.modal.show("financeorg_v",{title:u.state.json["10100ORG-000023"]}),t.form.EmptyAllFormValue("financeorg_v"),t.form.setAllFormValue(a({},"financeorg_v",e.data.financeorg_v)))}}),n("orgunit_versiontype",t.config.datasource,"3"),n("orgunit_modalid",t.config.datasource,"financeorg_v"),t.form.setFormStatus("financeorg_v","edit");break;case"orgmanager":(0,r.ajax)({url:"/nccloud/uapbd/org/orgmanagerquery.do",data:{pk_org:p},success:function(e){e.success&&(t.modal.show("orgmanager",{title:d.state.json["10100ORG-000057"]}),e.data?t.editTable.setTableData("orgmanager",e.data.orgmanager):t.editTable.setTableData("orgmanager",{rows:[]}),t.button.setButtonDisabled(["orgmanagedel"],!0),t.button.setButtonVisible(["orgmanagesave","orgmanagecancel"],!1),t.button.setButtonVisible(["orgmanageadd","orgmanageedit","orgmanagerefresh","orgmanagedel"],!0))}});break;case"attachconfig":u.setState({showUploader:!0});break;case"logomanage":if(!u.state.childstate.corp)return void(0,r.toast)({content:u.state.json["10100ORG-000024"],color:"warning"});u.setState({showlogoUploader:!0});break;case"orgmoduleperiod":(0,r.ajax)({url:"/nccloud/uapbd/org/orgmoduleperiod.do",data:{pk_org:p},success:function(e){e.success&&(e.data?(t.modal.show("orgmoduleperiod"),t.editTable.setTableData("orgmoduleperiod",e.data.orgmoduleperiod)):t.editTable.setTableData("orgmoduleperiod",{rows:[]}),t.editTable.setStatus("orgmoduleperiod","edit"))}});break;case"createinnercustsupp":if(t.form.setItemsVisible("innercustsupp",{code:!0,custname:!0,custshortname:!0}),!t.form.getFormItemsValue("org","countryzone").value)return void(0,r.toast)({content:u.state.json["10100ORG-000025"],color:"warning"});(0,r.ajax)({url:"/nccloud/uapbd/org/checkinnercustsupp.do",data:{pk_org:f},success:function(e){if(e.success){if(e.data.exists)return void(0,r.toast)({content:e.data.existscontent,color:"warning"});t.modal.show("innercustsupp"),t.form.setFormStatus("innercustsupp","edit"),t.form.EmptyAllFormValue("innercustsupp"),t.form.setFormItemsValue("innercustsupp",{code:{value:s("orgunit_code",t.config.datasource),display:s("orgunit_code",t.config.datasource)}}),t.form.setFormItemsValue("innercustsupp",{custname:{value:s("orgunit_name",t.config.datasource),display:s("orgunit_name",t.config.datasource)}}),t.form.setFormItemsValue("innercustsupp",{custshortname:{value:s("orgunit_shortname",t.config.datasource),display:s("orgunit_shortname",t.config.datasource)}})}}});break;case"editVAT":if(!u.state.childstate.financeorg)return void(0,r.toast)({content:u.state.json["10100ORG-000026"],color:"warning"});(0,r.ajax)({url:"/nccloud/uapbd/org/vatquery.do",data:{pk_org:p},success:function(e){e.success&&(t.modal.show("orgvatfunclet"),e.data?t.editTable.setTableData("orgvatfunclet",e.data.orgvatfunclet):t.editTable.setTableData("orgvatfunclet",{rows:[]}),t.button.setButtonDisabled(["vatdel"],!0),t.editTable.setStatus("orgvatfunclet","browse"),t.button.setButtonVisible(["vatadd","vatdel","vatedit","vatrefresh"],!0),t.button.setButtonVisible(["vatsave","vatcancel","vatlinedel"],!1))}});break;case"orgunitreldept":(0,r.ajax)({url:"/nccloud/uapbd/org/querytreenode.do",data:{pk_org:p},success:function(e){e.success?(t.modal.show("orgdept"),t.syncTree.setSyncTreeData("orgunittree",e.data),t.syncTree.setNodeSelected("orgunittree",p),u.onSelectEve(p,null,!0)):alert(e.message)}});break;case"copy":n("orgunit_btnopr",t.config.datasource,"copy"),t.setUrlParam({status:"copy",pagecode:t.config.pagecode,pk_org:p}),t.form.setFormItemsValue("org",{pk_org:{value:null,display:null}}),t.form.setFormItemsValue("org",{innercode:{value:null,display:null}}),t.form.setFormItemsValue("org",{code:{value:null,display:null}}),t.form.setFormItemsValue("org",{name:{value:null,display:null},name2:{value:null,display:null},name3:{value:null,display:null}}),t.form.setFormItemsValue("org",{shortname:{value:null,display:null},shortname2:{value:null,display:null},shortname3:{value:null,display:null}});var C=t.form.getFormItemsValue("corp","pk_fatherorg");u.props.config.orgtypearr.map(function(e){u.toggleButtonShow(t,2,e.subGrid),"org"!=e.subGrid&&(t.form.setFormStatus(e.subGrid,"edit"),t.form.EmptyAllFormValue(e.subGrid))}),u.state.childstate.corp&&t.form.setFormItemsValue("corp",{pk_fatherorg:{value:C.value,display:C.display}}),t.form.setFormItemsDisabled("org",{pk_fatherorg:!1}),t.form.setFormItemsRequired("org",{pk_fatherorg:!0}),t.form.setFormStatus("org","edit"),l(t,"add"),(0,r.ajax)({url:"/nccloud/uapbd/org/getcode.do",data:{pk_org:p,status:g},success:function(e){e.success&&e.data&&(t.form.setFormItemsDisabled("org",{code:!e.data.isCodeEdit}),t.form.setFormItemsValue("org",{code:{value:e.data.newCode,display:e.data.newCode}}))}}),u.dealrelationformstatus(),u.setState({showSubGrid:!1});break;case"print":s("orgunit_allpkorg",t.config.datasource);(0,r.print)("pdf","/nccloud/uapbd/org/print.do",{funcode:t.config.appcode,nodekey:"cardPrint",oids:[p]},!1);break;case"export":var S=s("orgunit_allpkorg",t.config.datasource);u.setState({pks:S},u.refs.printOutput.open());break;case"setorgroot":(0,r.promptBox)({color:"info",title:u.state.json["10100ORG-000027"],noFooter:!1,content:u.state.json["10100ORG-000028"],beSureBtnClick:function(){u.onSetUnitOrgRoot()}});break;case"setcorproot":(0,r.promptBox)({color:"info",title:u.state.json["10100ORG-000027"],noFooter:!1,content:u.state.json["10100ORG-000029"],beSureBtnClick:function(){u.onSetCorpRoot()}});break;case"setadminorgroot":(0,r.promptBox)({color:"info",title:u.state.json["10100ORG-000027"],noFooter:!1,content:u.state.json["10100ORG-000030"],beSureBtnClick:function(){u.onSetAdminOrgRoot()}})}};var r=o(1);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var n=r.cardCache.setDefData,s=r.cardCache.getDefData;function i(e,t){"2"==t?e.button.setButtonsVisible({disable:!0,enable:!1}):e.button.setButtonsVisible({disable:!1,enable:!0})}function l(e,t){if("add"==t||"saveadd"==t)e.button.setButtonVisible(["save","saveadd","cancel"],!0),e.button.setButtonVisible(["edit","delete","copy","enable","disable","add","more","refresh"],!1),e.button.setButtonVisible(["versions","auxiliary","orgunitreldept","printpage","setroot","back"],!1);else if("edit"==t)e.button.setButtonVisible(["save","cancel"],!0),e.button.setButtonVisible(["edit","delete","copy","enable","disable","add","saveadd","more","refresh"],!1),e.button.setButtonVisible(["versions","auxiliary","orgunitreldept","printpage","setroot","back"],!1);else{var o=s("orgunit_setroot",e.config.datasource);e.button.setButtonVisible(["setroot-2"],o),e.button.setButtonVisible(["save","saveadd","cancel","back"],!1),e.button.setButtonVisible(["edit","delete","copy","enable","disable","add","more","refresh"],!0),e.button.setButtonVisible(["versions","auxiliary","orgunitreldept","printpage"],!0)}}function c(e,t,o,r,a,i){a?t.form.setFormItemsValue("org",{ts:{value:e[i],display:null}}):t.form.setFormItemsValue("org",{ts:{value:e[i],display:null},enablestate:{value:r,display:o}});var l=s("orgunit_carddata_"+i,t.config.datasource);l&&(l.find(function(t){t.hasOwnProperty("org")&&(a?t.org.rows[0].values.ts.value=e[i]:(t.org.rows[0].values.enablestate.display=o,t.org.rows[0].values.enablestate.value=r,t.org.rows[0].values.ts.value=e[i]))}),n("orgunit_carddata_"+i,t.config.datasource,l))}},210:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o={pk_org:t,btnopr:n("orgunit_btnopr",e.config.datasource)},s=e.getUrlParam("status"),i=this;(0,r.ajax)({url:queryorgunitUrl,data:o,success:function(t){t.data&&(t.data.map(function(t){i.config.orgtypearr.map(function(o){t.hasOwnProperty("org")&&("add"!=s&&"edit"!=s&&i.props.toggleShow(i.props,t.org.rows[0].values.enablestate.value),a("orgunit_name",e.config.datasource,t.org.rows[0].values.name.value)),t.hasOwnProperty(o.subGrid)&&(i.props.toggleButtonShow(i.props,t[o.subGrid].rows[0].values.enablestate.value,o.subGrid),i.props.form.setAllFormValue(function(e,t,o){t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o;return e}({},o.subGrid,t[o.subGrid])))})}),"browse"!=s&&i.props.form.setFormStatus("org","edit"))}})};var r=o(1);var a=r.cardCache.setDefData,n=r.cardCache.getDefData},211:function(e,t,o){var r=o(212);"string"==typeof r&&(r=[[e.i,r,""]]);var a={transform:void 0};o(4)(r,a);r.locals&&(e.exports=r.locals)},212:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,".wuliu {\n  position: absolute;\n  right: 20px;\n  left: 90px;\n  display: inline-block;\n  height: 1px;\n  border: 1px dashed rgba(206, 206, 206, 0.75);\n  margin-top: 6px;\n}\n.operator-tit {\n  padding: 0 20px;\n  font-size: 12px;\n}\n.orgunit-financeorg .nc-singleTable-table-area {\n  margin-top: 10px;\n}\n.orgunit-card .showOff {\n  margin-left: 20px;\n}\n.nc-bill-card .nc-bill-table-list .button-app-wrapper .u-button {\n  float: right;\n  top: -30px;\n  right: 10px;\n}\n.orgunit-card-orgmoduleperiod .u-table-body {\n  min-height: auto!important;\n}\n.nc-bill-header-area .back-btn {\n  padding-right: 6px!important;\n}\n.orgmanager .orgmanager-button-parent {\n  position: absolute;\n  height: 100%;\n  right: 0;\n  top: 0;\n  white-space: 'nowrap';\n  overflow: 'hidden';\n  text-overflow: 'ellipsis';\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.orgmanager .orgmanager-button-text {\n  position: absolute;\n  height: 100%;\n  left: 0;\n  top: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n",""])},213:function(e,t,o){var r=o(214);"string"==typeof r&&(r=[[e.i,r,""]]);var a={transform:void 0};o(4)(r,a);r.locals&&(e.exports=r.locals)},214:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,".nc-bill-card .collapse {\n  padding-top: 30px;\n}\n.nc-bill-card .u-button::after {\n  clear: both;\n}\n.nc-bill-card .nc-bill-table-area .collapse {\n  padding-top: 0;\n}\n#u-affix-container .u-button {\n  float: none;\n  top: 0;\n  right: 0;\n}\n.ncuploader-header .u-button {\n  float: none;\n  top: 0;\n}\n",""])},275:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),a=o(2),n=i(a),s=(i(o(5)),i(o(206)));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return n.default.createElement(s.default,{config:{pageTitle:"业务单元",subTableTitle:"",json:{},NODE_TYPE:"GROUP_NODE",listpagecode:"10100ORG_orgunit",pagecode:"10100ORG_orgunitcard",appcode:"10100ORG",datasource:"uapbd.org.orgunit.orgunit",appid:"0001Z010000000001NOH",searchId:"10100ORGSEARCH",formId:"org",orgtypearr:[{subGrid:"corp",subName:"法人公司",isshow:!1,pk_orgtype:""},{subGrid:"hrorg",subName:"人力资源",isshow:!1,pk_orgtype:""},{subGrid:"financeorg",subName:"财务组织",isshow:!1,pk_orgtype:""},{subGrid:"fundorg",subName:"资金",isshow:!1,pk_orgtype:""},{subGrid:"purchaseorg",subName:"采购",isshow:!1,pk_orgtype:""},{subGrid:"saleorg",subName:"销售",isshow:!1,pk_orgtype:""},{subGrid:"stockorg",subName:"库存",isshow:!1,pk_orgtype:""},{subGrid:"trafficorg",subName:"物流",isshow:!1,pk_orgtype:""},{subGrid:"qccenter",subName:"质检",isshow:!1,pk_orgtype:""},{subGrid:"assetorg",subName:"资产",isshow:!1,pk_orgtype:""},{subGrid:"maintainorg",subName:"维修",isshow:!1,pk_orgtype:""},{subGrid:"liabilitycenter",subName:"利润中心",isshow:!1,pk_orgtype:""},{subGrid:"itemorg",subName:"项目",isshow:!1,pk_orgtype:""},{subGrid:"itemstockrelation",subName:"项目库存业务委托关系",isshow:!1,pk_orgtype:""},{subGrid:"planbudget",subName:"预算",isshow:!1,pk_orgtype:""},{subGrid:"adminorg",subName:"行政",isshow:!1,pk_orgtype:""},{subGrid:"factory",subName:"工厂",isshow:!1,pk_orgtype:""},{subGrid:"plancenter",subName:"计划中心",isshow:!1,pk_orgtype:""},{subGrid:"stocktrafficrelation",subName:"物流业务委托关系",isshow:!1,pk_orgtype:""},{subGrid:"stockqccenterrelation",subName:"质检业务委托关系",isshow:!1,pk_orgtype:""},{subGrid:"stockorgrelation",subName:"采购业务委托关系",isshow:!1,pk_orgtype:""},{subGrid:"stockassetrelation",subName:"资产库存业务委托关系",isshow:!1,pk_orgtype:""},{subGrid:"assetorgmaintainrelation",subName:"资产维修业务委托关系",isshow:!1,pk_orgtype:""},{subGrid:"maintainstockrelation",subName:"维修库存业务委托关系",isshow:!1,pk_orgtype:""},{subGrid:"saleorgrelation",subName:"销售业务委托关系",isshow:!1,pk_orgtype:""},{subGrid:"org",subName:"业务单元",isshow:!1,pk_orgtype:""}],subGrid1:"corp",subGrid2:"hrorg",subGrid3:"financeorg",subGrid4:"fundorg",subGrid5:"purchaseorg",subGrid6:"saleorg",subGrid61:"saleorgrelation",subGrid7:"stockorg",subGrid71:"stocktrafficrelation",subGrid72:"stockqccenterrelation",subGrid73:"stockorgrelation",subGrid74:"stockassetrelation",subGrid8:"trafficorg",subGrid9:"qccenter",subGrid10:"assetorg",subGrid101:"assetorgmaintainrelation",subGrid11:"maintainorg",subGrid111:"maintainstockrelation",subGrid12:"liabilitycenter",subGrid13:"itemorg",subGrid131:"itemstockrelation",subGrid14:"planbudget",subGrid15:"adminorg",subGrid16:"factory",subGrid17:"plancenter"}})}}]),t}();t.default=l},3:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=function(e,t){var o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),n=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[o].concat(n).concat([a]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var n=this[a][0];"number"==typeof n&&(r[n]=!0)}for(a=0;a<e.length;a++){var s=e[a];"number"==typeof s[0]&&r[s[0]]||(o&&!s[2]?s[2]=o:o&&(s[2]="("+s[2]+") and ("+o+")"),t.push(s))}},t}},365:function(e,t,o){e.exports=o(275)},4:function(e,t,o){var r={},a=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),n=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return document.querySelector(e)}.call(this,e)),t[e]}}(),s=null,i=0,l=[],c=o(6);function d(e,t){for(var o=0;o<e.length;o++){var a=e[o],n=r[a.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](a.parts[s]);for(;s<a.parts.length;s++)n.parts.push(h(a.parts[s],t))}else{var i=[];for(s=0;s<a.parts.length;s++)i.push(h(a.parts[s],t));r[a.id]={id:a.id,refs:1,parts:i}}}}function u(e,t){for(var o=[],r={},a=0;a<e.length;a++){var n=e[a],s=t.base?n[0]+t.base:n[0],i={css:n[1],media:n[2],sourceMap:n[3]};r[s]?r[s].parts.push(i):o.push(r[s]={id:s,parts:[i]})}return o}function p(e,t){var o=n(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?o.insertBefore(t,r.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(t)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function f(e){var t=document.createElement("style");return e.attrs.type="text/css",m(t,e.attrs),p(e,t),t}function m(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function h(e,t){var o,r,a,n;if(t.transform&&e.css){if(!(n=t.transform(e.css)))return function(){};e.css=n}if(t.singleton){var l=i++;o=s||(s=f(t)),r=v.bind(null,o,l,!1),a=v.bind(null,o,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",m(t,e.attrs),p(e,t),t}(t),r=function(e,t,o){var r=o.css,a=o.sourceMap,n=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||n)&&(r=c(r));a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var s=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(s),i&&URL.revokeObjectURL(i)}.bind(null,o,t),a=function(){g(o),o.href&&URL.revokeObjectURL(o.href)}):(o=f(t),r=function(e,t){var o=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,o),a=function(){g(o)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var o=u(e,t);return d(o,t),function(e){for(var a=[],n=0;n<o.length;n++){var s=o[n];(i=r[s.id]).refs--,a.push(i)}e&&d(u(e,t),t);for(n=0;n<a.length;n++){var i;if(0===(i=a[n]).refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete r[i.id]}}}};var b=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join("\n")}}();function v(e,t,o,r){var a=o?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,a);else{var n=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(n,s[t]):e.appendChild(n)}}},5:function(e,t){e.exports=o},6:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,r=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a,n=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(n)?e:(a=0===n.indexOf("//")?n:0===n.indexOf("/")?o+n:r+n.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}}})});
//# sourceMappingURL=index.647701f1.js.map