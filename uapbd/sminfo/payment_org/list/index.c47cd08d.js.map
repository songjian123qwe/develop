{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/./src/uapbd/sminfo/payment_base/list/index.js","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://[name]/./src/uapbd/sminfo/payment_org/list/index.js","webpack://[name]/external {\"root\":\"ReactDOM\",\"var\":\"ReactDOM\",\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\"}"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_react","_ncLightappFront","base","NCPopconfirm","NCIcon","NCTabs","NCTabPane","PrintOutput","high","searchId","tableId","pk_item","queryListUrl","deleteUrl","printUrl","List","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","_initialiseProps","state","json","context","nodeType","pk_org","pk_org_v","org_Name","org_v_Name","mdid","title","PermissionOrgIDs","Component","_this2","createUIDom","pagecode","pagecode_list","data","template","meta","assign","modifierMeta","setMeta","button","setButtonDisabled","setButtons","setPopContent","hasSearched","cacheTools","searchVal","conditions","logic","push","field","firstvalue","secondvalue","oprtype","display","search","setSearchValue","OID","getQueryInfo","oid","querycondition","pageInfo","table","getTablePageInfo","queryAreaCode","querytype","ajax","url","success","res","setAllTableData","setTimeout","toast","color","content","formulamsg","Array","length","dealFormulamsg","_defineProperty","setState","error","console","log","message","businessInfo","getBusinessInfo","pkGroup","groupId","setSearchValByField","_this3","items","map","item","col","attrcode","isMultiSelectedEnabled","queryCondition","AppCode","TreeRefActionExt","pagination","width","render","text","record","index","_react2","default","createElement","style","cursor","onClick","getAllSearchData","set","pushTo","cardUrl","appcode","pagecode_card","status","id","label","fixed","className","visible","itemtype","btnArray","createOprationButton","area","buttonLimit","onButtonClick","tableButtonClick","_this4","valid","deleteinfo","ts","deleteTableRowsByIndex","tableData","getAllTableData","rows","operateCode","arguments","undefined","callback","pks","getCheckedRows","forEach","values","mdOperateCode","_this5","MultiInit","getMultiLang","domainName","inlt","initTemplate","setButtonsVisible","print","_this6","remove","refreshAction","promptBox","beSureBtnClick","deleteAction","onPrint","onOutput","_props","createModal","modal","createSimpleTable","getButtons","NCCreateSearch","createButtonApp","buttonClick","popContainer","document","querySelector","clickSearchBtn","handlePageInfoChange","pageInfoClick","tableModelConfirm","dataSource","pkname","showIndex","showCheck","onRowDoubleClick","doubleClick","onSelected","onSelectedAll","ref","funcode","printFunCode","nodekey","printNodeKey","oids","ids","outputType","_this7","allData","refs","printOutput","open","e","getUrlParam","params","v","isRefresh","config","allpks","pageid","cond","getMeta","createPage","billinfo","billtype","bodycode","mutiLangCode","appid","listUrl","Listgrp","_list2"],"mappings":"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","file":"uapbd/sminfo/payment_org/list/index.c47cd08d.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/sminfo/payment_org/list/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"uapbd/sminfo/payment_org/list/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"], root[\"ReactDOM\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 289);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","//主子表列表\r\n\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createPage, ajax, base, toast, cacheTools, print, high, getBusinessInfo, promptBox,getMultiLang } from 'nc-lightapp-front';\r\nconst { NCPopconfirm, NCIcon, NCTabs } = base;\r\nconst NCTabPane = NCTabs.NCTabPane;\r\nconst { PrintOutput } = high;\r\n\r\nconst dataSource = 'uapbd.sminfo.payment.data'\r\nconst pageId = '10140PAYMG_list';        //pagecode\r\nconst searchId = 'searcharea';              //查询区id\r\nconst tableId = 'pk_group';                 //表头id\r\nconst oId = '1004Z01000000001GIFT';     //查询区oids\r\nconst appcode = '10140PAYMG';   //注册按钮id\r\nconst linkItem = 'code';        \t\t//列表卡片跳转字段\r\nconst pk_item = 'pk_payment';           //列表主键\r\nconst queryListUrl = '/nccloud/uapbd/sminfo/PaymentListQuery.do';           //通过查询区域查询url\r\nconst queryPageUrl = '/nccloud/uapbd/sminfo/PaymentQueryPageGridByPks.do';  //分页查询url\r\nconst deleteUrl = '/nccloud/uapbd/sminfo/PaymentDelete.do';                 //删除url\r\nconst printUrl = '/nccloud/uapbd/sminfo/PaymentPrint.do';                  //列表打印url\r\nconst validUrl = '/nccloud/uapbd/sminfo/PaymentValid.do';                   //权限校验\r\nconst qryUserInfoUrl = '/nccloud/uapbd/sminfo/PaymentLoginUserInfoQuery.do';//登录用户信息\r\nconst tableBtnAry = [\"editline\", \"delline\"];\t\t//表格列操作按钮\r\n//const titleName = state.json['10140PAYMG-000000'];\t\t\t //节点名称/* 国际化处理： 付款协议-集团*/\r\nconst globalId = 'GLOBLE00000000000000';            //全局常量值\r\n//\r\n// let initTemplate =(props) =>{\r\n//\r\n//     let _this = this;\r\n// }\r\n\r\n\r\n\r\n\r\nclass List extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.searchId = searchId;\r\n        this.tableId = tableId;\r\n\r\n        this.state = {\r\n            json:{},\r\n            context: {\r\n                nodeType: props.nodeType,\r\n                pk_org: '',\r\n                pk_org_v: '',\r\n                org_Name: '',\r\n                org_v_Name: '',\r\n                mdid: '',\r\n                title:'',\r\n                PermissionOrgIDs: []\r\n            }\r\n        }\r\n\r\n       \r\n\r\n    }\r\n\r\n    initTemplate(props){\r\n        props.createUIDom(\r\n            {\r\n                pagecode: props.pagecode_list//,//页面id\r\n                // appid: props.appid//注册按钮的id\r\n            },\r\n            (data) => {\r\n                if (data) {\r\n                    if (data.template) {\r\n                        let meta = data.template;\r\n                        let context = data.context;\r\n                        this.state.context = Object.assign(this.state.context, context);\r\n                        meta = this.modifierMeta(props, meta)\r\n                        props.meta.setMeta(meta, () => {\r\n\r\n                            if (data.button) {\r\n                                let button = data.button;\r\n                                props.button.setButtonDisabled(['delete', 'printGrp', 'output'], true);\r\n                                props.button.setButtons(button, () => {\r\n                                    props.button.setPopContent('delline', this.state.json['10140PAYMG-000002']) /*国际化：确认要删除该信息吗？ 设置操作列上删除按钮的弹窗提示 */\r\n                                });\r\n                            }\r\n\r\n                            let hasSearched = cacheTools.get(\"hasSearched\");\r\n                            let searchVal = cacheTools.get(\"searchParams\");\r\n                            if (searchVal !== 'undefined' && searchVal && searchVal.conditions) {\r\n                            } else {\r\n                                searchVal = {\r\n                                    conditions: [],\r\n                                    logic: 'and'\r\n                                }\r\n                                this.state.context.nodeType === 'org' && searchVal.conditions.push({\r\n                                    field: 'pk_org',\r\n                                    value: {\r\n                                        firstvalue: this.state.context.pk_org,\r\n                                        secondvalue: ''\r\n                                    },\r\n                                    oprtype: '=',\r\n                                    display: this.state.context.org_Name\r\n                                });\r\n                                this.props.search.setSearchValue(searchId, searchVal);\r\n                            }\r\n                            if (hasSearched && hasSearched === 1) {//hasSearched 为1表示有过查询，从缓存获取查询模板条件\r\n                                if (searchVal && searchVal != false) {\r\n                                    props.search.setSearchValue(searchId, searchVal.conditions);\r\n                                }\r\n\r\n                                //获取查询模板信息\r\n                                let queryInfo = this.props.search.getQueryInfo(this.searchId);\r\n                                let OID = queryInfo.oid;\r\n\r\n                                let data = {\r\n                                    querycondition: searchVal == null ? null : searchVal,\r\n                                    pageInfo: cacheTools.get('pageInfo') ? cacheTools.get('pageInfo') : props.table.getTablePageInfo(tableId),\r\n                                    pagecode: props.pagecode_list,\r\n                                    queryAreaCode: searchId,  //查询区编码\r\n                                    oid: OID,  //查询模板id，手工添加在界面模板json中，放在查询区，后期会修改\r\n                                    querytype: 'tree',//simple改为tree\r\n                                    nodeType: props.nodeType\r\n                                };\r\n\r\n                                ajax({\r\n                                    url: queryListUrl,\r\n                                    data,\r\n                                    success: (res) => {\r\n                                        if (res.data) {\r\n                                            props.table.setAllTableData(tableId, res.data[tableId]);\r\n                                            setTimeout(() => {\r\n                                                props.button.setButtonDisabled(['printGrp', 'output'], false);\r\n                                            }, 0)\r\n                                        } else {\r\n                                            props.button.setButtonDisabled(['printGrp', 'output'], true);\r\n                                            toast({color: 'warning', content: this.state.json['10140PAYMG-000026']});/* 国际化处理： 未查询出符合条件的数据*/\r\n                                        }\r\n                                        \r\n                                         //查询时执行显示公式前端适配\r\n                                        if (res.formulamsg && res.formulamsg instanceof Array && res.formulamsg.length > 0) {\r\n                                           props.dealFormulamsg(\r\n                                                res.formulamsg,  //参数一：返回的公式对象\r\n                                                {                //参数二：界面使用的表格类型\r\n                                                    [tableId]:\"table\"\r\n                                                }\r\n                                            );\r\n                                        }\r\n\r\n\r\n                                        this.setState(this.state)\r\n                                    },\r\n                                    error: (res) => {\r\n                                        console.log(res.message);\r\n                                    }\r\n                                });\r\n                            }\r\n                            else {\r\n                                if (props.nodeType == 'group') {\r\n                                    let businessInfo = getBusinessInfo();\r\n                                    let pkGroup = businessInfo == null ? 'pkGroup' : businessInfo.groupId;\r\n                                    props.search.setSearchValByField(searchId, 'pk_org', { value: pkGroup, display: this.state.json['10140PAYMG-000019'] })/* 国际化处理： 当前集团*/\r\n                                }\r\n                            }\r\n\r\n                            // setTimeout(() =>{\r\n                            //     if (data.button) {\r\n                            //         let button = data.button;\r\n                            //         props.button.setButtonDisabled(['delete', 'printGrp', 'output'], true);\r\n                            //         props.button.setButtons(button,()=>{\r\n                            //             props.button.setPopContent('delline','确认要删除该信息吗？') /* 设置操作列上删除按钮的弹窗提示 */\r\n                            //         });\r\n                            //     }\r\n                            // },0);\r\n                        });\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n        )\r\n    }\r\n    //moved by wh 20181020 为了多语json对象能够饮用得到，由外部引入至类内部\r\n    modifierMeta(props, meta) {\r\n\r\n        // let businessInfo = getBusinessInfo();\r\n        // let pkGroup = businessInfo.groupId;\r\n    \r\n        meta[searchId].items = meta[searchId].items.map((item, key) => {\r\n    \r\n            item.col = '3';\r\n    \r\n            if ((item.attrcode == 'pk_org')) {\r\n    \r\n                item.isMultiSelectedEnabled = true;\r\n                if (props.nodeType == 'org') {\r\n                    item.queryCondition = function () {\r\n                        return {\r\n                            AppCode: '10140PAYMO',\r\n                            TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgWithGroupSQLBuilder'\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    item.queryCondition = function () {\r\n                        return {\r\n                            AppCode: '10140PAYMG',\r\n                            TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgWithGroupSQLBuilder'\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return item;\r\n        })\r\n    \r\n        meta[tableId].pagination = true;\r\n        meta[tableId].items = meta[tableId].items.map((item, key) => {\r\n            item.width = 150;\r\n            if (item.attrcode == linkItem) {\r\n                item.render = (text, record, index) => {\r\n                    return (\r\n                        <span\r\n                            style={{color: '#007ace', cursor: 'pointer' }}\r\n                            onClick={() => {\r\n                                let searchVal = props.search.getAllSearchData(searchId);\r\n                                cacheTools.set(\"searchParams\", searchVal);\r\n                                cacheTools.set('preid', record[pk_item].value);\r\n                                cacheTools.set('pageInfo', props.table.getTablePageInfo(tableId));\r\n                                props.pushTo(props.cardUrl, {\r\n                                    appcode: props.appcode,\r\n                                    pagecode: props.pagecode_card,\r\n                                    status: 'browse',\r\n                                    id: record[pk_item].value//列表卡片传参\r\n                                });\r\n                            }}\r\n                        >\r\n                            {record && record[linkItem] && record[linkItem].value}\r\n                        </span>\r\n                    );\r\n                };\r\n            }\r\n            return item;\r\n        });\r\n        //添加操作列\r\n        meta[tableId].items.push({\r\n            attrcode: 'opr',\r\n            label: this.state.json['10140PAYMG-000001'],/* 国际化处理： 操作*/\r\n            width: 200,\r\n            fixed: 'right',\r\n            className: 'table-opr',\r\n            visible: true,\r\n            itemtype: 'customer',\r\n            render: (text, record, index) => {\r\n    \r\n                // 只能修改本级数据\r\n                let btnArray = [];\r\n                if (record['pk_org'].value == globalId && props.nodeType == 'global') {\r\n                    btnArray = ['editline', 'delline'];\r\n                }\r\n                else if (record['pk_org'].value == record['pk_group'].value && props.nodeType == 'group') {\r\n                    btnArray = ['editline', 'delline'];\r\n                }\r\n                else if (record['pk_org'].value != record['pk_group'].value && props.nodeType == 'org') {\r\n                    btnArray = ['editline', 'delline'];\r\n                }\r\n    \r\n                return props.button.createOprationButton(\r\n                    btnArray,\r\n                    {\r\n                        area: \"table-opr-area\",\r\n                        buttonLimit: 3,\r\n                        onButtonClick: (props, id) => this.tableButtonClick(props, id, text, record, index)\r\n                    }\r\n                )\r\n            }\r\n        });\r\n        return meta;\r\n    }\r\n\r\n    //moved by wh 20181020 为了多语json对象能够饮用得到，由外部引入至类内部\r\n    tableButtonClick(props, id, text, record, index) {\r\n        switch (id) {\r\n            case 'editline':\r\n                this.valid(props,'edit', record, () => {\r\n                    props.pushTo(props.cardUrl, {\r\n                        appcode: props.appcode,\r\n                        pagecode: props.pagecode_card,\r\n                        status: 'edit',\r\n                        id: record[pk_item].value\r\n                    });\r\n                })\r\n                break;\r\n            case 'delline':\r\n                this.valid(props,'delete', record, () => {\r\n                    ajax({\r\n                        url: deleteUrl,\r\n                        data:\r\n                        {\r\n                            pk_org: cacheTools.get('pk_org'),\r\n                            deleteinfo: [\r\n                                {\r\n                                    id: record[pk_item].value,\r\n                                    ts: record.ts.value\r\n                                }\r\n                            ]\r\n                        },\r\n                        success: (res) => {\r\n                            if (res.success) {\r\n                                toast({ color: 'success', title: this.state.json['10140PAYMG-000020'] });/* 国际化处理： 删除成功*/\r\n                                props.table.deleteTableRowsByIndex(tableId, index);\r\n                                let tableData = props.table.getAllTableData(tableId).rows;\r\n                                if (tableData && tableData.length > 0) {\r\n                                    props.button.setButtonDisabled(['printGrp', 'output'], false);\r\n                                } else {\r\n                                    props.button.setButtonDisabled(['printGrp', 'output'], true);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                })\r\n                break;\r\n            default:\r\n                console.log(id, index);\r\n                break;\r\n    \r\n        }\r\n    }\r\n    \r\n    //moved by wh 20181020 为了多语json对象能够饮用得到，由外部引入至类内部\r\n    //权限校验\r\n    valid(props, operateCode='',record, callback) {\r\n    \r\n        let pks = [];\r\n    \r\n        if (record) {\r\n    \r\n            pks.push(record[pk_item].value);\r\n        }\r\n        else {\r\n    \r\n            let rows = props.table.getCheckedRows(tableId);\r\n    \r\n            if (rows.length === 0) {\r\n                toast({ content: this.state.json['10140PAYMG-000021'], color: 'warning' });/* 国际化处理： 勾选操作数据*/\r\n                return;\r\n            }\r\n    \r\n            rows.forEach((item, key) => {\r\n                pks.push(item.data.values[pk_item].value);\r\n            });\r\n        }\r\n    \r\n        let data = {\r\n            pks,\r\n            nodeType: props.nodeType,\r\n            mdOperateCode:operateCode\r\n        }\r\n        ajax({\r\n            url: validUrl,\r\n            data,\r\n            success: (res) => {\r\n                callback && callback();\r\n            }\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        //add wh 20181020 多语引用的json文件\r\n        let callback = (json, status, inlt) => {\r\n\t\t\tif (status) {\r\n\t\t\t\tthis.setState({json, inlt},() => {\r\n                    this.initTemplate(this.props)\r\n                    if(this.props.nodeType == 'group'){\r\n                        this.state.context.title = this.state.json['10140PAYMG-000000']\r\n                    }else{\r\n                        this.state.context.title = this.state.json['10140PAYMG-000014']\r\n                    }\r\n\t\t\t\t})       // 保存json和inlt到页面state中并刷新页面\r\n\t\t\t}\r\n        }\r\n        this.props.MultiInit.getMultiLang({moduleId: '10140PAYMG', domainName: 'uapbd',callback})\r\n        // UE 要求打印下拉只有输出，确认规范后按钮注册再改。！！！\r\n        this.props.button.setButtonsVisible({\r\n            'print': false\r\n        });\r\n    }\r\n\r\n    buttonClick(props, id) {\r\n        switch (id) {\r\n            case 'add':\r\n                props.pushTo(props.cardUrl, {\r\n                    appcode: props.appcode,\r\n                    pagecode: props.pagecode_card,\r\n                    status: 'add'\r\n                })\r\n                cacheTools.remove('preid');\r\n\r\n                break;\r\n            // case 'editline':\r\n            //     debugger;\r\n            //     this.valid(props,()=>{props.linkTo(props.cardUrl,{\r\n            //         appcode:props.appcode,\r\n            //         pagecode:props.pagecode_card,\r\n            //         status:'edit',\r\n            //         id: props.record[pk_item].value\r\n            //     });\r\n            //     })\r\n            //     break;\r\n            case 'refresh':\r\n                this.refreshAction(props);\r\n                break;\r\n            case 'delete':\r\n                this.valid(props, 'delete',null, () => { \r\n                    // props.modal.show('delete'); \r\n                    promptBox({\r\n                        color:'warning',\r\n                        title: this.state.json['10140PAYMG-000015'],/* 国际化处理： 注意*/\r\n                        content: this.state.json['10140PAYMG-000016'],/* 国际化处理： 确认删除？*/\r\n                        beSureBtnClick: this.deleteAction.bind(this)\r\n                    })\r\n                })\r\n                break;\r\n            case 'printGrp':\r\n                this.onPrint();\r\n                break;\r\n            case 'print':\r\n                this.onPrint();\r\n                break;\r\n            case 'output':\r\n                this.onOutput();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 行选中事件\r\n    onSelected = () => {\r\n        let rows = this.props.table.getCheckedRows(tableId);\r\n        if (rows && rows.length > 0) {\r\n            this.props.button.setButtonDisabled(['delete'], false);\r\n        } else {\r\n            this.props.button.setButtonDisabled(['delete'], true);\r\n        }\r\n        this.setState(this.state);\r\n    }\r\n\r\n    //打印\r\n    onPrint = () => {\r\n\r\n        let allData = this.props.table.getAllTableData(tableId);\r\n\r\n        if (allData.length === 0) {\r\n            toast({ content: this.state.json['10140PAYMG-000007'], color: 'warning' });/* 国际化处理： 无可打印数据*/\r\n            return;\r\n        }\r\n\r\n        let pks = [];\r\n\r\n        allData.rows.forEach((item, key) => {\r\n            pks.push(item.values[pk_item].value);\r\n        });\r\n        print(\r\n            'pdf',\r\n            printUrl,\r\n            {\r\n                appcode: this.props.printFunCode,\r\n                funcode: this.props.printFunCode,//功能节点编码\r\n                nodekey: this.props.printNodeKey,//模板节点编码\r\n                oids: pks\r\n            }\r\n        )\r\n    }\r\n    //输出\r\n    onOutput = () => {\r\n\r\n        let allData = this.props.table.getAllTableData(tableId);\r\n        if (allData.length === 0) {\r\n            toast({ content: this.state.json['10140PAYMG-000008'], color: 'warning' });/* 国际化处理： 无可输出的数据*/\r\n            return;\r\n        }\r\n        let pks = [];\r\n\r\n        allData.rows.forEach((item, key) => {\r\n            pks.push(item.values[pk_item].value);\r\n        });\r\n        this.setState({\r\n            ids: pks\r\n        }, this.refs.printOutput.open());\r\n    }\r\n\r\n    doubleClick = (record, index, e) => {\r\n\r\n\r\n        console.log(this.state.json['10140PAYMG-000022']);/* 国际化处理： 双击*/\r\n        console.log(this)\r\n        let searchVal = this.props.search.getAllSearchData(searchId);\r\n        cacheTools.set(\"searchParams\", searchVal);\r\n        cacheTools.get(\"searchParams\");\r\n        cacheTools.set('preid', this.props.getUrlParam('id'));\r\n        this.props.pushTo(this.props.cardUrl, {\r\n            appcode: this.props.appcode,\r\n            pagecode: this.props.pagecode_card,\r\n            status: 'browse',\r\n            id: record[pk_item].value\r\n        });\r\n    }\r\n\r\n    deleteAction = () => {\r\n        let data = this.props.table.getCheckedRows(tableId);\r\n        let params = {\r\n            pk_org: cacheTools.get('pk_org'),\r\n            deleteinfo: data.map((v) => {\r\n                let id = v.data.values[pk_item].value;\r\n                let ts = v.data.values.ts.value;\r\n                return {\r\n                    id, ts\r\n                }\r\n            })\r\n        }\r\n        ajax({\r\n            url: deleteUrl,\r\n            data: params,\r\n            success: (res) => {\r\n                this.props.button.setButtonDisabled('delete', true);\r\n                toast({ color: \"success\", content: this.state.json['10140PAYMG-000020'] });/* 国际化处理： 删除成功*/\r\n                this.refreshAction(this.props, true);\r\n            }\r\n        });\r\n    }\r\n\r\n    refreshAction = (props, isRefresh=false) => {\r\n        let searchVal = props.search.getAllSearchData(searchId);\r\n        if (searchVal != false) {\r\n            //获取查询模板信息\r\n            let queryInfo = this.props.search.getQueryInfo(this.searchId);\r\n            let OID = queryInfo.oid;\r\n\r\n            let data = {\r\n                querycondition: searchVal == null ? null : searchVal,\r\n                pageInfo: props.table.getTablePageInfo(tableId),\r\n                pagecode: props.pagecode_list,\r\n                queryAreaCode: searchId,  //查询区编码\r\n                oid: OID,  //查询模板id，手工添加在界面模板json中，放在查询区，后期会修改\r\n                querytype: 'tree',//simple改为tree\r\n                nodeType: props.nodeType\r\n            };\r\n\r\n            ajax({\r\n                url: queryListUrl,\r\n                data,\r\n                success: (res) => {\r\n                    console.log(res);\r\n                    if (res.data) {\r\n                        props.table.setAllTableData(tableId, res.data[tableId]);\r\n                        props.button.setButtonDisabled(['printGrp', 'output'], false);\r\n                       \r\n                    } else {\r\n                        props.table.setAllTableData(tableId, { rows: [] });\r\n                        props.button.setButtonDisabled(['printGrp', 'output'], true);\r\n                        \r\n                    }\r\n\r\n                    //查询时执行显示公式前端适配\r\n                 if (res.formulamsg && res.formulamsg instanceof Array && res.formulamsg.length > 0) {\r\n                    props.dealFormulamsg(\r\n                        res.formulamsg,  //参数一：返回的公式对象\r\n                        {                //参数二：界面使用的表格类型\r\n                            [tableId]:\"table\"\r\n                        }\r\n                    );\r\n                 }\r\n\r\n                    //刷新后删除按钮要置灰\r\n                    props.button.setButtonDisabled('delete', true);\r\n                    if(isRefresh) return;\r\n                    toast({ color: 'success', title: this.state.json['10140PAYMG-000023'] });/* 国际化处理： 刷新成功*/\r\n                },\r\n                error: (res) => {\r\n                    console.log(res.message);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    pageInfoClick = (props, config, pks) => {\r\n\r\n        let pageInfo = props.table.getTablePageInfo(this.tableId);\r\n        let searchVal = props.search.getAllSearchData(searchId);\r\n\r\n        cacheTools.set('pageInfo', props.table.getTablePageInfo(tableId));\r\n\r\n        let data = {\r\n            pk_org: cacheTools.get('pk_org'),\r\n            allpks: pks,\r\n            pageid: props.pagecode_list,\r\n            nodeType: props.nodeType\r\n        };\r\n        //得到数据渲染到页面\r\n        let that = this;\r\n        ajax({\r\n            url: queryPageUrl,\r\n            data: data,\r\n            success: function (res) {\r\n                let { success, data } = res;\r\n                if (success) {\r\n                    if (data) {\r\n                        props.table.setAllTableData(tableId, data[tableId]);\r\n                    } else {\r\n                        props.table.setAllTableData(tableId, { rows: [] });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    clickSearchBtn = (props, searchVal) => {\r\n\r\n        console.log(searchVal);\r\n\r\n        searchVal.conditions.map((cond) => {\r\n            if (cond.field == 'pk_org') {\r\n                //集团节点初始化时会在查询区默认为当前集团，但是没初始化好时，getBusinessInfo 获取不到，所以pk_org赋值为‘pkGroup’，此处再取一次\r\n                if (props.nodeType == 'group' && cond.value.firstvalue == 'pkGroup') {\r\n                    let businessInfo = getBusinessInfo();\r\n                    let pkGroup = businessInfo == null ? null : businessInfo.groupId;\r\n                    cond.value.firstvalue = pkGroup;\r\n                }\r\n                cacheTools.set('pk_org', cond.value.firstvalue);\r\n            }\r\n        })\r\n        cacheTools.set(\"hasSearched\", 1);\r\n        cacheTools.set(\"searchParams\", searchVal);\r\n        cacheTools.set('pageInfo', props.table.getTablePageInfo(tableId));\r\n        let metaData = props.meta.getMeta();\r\n\r\n        //获取查询模板信息\r\n        let queryInfo = this.props.search.getQueryInfo(this.searchId);\r\n        let OID = queryInfo.oid;\r\n\r\n        let data = {\r\n            querycondition: searchVal == null ? null : searchVal,\r\n            pageInfo: props.table.getTablePageInfo(tableId),\r\n            pagecode: props.pagecode_list,\r\n            queryAreaCode: searchId,  //查询区编码\r\n            oid: OID,  //查询模板id，手工添加在界面模板json中，放在查询区，后期会修改\r\n            querytype: 'tree',//simple改为tree\r\n            nodeType: props.nodeType\r\n        };\r\n\r\n        ajax({\r\n            url: queryListUrl,\r\n            data,\r\n            success: (res) => {\r\n                console.log(res);\r\n                if (res.data) {\r\n                    props.table.setAllTableData(this.tableId, res.data[tableId]);\r\n                    props.button.setButtonDisabled(['printGrp', 'output'], false);\r\n                    toast({color: 'success', content: this.state.json['10140PAYMG-000024']+res.data[tableId].allpks.length+this.state.json['10140PAYMG-000025']});/* 国际化处理： 查询成功，共,条。*/\r\n                } else {\r\n                    props.table.setAllTableData(this.tableId, { rows: [] });\r\n                    props.button.setButtonDisabled(['printGrp', 'output'], true);\r\n                    toast({color: 'warning', content: this.state.json['10140PAYMG-000026']});/* 国际化处理： 未查询出符合条件的数据*/\r\n                }\r\n                 //查询时执行显示公式前端适配\r\n                 if (res.formulamsg && res.formulamsg instanceof Array && res.formulamsg.length > 0) {\r\n                    props.dealFormulamsg(\r\n                        res.formulamsg,  //参数一：返回的公式对象\r\n                        {                //参数二：界面使用的表格类型\r\n                            [tableId]:\"table\"\r\n                        }\r\n                    );\r\n                }\r\n                this.setState(this.state);\r\n            },\r\n            error: (res) => {\r\n                console.log(res.message);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let { table, button, search, modal } = this.props;\r\n        let { createModal } = modal;\r\n        let buttons = this.props.button.getButtons();\r\n        // buttons = buttons.sort((a,b)=>{\r\n        //     return b.btnorder - a.btnorder;\r\n        // });\r\n        let { createSimpleTable } = table;\r\n        let { NCCreateSearch } = search;\r\n        let { createButtonApp, getButtons } = button;\r\n        return (<div className=\"nc-bill-list\">\r\n            <div className='nc-bill-header-area'>\r\n                <div className='header-title-search-area'>\r\n                    <h2 className='title-search-detail'>{this.state.context.title}</h2></div>\r\n                <div className=\"header-button-area\">\r\n                    {createButtonApp({\r\n                        area: 'header-button-area',\r\n                        buttonLimit: 3,\r\n                        onButtonClick: this.buttonClick.bind(this),\r\n                        popContainer: document.querySelector('.header-button-area')\r\n\r\n                    })}\r\n                </div>\r\n            </div>\r\n            <div className=\"nc-bill-search-area\">\r\n                {NCCreateSearch(this.searchId, {\r\n                    clickSearchBtn: this.clickSearchBtn.bind(this)\r\n                })}\r\n            </div>\r\n            {/* <div style={{height:'10px'}}></div> */}\r\n            <div className=\"nc-bill-table-area\">\r\n                {createSimpleTable(this.tableId, {\r\n                    handlePageInfoChange: this.pageInfoClick,\r\n                    tableModelConfirm: this.tableModelConfirm,\r\n                    dataSource: dataSource,\r\n                    pkname: pk_item,\r\n                    showIndex: true,\r\n                    showCheck: true,\r\n                    onRowDoubleClick: this.doubleClick.bind(this),\r\n                    onSelected: this.onSelected.bind(this),\r\n                    onSelectedAll: this.onSelected.bind(this)\r\n                })}\r\n            </div>\r\n            {/* 样式不对已经废弃 */}\r\n            {createModal('delete', {\r\n                title: this.state.json['10140PAYMG-000015'],/* 国际化处理： 注意*/\r\n                content: this.state.json['10140PAYMG-000016'],/* 国际化处理： 确认删除？*/\r\n                beSureBtnClick: this.deleteAction.bind(this)\r\n            })}\r\n\r\n            <PrintOutput\r\n                ref='printOutput'\r\n                url={printUrl}\r\n                data={{\r\n                    appcode: this.props.appcode,\r\n                    funcode: this.props.printFunCode,//功能节点编码\r\n                    nodekey: this.props.printNodeKey,//模板节点编码\r\n                    oids: this.state.ids,\r\n                    outputType: 'output'\r\n                }}\r\n            />\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nList = createPage({\r\n    billinfo:[{\r\n        billtype: 'grid',\r\n        pagecode: pageId,\r\n        bodycode: tableId //headcode: tableId\r\n    }],\r\n\tinitTemplate: [],\r\n\tmutiLangCode: '10140PAYMG'\r\n})(List);\r\n\r\n// ReactDOM.render(<List />, document.querySelector('#app'));\r\nexport default List;\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport List from '../../payment_base/list';\r\n\r\nlet config = {\r\n    //modified by wh 20181020 移动至base\r\n    //nodeName: '付款协议-业务单元',\r\n    nodeType: 'org',\r\n    pagecode_list:'10140PAYMG_list',\r\n    pagecode_card:'10140PAYMG_card',\r\n    appcode: '10140PAYMO',\r\n    appid:'0001Z0100000000043ZF',\r\n    printFunCode:'10140PAYMG',      //有打印模板的小应用编码\r\n    printNodeKey:'paymentlist',     //模板节点标识\r\n    // cardUrl:'/uapbd/sminfo/payment_org/card/index.html',\r\n    // listUrl:'/uapbd/sminfo/payment_org/list/index.html'\r\n    //10140PAYMO 业务单元未注册\r\n    listUrl:'/list',\r\n    cardUrl:'/card'\r\n}\r\n\r\nclass Listgrp extends Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        debugger\r\n    }\r\n    render(){\r\n        return(\r\n            <div>\r\n                <List {...config}/>    \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Listgrp;\r\n// ReactDOM.render(<List {...config}/>, document.querySelector('#app'));","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;"],"sourceRoot":""}