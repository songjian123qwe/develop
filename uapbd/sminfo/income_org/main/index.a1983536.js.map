{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/./src/uapbd/public/utils/BDCreateUIDom.js","webpack://[name]/./src/uapbd/sminfo/income_base/card/index.js","webpack://[name]/./src/uapbd/sminfo/income_base/list/index.js","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://[name]/./src/uapbd/sminfo/income_org/card/index.js","webpack://[name]/./src/uapbd/sminfo/income_org/list/index.js","webpack://[name]/./src/uapbd/sminfo/income_org/main/index.js","webpack://[name]/./src/uapbd/sminfo/income_org/main/router.js","webpack://[name]/external {\"root\":\"ReactDOM\",\"var\":\"ReactDOM\",\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\"}"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","props","pageCfg","arguments","length","undefined","langCfg","callback","count","result","hander","templateData","langData","inlt","console","log","newLangCfg","data","success","_ncLightappFront","toast","content","color","MultiInit","getMultiLang","createUIDom","_react","NCAffix","base","PrintOutput","NCPopconfirm","NCFormControl","NCBackBtn","high","addCache","cardCache","getCacheById","updateCache","getCurrentLastId","deleteCacheById","getNextId","formId","tableId","queryCardUrl","qryUserInfoUrl","printUrl","pk_item","dataSource","tableBtnAry","getUrlParam","modifierMeta","meta","status","items","map","item","attrcode","nodeType","disabled","queryCondition","AppCode","TreeRefActionExt","porCol","label","MutiInit","getIntl","visible","className","width","itemtype","fixed","render","text","record","index","btnArray","button","createOprationButton","area","buttonLimit","onButtonClick","id","allData","cardTable","getVisibleRows","forEach","element","values","parseInt","toString","setValByKeyAndRowId","rowid","addRow","showorder","display","delRowsByIndex","toggleRowView","openModel","tableButtonClick","push","toggleShow","showColByKey","setButtonVisible","setButtonDisabled","cardPagination","setCardPaginationVisible","hideColByKey","form","setFormStatus","setStatus","Card","_classCallCheck","this","_this2","_possibleConstructorReturn","__proto__","getPrototypeOf","_initialiseProps","state","pk_org","json","title","title_code","totalcount","applycount","initTemplate","Component","pk","getdata","setDefaultValue","l_formstatus","getFormStatus","onbeforeunload","cardData","setAllFormValue","_defineProperty","head","body","setTableData","rows","setUrlParam","EmptyAllFormValue","pushTo","listUrl","pagecode","pagecode_list","appcode","_props","modal","BillHeadInfo","createCardPagination","createBillHeadInfo","createForm","getButtons","createCardTable","createButtonApp","createModal","_react2","default","createElement","backBtnClick","onReturnClick","buttonClick","handlePageInfoChange","pageInfoClick","onAfterEvent","afterEvent","tableHead","getTableHead","modelSave","showIndex","tableAfterEvent","onBeforeEvent","tableBeforeEvent","beSureBtnClick","delConfirm","ref","url","funcode","printFunCode","nodekey","printNodeKey","oids","ids","outputType","that","_this3","_BDCreateUIDom2","pagecode_card","domainName","template","setMeta","setButtons","ajax","res","setFormItemsValue","group","pk_group","effectdate","effectDate","add","valid","promptBox","hasCloseBtn","saveClick","getDataForCache","cancel","resetTableData","rowNum","getNumberOfRows","onPrint","onOutput","pks","getFormItemsValue","deepClone","date","getBusinessInfo","businessDate","grpId","groupId","grpName","groupName","getAllFormValue","print","setState","refs","printOutput","open","cacheTools","pageid","changedrows","g","type","setValByKeyAndIndex","newvalue","oldvalue","line","model","getMeta","includes","checkdata","getValByKeyAndIndex","find","isRefresh","_props$dealFormulamsg","formulamsg","Array","dealFormulamsg","btn","isCheckNow","checkTableRequired","filterEmptyRows","CardData","createMasterChildData","validateToSave","pk_value","deleteinfo","ts","closeModel","createBrowseIcons","iconArr","maxDestAreaId","createPage","billinfo","billtype","headcode","bodycode","mutiLangCode","NCIcon","NCTabs","NCTabPane","searchId","linkItem","queryListUrl","deleteUrl","validUrl","globalId","col","isMultiSelectedEnabled","pagination","style","cursor","onClick","searchVal","search","getAllSearchData","set","table","getTablePageInfo","cardUrl","deleteTableRowsByIndex","tableData","getAllTableData","selectData","getCheckedRows","List","_this","setButtonsVisible","remove","refreshAction","deleteAction","createSimpleTable","NCCreateSearch","createPageIcon","popContainer","document","querySelector","clickSearchBtn","tableModelConfirm","pkname","showCheck","onRowDoubleClick","doubleClick","onSelected","onSelectedAll","setPopContent","hasSearched","setSearchValue","conditions","OID","getQueryInfo","oid","querycondition","custcondition","queryAreaCode","pageInfo","querytype","setAllTableData","error","message","businessInfo","pkGroup","setSearchValByField","e","params","v","config","allpks","cond","field","firstvalue","nodeName","appid","Cardgrp","_card2","Listgrp","_list2","routers","RenderRouter","routes","asyncComponent","Promise","resolve","then","path","component","exact"],"mappings":"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","file":"uapbd/sminfo/income_org/main/index.a1983536.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/sminfo/income_org/main/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"uapbd/sminfo/income_org/main/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"], root[\"ReactDOM\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 269);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","//   pagecode:props.config.pageCode?props.config.pageCode:pagecode\r\n//  getMultiLang({moduleId: \"10140ADRB\",domainName: 'uapbd',callback})\r\n\r\n\r\nimport { toast} from 'nc-lightapp-front';\r\nexport default function(props){\r\n     return ( pageCfg = {} , langCfg = {}, callback ) => {\r\n\r\n         var count = 0;\r\n         var result = {};\r\n\r\n         var hander = () => {\r\n             if(count == 2){\r\n                 callback && callback(result.templateData || {} , result.langData || {},result.inlt||{});\r\n             }\r\n         }\r\n         if(langCfg.callback){\r\n             console.log('咱们自己createUIDom会同时获取多语和单据模板,并通过一个回调函数返回, langCfg中的回调函数将被忽略');\r\n         }\r\n\r\n         var newLangCfg = { ...langCfg, callback: (data, success,inlt) => {\r\n                    count = count + 1;\r\n                 if(!success){\r\n                     toast({content:'load muti lang error',color:'warning'});\r\n                 }\r\n                 result.langData = data || {};\r\n                 result.inlt = inlt || {};\r\n                 hander();\r\n         }};\r\n         props.MultiInit.getMultiLang(newLangCfg);\r\n\r\n         props.createUIDom(pageCfg, (data) => {\r\n             count = count + 1;\r\n             result.templateData = data || {};\r\n             hander();\r\n         });\r\n    };\r\n};","//主子表卡片\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { createPage, ajax, base, toast, cacheTools, print, high, getBusinessInfo, deepClone, promptBox,cardCache } from 'nc-lightapp-front';\nimport createUIDom from '../../../public/utils/BDCreateUIDom';\nconst { NCAffix, NCPopconfirm, NCFormControl, NCBackBtn } = base;\nconst { PrintOutput } = high;\nconst { addCache, getCacheById, updateCache, getCurrentLastId, getNextId, deleteCacheById } = cardCache;\n\nconst formId = 'income';                      //表头id\nconst tableId = 'incomech';                  //子表id\nconst pageId = '10140INCMG_incomecard';            //pagecode\n//const searchId = 'search';                  //查询区id\nconst appId = '0001Z010000000001PR5';        //按钮注册id\nconst queryCardUrl = '/nccloud/uapbd/sminfo/IncomeCardQuery.do';   //卡片查询url\nconst saveUrl = '/nccloud/uapbd/sminfo/IncomeSave.do';             //新增保存\nconst updateUrl = '/nccloud/uapbd/sminfo/IncomeUpdate.do';         //修改保存\nconst deleteUrl = '/nccloud/uapbd/sminfo/IncomeDelete.do';         //删除\nconst qryUserInfoUrl = '/nccloud/uapbd/sminfo/PaymentLoginUserInfoQuery.do'//登录用户信息\nconst printUrl = '/nccloud/uapbd/sminfo/IncomePrint.do';                  //列表打印url\nconst validUrl = '/nccloud/uapbd/sminfo/IncomeValid.do';                   //权限校验\nconst pk_item = 'pk_income';               //单据主键--用于卡片查询刷新\nconst titleCode = 'code';           //单据编码--用于卡片表头显示\n//const tableBtnAry = ['delline','detail','spread'];\t\t//表格列操作按钮\nconst dataSource = 'uapbd.sminfo.income.data'\n\nlet tableBtnAry = (props) => {\n    return props.getUrlParam('status') === 'browse'\n        ? ['detail'] : ['insertline', 'delline'];\n    // ,'spread'展开新增有问题，先隐藏\n}\n\n//\n// let initTemplate =(props)=>{\n//\n// }\n\nfunction modifierMeta(props, meta) {\n    let status = props.getUrlParam('status');\n    meta[formId].status = status;\n    meta[tableId].status = status;\n\n    meta[formId].items.map((item) => {\n\n        if (item.attrcode == 'pk_org') {\n\n            if (props.nodeType == 'group') {\n                item.disabled = 'false';\n            }\n            else {\n                item.queryCondition = function () {\n                    return {\n                        AppCode: '10140INCMO',\n                        TreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder'\n                    }\n                }\n            }\n        }\n    })\n\n    let porCol = {\n        attrcode: 'opr',\n        label: props.MutiInit.getIntl(\"10140INCMG\") && props.MutiInit.getIntl(\"10140INCMG\").get('10140INCMG-000001'), //this.state.json['10140INCMG-000001'],/* 国际化处理： 操作*/\n        visible: true,\n        className: 'table-opr',\n        width: '200px',\n        itemtype: 'customer',\n        fixed: 'right',\n        render(text, record, index) {\n\n            let btnArray = tableBtnAry(props);\n\n            return props.button.createOprationButton(\n                btnArray,\n                {\n                    area: \"table-opr-area\",\n                    buttonLimit: 3,\n                    onButtonClick: (props, id) => tableButtonClick(props, id, text, record, index)\n                }\n            )\n        }\n    };\n    meta[tableId].items.push(porCol);\n\n    return meta;\n}\n\nfunction tableButtonClick(props, id, text, record, index) {\n\n    let allData = props.cardTable.getVisibleRows(tableId, false)\n    let value = {}\n    switch (id) {\n        case 'insertline'://插入行\n            allData.forEach(element => {\n                if (element.values['showorder'].value >= record.values['showorder'].value) {\n                    value = (parseInt(element.values['showorder'].value) + 1).toString()\n                    props.cardTable.setValByKeyAndRowId(tableId, element.rowid, 'showorder', { value: value })\n                }\n            })\n            props.cardTable.addRow(tableId, index, { 'showorder': { display: '', value: index + 1 + '' } }, false);\n            break;\n        case \"delline\"://删除行s\n            allData.forEach(element => {\n                if (element.values['showorder'].value >= record.values['showorder'].value) {\n                    value = (parseInt(element.values['showorder'].value) - 1).toString()\n                    props.cardTable.setValByKeyAndRowId(tableId, element.rowid, 'showorder', { value: value })\n                }\n            })\n            props.cardTable.delRowsByIndex(tableId, index);\n            break;\n        case \"detail\"://更多\n            props.cardTable.toggleRowView(tableId, record);\n            break;\n        case \"spread\"://展开\n            props.cardTable.openModel(tableId, 'edit', record, index);\n            break;\n        default:\n            console.log(id, index);\n            break;\n    }\n}\n\n//切换页面状态\nfunction toggleShow(props) {\n    let status = props.getUrlParam('status');\n    let flag = status === 'browse' ? false : true;\n    //按钮的显示状态\n    if (status == 'add') {\n        //显示子表操作列\n        props.cardTable.showColByKey(tableId, 'opr');\n        props.button.setButtonVisible(['edit', 'add', 'back', 'delete', 'refresh', 'spread', 'printGrp', 'print', 'output'], false);\n        props.button.setButtonVisible(['save', 'saveAdd', 'cancel', 'addline', 'insertline', 'delline', 'detail'], true);\n        props.button.setButtonDisabled('saveAdd', false);\n        props.cardPagination.setCardPaginationVisible('cardPaginationBtn', false);\n    }\n    else if (status == 'edit') {\n        //显示子表操作列\n        props.cardTable.showColByKey(tableId, 'opr');\n        props.button.setButtonVisible(['edit', 'add', 'back', 'delete', 'refresh', 'spread', 'printGrp', 'print', 'output'], false);\n        props.button.setButtonVisible(['save', 'saveAdd', 'cancel', 'addline', 'insertline', 'delline', 'detail'], true);\n        props.button.setButtonDisabled('saveAdd', true);\n        props.cardPagination.setCardPaginationVisible('cardPaginationBtn', false);\n    } else {\n        //隐藏子表操作列\n        props.cardTable.hideColByKey(tableId, 'opr');\n        if(!props.getUrlParam('id')){\n            //列表为空新增时id未控制，取消后只保留新增按钮\n            props.button.setButtonVisible(['save', 'saveAdd', 'cancel', 'addline', 'insertline', 'delline', 'spread', 'print', 'back', 'edit', 'delete', 'refresh', 'printGrp', 'output', 'detail'], false);\n            props.button.setButtonVisible(['add'], true);\n            props.cardPagination.setCardPaginationVisible('cardPaginationBtn', false);\n        }else{\n            props.button.setButtonVisible(['save', 'saveAdd', 'cancel', 'addline', 'insertline', 'delline', 'detail', 'print', 'back'], false);\n            props.button.setButtonVisible(['add', 'edit', 'delete', 'refresh', 'spread', 'printGrp', 'output'], true);\n            props.cardPagination.setCardPaginationVisible('cardPaginationBtn', true);\n        }\n    }\n    props.form.setFormStatus(formId, status);\n    props.cardTable.setStatus(tableId, status);\n};\n\nclass Card extends Component {\n    constructor(props) {\n        super(props);\n        this.formId = formId;\n        //this.searchId = searchId;\n        this.tableId = tableId;\n        this.state = {\n            pk_org: '',\n            json: {},\n            title:'',\n            title_code: '',\n            totalcount: 0,\n            applycount: 0,\n        }\n        \n        this.initTemplate(props);\n\n    }\n    \n     //初始化单据模板\n    initTemplate = (props,callback) => {\n        let that = this;\n        createUIDom(props)(\n            {\n                pagecode:props.pagecode_card//页面id\n            // appcode:props.config.appcode//注册按钮的id\n            },\n            {\n                moduleId: '10140INCMG',domainName: 'uapbd'\n            },\n            (data, langData)=>{ //(data, langData)\n                if(langData){\n                    this.state.json = langData\n                    if(props.nodeType == 'group'){\n\t\t\t\t\t\tthat.state.title = this.state.json['10140INCMG-000000']//this.state.json['10140CSCLG-000000'],/* 国际化处理： 收款协议-集团*/\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthat.state.title= this.state.json['10140INCMG-000025']//this.state.json['10140CSCLG-000000'],/* 国际化处理： 收款协议-业务单元*/\n\t\t\t\t\t}\n                }\n                if (data) {\n\n                    if (data.template) {\n                        let meta = data.template;\n                        modifierMeta(props, meta)\n                        props.meta.setMeta(meta);\n                    }\n                    if (data.button) {\n                        let button = data.button;\n                        props.button.setButtons(button, () => {\n                            //props.button.setPopContent('delline','确认要删除该信息吗？') /* 设置操作列上删除按钮的弹窗提示 */\n                        });\n                        toggleShow(props);\n                    }\n                    callback && callback();\n                }\n            }\n        )\n\t\t}\n\t\t\n    componentDidMount() {\n        // toggleShow(this.props);\n\n        let status = this.props.getUrlParam('status');\n        if (status != \"add\") {\n            let pk = this.props.getUrlParam('id');\n            if (pk && pk != 'undefined') {\n                this.getdata(pk);\n            }\n        }\n        else {\n            this.setDefaultValue();\n        }\n\n    }\n\n    componentDidUpdate() {\n        let l_formstatus = this.props.form.getFormStatus(formId);\n        if (l_formstatus != 'add' && l_formstatus != \"edit\") {\n            window.onbeforeunload = null;\n        }\n        else {\n            window.onbeforeunload = () => {//编辑态关闭页签或浏览器的提示\n                return '';\n            };\n        }\n    }\n\n    componentWillReceiveProps() { }\n\n    setDefaultValue = () => {\n\n        if (this.props.nodeType == 'group') {\n            ajax({\n                url: qryUserInfoUrl,\n                success: (res) => {\n                    this.props.form.setFormItemsValue(this.formId, {\n                        'pk_org':\n                        {\n                            value: res.data.group.pk_group,\n                            display: res.data.group.name\n                        }, 'effectdate':\n                        {\n                            value: res.data.effectDate,\n                            display: null\n                        }\n                    });\n                }\n            })\n        } else {\n            //此处暂且先仿照原作者去后台取登录用户集团信息并取form默认值，\n            //后续登录用户集团信息应从businessinfo里取，form默认值应再写个action\n            ajax({\n                url: qryUserInfoUrl,\n                success: (res) => {\n                    this.props.form.setFormItemsValue(this.formId, {\n                        'effectdate':\n                        {\n                            value: res.data.effectDate,\n                            display: null\n                        }\n                    });\n                }\n            })\n        }\n\n\n    }\n\n    buttonClick = (props, id) => {\n\n        let _this = this;\n        switch (id) {\n            case 'add':\n                this.add(props);\n                // props.linkTo(props.cardUrl, {\n                //     appcode:props.appcode,\n                //     pagecode:props.pagecode_card,\n                //   status: 'add'\n                // })\n                props.setUrlParam({\n                    appcode: props.appcode,\n                    pagecode: props.pagecode_card,\n                    status: 'add'\n                })\n                toggleShow(this.props);\n                break;\n            case 'edit':\n                this.valid(props, () => {\n                    //   props.linkTo(props.cardUrl, {\n                    //       appcode:props.appcode,\n                    //       pagecode:props.pagecode_card,\n                    //       status: 'edit',\n                    //       id: props.getUrlParam('id')\n                    //   });\n                    props.setUrlParam({\n                        appcode: props.appcode,\n                        pagecode: props.pagecode_card,\n                        status: 'edit',\n                        id: props.getUrlParam('id')\n                    });\n                    toggleShow(this.props);\n                })\n                break;\n            case 'delete':\n                this.valid(props, () => {\n                    promptBox({\n                        title: this.state.json['10140INCMG-000002'],/* 国际化处理： 确认删除*/\n                        color: \"warning\",\n                        hasCloseBtn:false,\n                        content: this.state.json['10140INCMG-000003'],/* 国际化处理： 确定要删除所选数据吗？*/\n                        beSureBtnClick: this.delConfirm.bind(this)\n                    })\n                })\n                break;\n            case 'back':\n                props.pushTo(props.listUrl, {\n                    appcode: props.appcode,\n                    pagecode: props.pagecode_list,\n                    status: 'browse'\n                })\n                break;\n            case 'save':\n                this.saveClick('save');\n\n                break;\n            case 'saveAdd':\n                this.saveClick('saveAdd');\n                break;\n            case 'cancel':\n                promptBox({\n                    color: \"warning\",\n                    title: this.state.json['10140INCMG-000004'],/* 国际化处理： 确认取消*/\n                    hasCloseBtn:false,\n                    content: this.state.json['10140INCMG-000005'],/* 国际化处理： 是否确认要取消？*/\n                    beSureBtnClick: () => {\n                        if (props.getUrlParam('status') === 'add') {\n                            //modified by tangcht 2019.2.27    \n                            let pk = getCurrentLastId(dataSource);\n                            this.getDataForCache(pk, () => { \n                                props.form.cancel(this.formId);\n                                props.cardTable.resetTableData(this.tableId);\n                                props.setUrlParam({\n                                status: 'browse',\n                                id: props.getUrlParam('id'),\n                                appcode:props.appcode,\n                                pagecode:props.pagecode_card\n                                })\n                            })\n                        }\n                        if ((props.getUrlParam('status') === 'edit')) {\n                            props.form.cancel(this.formId);\n                            props.cardTable.resetTableData(this.tableId);\n                            props.setUrlParam({\n                                appcode: props.appcode,\n                                pagecode: props.pagecode_card,\n                                status: 'browse',\n                                id: props.getUrlParam('id')\n                            });\n                        }\n                        toggleShow(this.props);\n                    }\n                });\n                break\n            case 'addline':\n                let rowNum = props.cardTable.getNumberOfRows(this.tableId);\n                props.cardTable.addRow(this.tableId, rowNum, { 'showorder': { display: '', value: rowNum + 1 + '' } }, false);\n                break\n            case 'refresh':\n                // props.linkTo(props.cardUrl, {\n                //     appcode:props.appcode,\n                //     pagecode:props.pagecode_card,\n                //   status:props.getUrlParam('status'),\n                //   id:props.getUrlParam('id')\n                // })\n                props.setUrlParam({\n                    appcode: props.appcode,\n                    pagecode: props.pagecode_card,\n                    status: props.getUrlParam('status'),\n                    id: props.getUrlParam('id')\n                });\n                toggleShow(this.props);\n                this.getdata(props.getUrlParam('id'), true);\n                break\n            case 'printGrp':\n                this.onPrint();\n                break;\n            case 'print':\n                this.onPrint();\n                break;\n            case 'output':\n                this.onOutput();\n                break;\n            default:\n                break\n        }\n    }\n\n    //校验\n    valid = (props, callback) => {\n        let data = {\n            pks: [props.form.getFormItemsValue(formId, pk_item).value],\n            nodeType: props.nodeType\n        }\n        ajax({\n            url: validUrl,\n            data,\n            success: (res) => {\n                callback && callback();\n            }\n        })\n    }\n\n    //新增\n    add = (props) => {\n        let pk_org = deepClone(props.form.getFormItemsValue(this.formId, 'pk_org'));\n        // Utils.clone(props.form.getFormItemsValue(this.formId,'pk_org'));\n        props.form.EmptyAllFormValue(this.formId)\n        props.cardTable.setTableData(this.tableId, { rows: [] })\n        // props.linkTo(props.cardUrl, {\n        //     appcode:props.appcode,\n        //     pagecode:props.pagecode_card,\n        //     status: 'add'\n        // })\n        props.setUrlParam({\n            appcode: props.appcode,\n            pagecode: props.pagecode_card,\n            status: 'add'\n        });\n        let date = getBusinessInfo().businessDate;\n        let grpId = getBusinessInfo().groupId;\n        let grpName = getBusinessInfo().groupName;\n        //组织节点不能赋值集团\n        if (props.nodeType == 'org' && pk_org.value == grpId) {\n            pk_org = { value: '', display: '' };\n        }\n        //集团一定是集团\n        if (props.nodeType == 'group' && pk_org != grpId) {\n            pk_org = { value: grpId, display: grpName };\n        }\n        props.form.setFormItemsValue(this.formId, { 'pk_org': { value: pk_org.value, display: pk_org.display } });\n        props.form.setFormItemsValue(this.formId, { 'effectdate': { value: date, display: date } });\n    }\n\n    //打印\n    onPrint = () => {\n\n        let allData = this.props.form.getAllFormValue(formId);\n\n        if (allData.length === 0) {\n            toast({ content: this.state.json['10140INCMG-000006'], color: 'warning' });/* 国际化处理： 无可打印数据！*/\n            return;\n        }\n\n        let pks = [];\n\n        allData.rows.forEach((item, key) => {\n            pks.push(item.values[pk_item].value);\n        });\n        print(\n            'pdf',\n            printUrl,\n            {\n                appcode: this.props.appcode,\n                funcode: this.props.printFunCode,//小应用编码\n                nodekey: this.props.printNodeKey,//模板节点编码\n                oids: pks\n            },false\n        )\n    }\n    //输出\n    onOutput = () => {\n\n        let allData = this.props.form.getAllFormValue(formId);\n        if (allData.length === 0) {\n            toast({ content: this.state.json['10140INCMG-000007'], color: 'warning' });/* 国际化处理： 无可输出的数据！*/\n            return;\n        }\n        let pks = [];\n\n        allData.rows.forEach((item, key) => {\n            pks.push(item.values[pk_item].value);\n        });\n        this.setState({\n            ids: pks\n        }, this.refs.printOutput.open());\n    }\n\n    pageInfoClick = (props, pk) => {\n\n        let data = {\n            'pk_org': cacheTools.get('pk_org'),\n            'pk': pk,\n            'pageid': props.pagecode_card\n        };\n        ajax({\n            url: queryCardUrl,\n            data: data,\n            success: (res) => {\n                if (res.data.head) {\n\n                    props.form.setAllFormValue({ [formId]: res.data.head[formId] });\n                    props.setUrlParam(pk)//动态修改地址栏中的id的值\n                }\n                if (res.data.body) {\n                    props.cardTable.setTableData(tableId, res.data.body[tableId]);\n                }\n            }\n        });\n    }\n\n\n    afterEvent = (props, moduleId, key, value, changedrows, i, s, g) => { }\n\n    tableAfterEvent = (props, moduleId, key, value, changedrows, index, record, type) => {\n        if (key == 'paymentday' && value && value != null && value != '') {\n            props.cardTable.setValByKeyAndIndex(moduleId, index, 'accountday', { value: null, display: null })\n            props.cardTable.setValByKeyAndIndex(moduleId, index, 'checkdata', { value: null, display: null })\n            props.cardTable.setValByKeyAndIndex(moduleId, index, 'effectmonth', { value: null, display: null })\n            props.cardTable.setValByKeyAndIndex(moduleId, index, 'effectaddmonth', { value: null, display: null })\n        }\n        if (key == 'checkdata' && value && value != null && value != '') {\n            props.cardTable.setValByKeyAndIndex(moduleId, index, 'paymentday', { value: null, display: null })\n            if (changedrows[0].newvalue.value != changedrows[0].oldvalue.value) {\n                props.cardTable.setValByKeyAndIndex(moduleId, index, 'accountday', { value: null, display: null })\n                props.cardTable.setValByKeyAndIndex(moduleId, index, 'effectmonth', { value: '0', display: this.state.json['10140INCMG-000008'] })/* 国际化处理： 当月生效*/\n                props.cardTable.setValByKeyAndIndex(moduleId, index, 'effectaddmonth', { value: '0', display: '0' })\n            }\n        }\n    }\n\n    tableBeforeEvent = (props, moduleId, key, value, index, record, s, line, model) => {\n\n        let status = props.getUrlParam('status');\n\n        let meta = props.meta.getMeta();\n\n        if (status != 'browse' && ['accountday', 'effectmonth', 'effectaddmonth'].includes(key)) {\n\n            let checkdata = props.cardTable.getValByKeyAndIndex(moduleId, index, 'checkdata');\n\n            if (!checkdata || checkdata.value == null || checkdata.value == '') {\n                toast({ content: this.state.json['10140INCMG-000009'], color: 'danger' });/* 国际化处理： 请先填写固定结账日！*/\n                return false;\n            }\n        }\n        if(key == 'pk_incomeperiod'){\n            let pk_incomeperiod = meta[moduleId].items.find((item) => item.attrcode == 'pk_incomeperiod');\n            pk_incomeperiod.queryCondition = function () {\n                return {\n                    pk_org:props.form.getFormItemsValue('income','pk_org').value\n                }\n            }\n        }\n\n        if(key == 'pk_rate'){\n            let pk_rate = meta[moduleId].items.find((item) => item.attrcode == 'pk_rate');\n            pk_rate.queryCondition = function () {\n                return {\n                    pk_org:props.form.getFormItemsValue('income','pk_org').value\n                }\n            }\n        }\n        \n\n        props.meta.setMeta(meta); \n        return true;\n    }\n\n    //通过单据id查询单据信息\n    getdata = (pk, isRefresh) => {\n        let data = {\n            pk,\n            pk_org: cacheTools.get('pk_org')\n        };\n        ajax({\n            url: queryCardUrl,\n            data,\n            success: (res) => {\n                if(res.data){\n                    if (res.data.head) {\n                        this.props.form.setAllFormValue({ [this.formId]: res.data.head[this.formId] });\n                        let title_code = res.data.head[this.formId].rows[0].values[titleCode].value;\n                        this.setState({ title_code });\n                    }\n                    if (res.data.body) {\n                        this.props.cardTable.setTableData(this.tableId, res.data.body[this.tableId]);\n                    }\n\n                    //查询时执行显示公式前端适配\n                    if (res.formulamsg && res.formulamsg instanceof Array && res.formulamsg.length > 0) {\n                        props.dealFormulamsg(\n                            res.formulamsg,  //参数一：返回的公式对象\n                            {                //参数二：界面使用的表格类型\n                                [this.tableId]:\"table\",\n                                [this.formId]:\"form\"\n                            }\n                        );\n                    }\n                }\n                if (isRefresh) {\n                    toast({ title: this.state.json['10140INCMG-000010'], color: 'success' });/* 国际化处理： 刷新成功！*/\n                }\n            }\n        });\n    }\n\n    //保存单据\n    saveClick = (btn) => {\n\n        //必填校验\n        if (this.props.form.isCheckNow(formId) && this.props.cardTable.checkTableRequired(tableId)) {\n\n            this.props.cardTable.filterEmptyRows(tableId,['accrate','pk_incomeperiod','pk_balatype']);\n            let CardData = this.props.createMasterChildData(this.props.pagecode_card, this.formId, this.tableId);\n            // CardData.head.head.rows[0].values.bill_code = _this.state.bill_code;\n            let url = saveUrl;//新增保存\n            if (this.props.getUrlParam('status') === 'edit') {\n                url = updateUrl;//修改保存\n            }\n            \n            //适配校验公式\n            this.props.validateToSave( CardData , ()=>{\n                ajax({\n                    url: url,\n                    data: CardData,\n                    success: (res) => {\n                        let pk_value = null\n                        if (res.success) {\n                            if (res.data) {\n                                if (res.data.head && res.data.head[this.formId]) {\n                                    this.props.form.setAllFormValue({ [this.formId]: res.data.head[this.formId] });\n                                    pk_value = res.data.head[this.formId].rows[0].values[pk_item].value\n                                }\n                                if (res.data.body && res.data.body[this.tableId]) {\n                                    this.props.cardTable.setTableData(this.tableId, res.data.body[this.tableId])\n                                }\n                            }\n                            toast({ title: this.state.json['10140INCMG-000011'], color: 'success' });/* 国际化处理： 保存成功！*/\n    \n                            if (btn == 'save') {\n    \n                                this.getdata(pk_value);\n                                // this.props.linkTo(this.props.cardUrl, {\n                                //     appcode:this.props.appcode,\n                                //     pagecode:this.props.pagecode_card,\n                                //     status: 'browse',\n                                //     id: pk_value\n                                // })\n                                this.props.setUrlParam({\n                                    appcode: this.props.appcode,\n                                    pagecode: this.props.pagecode_card,\n                                    status: 'browse',\n                                    id: pk_value\n                                });\n                            } else {\n                                //保存新增\n                                this.add(this.props);\n                                // this.props.linkTo(this.props.cardUrl, {\n                                //     appcode:this.props.appcode,\n                                //     pagecode:this.props.pagecode_card,\n                                //     status: 'add'\n                                // })\n                                this.props.setUrlParam({\n                                    appcode: this.props.appcode,\n                                    pagecode: this.props.pagecode_card,\n                                    status: 'add'\n                                });\n                            }\n                            //修改保存\n                            if (this.props.getUrlParam('status') === 'edit') {\n                                updateCache(pk_item,res.data.head[formId].rows[0].values[pk_item].value,res.data,formId,dataSource);\n                            }else{//新增保存\n                                addCache(pk_value,res.data,this.formId,dataSource);\n                            }\n                            toggleShow(this.props)\n                        }\n                    }\n                })\n            },{[tableId]:'cardTable'} , 'card' )\n            \n        }\n    }\n\n    //删除单据\n    delConfirm = () => {\n        ajax({\n            url: deleteUrl,\n            data: {\n                //列表新增保存，pk_org 没有缓存，修改成从卡片页面获取。\n                // 不修改缓存的原因是列表页面的pk_org 可能是数组，修改完后列表删除会有问题\n                pk_org: this.props.form.getFormItemsValue(this.formId, 'pk_org').value,\n                deleteinfo: [{\n                    id: this.props.getUrlParam('id'),\n                    ts: this.props.form.getFormItemsValue(this.formId, 'ts').value\n                }]\n            },\n            success: (res) => {\n                if (res) {\n                    deleteCacheById(pk_item,id,dataSource);\n\n                    this.props.pushTo(this.props.listUrl, {\n\n                        appcode: this.props.appcode,\n                        pagecode: this.props.pagecode_list,\n                        status: 'browse'\n                    });\n                }\n\n            }\n        });\n    };\n\n    modelSave = (props) => {\n        props.cardTable.closeModel(this.tableId);\n        this.saveClick();\n    }\n\n    //从缓存获取信息\n    //added by tangcht 2019.2.27\n    getDataForCache(pk, callback) {\n\t\tif(!pk) {\n\t\t\tthis.props.form.EmptyAllFormValue(this.formId)\n            this.props.cardTable.setTableData(this.tableId, {rows: []})\n        }\n        else{\n            let cardData = getCacheById(pk, dataSource);\n            if(cardData) {\n                this.props.form.setAllFormValue({ [formId]:cardData.head[formId] });\n                if(cardData.body && cardData.body[tableId]) {\n                    this.props.cardTable.setTableData(tableId, cardData.body[tableId]);\n                }\n                else {\n                    this.props.cardTable.setTableData(tableId, {rows: []})\n                }\n                this.props.setUrlParam(pk)//动态修改地址栏中的id的值\n            }\n            else {\n                this.getdata(pk)\n                this.props.setUrlParam(pk)//动态修改地址栏中的id的值\n            }\n        }\n\t\t\n\t\tif(callback && typeof callback == 'function') {\n\t\t\tcallback.call(this)\n\t\t}\n    }\n    \n    //获取列表肩部信息\n    getTableHead = () => {\n        let { button } = this.props;\n        let { createButtonApp } = button;\n        let buttons = this.props.button.getButtons();\n        let status = this.props.getUrlParam(\"status\");\n        return (\n            <div className=\"shoulder-definition-area\">\n                <div className=\"definition-icons\">\n                    {createButtonApp({\n                        area: 'definition-icons',//按钮注册中的按钮区域\n                        onButtonClick: this.buttonClick.bind(this)\n                    })}\n                    {this.props.cardTable.createBrowseIcons(this.tableId, {\n                        iconArr: ['close', 'open', 'max', 'setCol'],\n                        maxDestAreaId: 'nc-bill-card'\n                    })}\n                </div>\n            </div>\n        )\n    }\n\n    /**\n     * 返回按钮操作\n     */\n    onReturnClick() {\n        this.props.pushTo(this.props.listUrl, {\n            pagecode: this.props.pagecode_list,\n            appcode: this.props.appcode,\n            status: 'browse'\n        })\n    }\n\n    render() {\n        let { cardTable, form, button, modal, cardPagination,BillHeadInfo } = this.props;\n        const { createCardPagination } = cardPagination;\n        const {createBillHeadInfo} = BillHeadInfo;\n        let buttons = this.props.button.getButtons();\n        // buttons = buttons.sort((a,b)=>{\n        // \treturn b.btnorder - a.btnorder;\n        // });\n        let { createForm } = form;\n        let { createCardTable } = cardTable;\n        let { createButtonApp } = button;\n        let { createModal } = modal;\n        let status = this.props.getUrlParam('status');\n        return (\n        <div id='nc-bill-card'>\n            <div className='nc-bill-card'>\n                <div className=\"nc-bill-top-area\">\n                    <NCAffix>\n                        <div className='nc-bill-header-area'>\n                            {/* <div>\n                                {status == 'browse' ? <NCBackBtn onClick={this.onReturnClick.bind(this)}></NCBackBtn> : ''}\n                            </div> */}\n                            <div className='header-title-search-area'>\n                                {createBillHeadInfo({\n                                            backBtnClick: this.onReturnClick.bind(this)\n                                        }\n                                    )}\n                                <h2 className='title-search-detail'>{this.state.title }{status == 'browse' ? `：${this.state.title_code}` : ''}</h2>\n                            </div>\n                            <div className=\"header-button-area\">\n                                {createButtonApp({\n                                    area: 'header-button-area',//按钮注册中的按钮区域\n                                    onButtonClick: this.buttonClick.bind(this)\n                                })}\n                                {createCardPagination({\n                                    handlePageInfoChange: this.pageInfoClick.bind(this),\n                                    dataSource:dataSource\n                                })}\n                            </div>\n                        </div>\n                    </NCAffix>\n                    <div className=\"nc-bill-form-area\">\n                        {createForm(this.formId, {\n                            onAfterEvent: this.afterEvent.bind(this)\n                        })}\n                    </div>\n                </div>\n                <div className=\"nc-bill-bottom-area\">\n                    <div className=\"nc-bill-table-area\">\n                        {createCardTable(this.tableId, {\n                            tableHead: this.getTableHead.bind(this),\n                            modelSave: this.modelSave.bind(this),\n                            showIndex: true,\n                            onAfterEvent: this.tableAfterEvent.bind(this),\n                            onBeforeEvent: this.tableBeforeEvent.bind(this)\n                        })}\n                    </div>\n                    {createModal('delete', {\n                        title: this.state.json['10140INCMG-000012'],/* 国际化处理： 注意*/\n                        content: this.state.json['10140INCMG-000013'],/* 国际化处理： 确认删除？*/\n                        beSureBtnClick: this.delConfirm.bind(this)\n                    })}\n                    {createModal('modal', {\n                        title: this.state.json['10140INCMG-000002'],\t\t\t\t\t\t\t\t\t\t//标题/* 国际化处理： 确认删除*/\n                        content: this.state.json['10140INCMG-000014'],\t\t\t\t\t\t\t//内容/* 国际化处理： 确认删除所选数据？*/\n                        // beSureBtnClick : ()=>{\n                        // \tconsole.log('aaaaaaa')\n                        // },\t\t//确定按钮事件回调\n                        //cancelBtnClick : this.closeDelModal.bind(this),\t\t\t//取消按钮事件回调\n                        // leftBtnName : '确认',   \t\t\t\t\t\t\t\t//左侧按钮名称\n                        // rightBtnName : '关闭'   \t\t\t\t\t\t\t\t//右侧按钮名称\n                    })}\n                    <PrintOutput\n                        ref='printOutput'\n                        url={printUrl}\n                        data={{\n                            appcode: this.props.appcode,\n                            funcode: this.props.printFunCode,//小应用编码\n                            nodekey: this.props.printNodeKey,//模板节点编码\n                            oids: this.state.ids,\n                            outputType: 'output'\n                        }}\n                    />\n                </div>\n            </div>\n        </div>\n        );\n    }\n}\n\nCard = createPage({\n    billinfo:[{\n        billtype: 'card',\n        pagecode: pageId,\n        headcode: formId,\n        bodycode: tableId\n    }],\n    initTemplate: [],\n    mutiLangCode: '10140INCMG'\n})(Card);\n\n// ReactDOM.render(<Card />, document.querySelector('#app'));\n\nexport default Card;\n","//主子表列表\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { createPage, ajax, base ,toast,cacheTools,print,high,getBusinessInfo,promptBox,createPageIcon} from 'nc-lightapp-front';\nimport createUIDom from '../../../public/utils/BDCreateUIDom';\nconst {NCPopconfirm, NCIcon,NCTabs}=base;\nconst NCTabPane=NCTabs.NCTabPane;\nconst {PrintOutput} = high;\n\nconst dataSource = 'uapbd.sminfo.income.data'\nconst pageId = '10140INCMG_incomelist';        //pagecode\nconst searchId = 'searcharea';              //查询区id\nconst tableId = 'pk_group';                 //表头id\nconst oId = '1001Z01000000000NHP1';     //查询区oid\nconst appid = '0001Z010000000001PR5';   //注册按钮id\nconst linkItem = 'code';        \t\t//列表卡片跳转字段\nconst pk_item = 'pk_income';           //列表主键\nconst queryListUrl = '/nccloud/uapbd/sminfo/IncomeListQuery.do';           //通过查询区域查询url\nconst queryPageUrl = '/nccloud/uapbd/sminfo/IncomeQueryPageGridByPks.do';  //分页查询url\nconst deleteUrl = '/nccloud/uapbd/sminfo/IncomeDelete.do';                 //删除url\nconst printUrl =  '/nccloud/uapbd/sminfo/IncomePrint.do';                  //列表打印url\nconst validUrl = '/nccloud/uapbd/sminfo/IncomeValid.do';                   //权限校验\nconst tableBtnAry = [\"editline\",\"delline\"];\t\t//表格列操作按钮\nconst globalId = 'GLOBLE00000000000000';            //全局常量值\n//\n// let initTemplate =(props) =>{\n//\n// \tlet _this = this;\n//\n// }\n\nfunction modifierMeta(props, meta) {\n\n    // let businessInfo = getBusinessInfo();\n    // let pkGroup = businessInfo.groupId;\n\n\tmeta[searchId].items = meta[searchId].items.map((item, key) => {\n\t\titem.col = '3';\n        if((item.attrcode == 'pk_org')){\n\n            item.isMultiSelectedEnabled = true;\n            if(props.nodeType == 'org')\n            {\n                item.queryCondition = function () {\n                    return {\n                        AppCode:'10140INCMO',\n\t\t\t\t\t\tTreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgWithGroupSQLBuilder'\n                    }\n                }\n            }\n            else{\n                item.queryCondition = function () {\n                    return {\n                        AppCode:'10140INCMG',\n\t\t\t\t\t\tTreeRefActionExt: 'nccloud.web.refer.sqlbuilder.PrimaryOrgWithGroupSQLBuilder'\n                    }\n                }\n            }\n        }\n\t\treturn item;\n\t})\n\tmeta[tableId].pagination = true;\n\tmeta[tableId].items = meta[tableId].items.map((item, key) => {\n\t\titem.width = 150;\n\t\tif (item.attrcode == linkItem) {\n\t\t\titem.render = (text, record, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<span\n                        style={{color: '#007ace', cursor: 'pointer' }}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tlet searchVal = props.search.getAllSearchData(searchId);\n\t\t\t\t\t\t\tcacheTools.set(\"searchParams\",searchVal);\n\t\t\t\t\t\t\tcacheTools.set('preid',record[pk_item].value);\n\t\t\t\t\t\t\tcacheTools.set('pageInfo',props.table.getTablePageInfo(tableId));\n\t\t\t\t\t\t\tprops.pushTo(props.cardUrl, {\n                                appcode:props.appcode,\n                                pagecode:props.pagecode_card,\n\t\t\t\t\t\t\t\tstatus: 'browse',\n\t\t\t\t\t\t\t\tid: record[pk_item].value//列表卡片传参\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{record && record[linkItem] && record[linkItem].value}\n\t\t\t\t\t</span>\n\t\t\t\t);\n\t\t\t};\n\t\t}\n\t\treturn item;\n\t});\n\t//添加操作列\n\tmeta[tableId].items.push({\n\t\tattrcode: 'opr',\n\t\tlabel: props.MutiInit.getIntl(\"10140INCMG\") && props.MutiInit.getIntl(\"10140INCMG\").get('10140INCMG-000001'), //this.state.json['10140INCMG-000001'],/* 国际化处理： 操作*/ \n        width: 200,\n        itemtype:'customer',\n\t\tfixed: 'right',\n\t\tclassName : 'table-opr',\n\t\tvisible: true,\n\t\trender: (text, record, index) => {\n\n            // 只能修改本级数据\n            let btnArray=[];\n            if(record['pk_org'].value == globalId && props.nodeType == 'global'){\n                btnArray = ['editline', 'delline'];\n            }\n            else if(record['pk_org'].value==record['pk_group'].value && props.nodeType == 'group'){\n                btnArray = ['editline', 'delline'];\n            }\n            else if(record['pk_org'].value != record['pk_group'].value && props.nodeType == 'org'){\n                btnArray = ['editline', 'delline'];\n            }\n\n\t\t\treturn props.button.createOprationButton(\n\t\t\t\tbtnArray,\n\t\t\t\t{\n\t\t\t\t\tarea: \"table-opr-area\",\n\t\t\t\t\tbuttonLimit: 3,\n\t\t\t\t\tonButtonClick: (props, id) => tableButtonClick(props, id, text, record, index)\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t});\n\treturn meta;\n}\n\nfunction tableButtonClick(props, id, text, record, index){\n\tswitch(id){\n\n\t\tcase 'editline':\n            valid(props,record,()=> {\n                props.pushTo(props.cardUrl, {\n                    appcode: props.appcode,\n                    pagecode: props.pagecode_card,\n                    status: 'edit',\n                    id: record[pk_item].value\n                });\n            })\n\t\t\tbreak;\n\t\tcase 'delline':\n            valid(props,record,()=> {\n                ajax({\n                    url: deleteUrl,\n                    data:\n                        {\n                            pk_org: cacheTools.get('pk_org'),\n                            deleteinfo: [\n                                {\n                                    id: record[pk_item].value,\n                                    ts: record.ts.value\n                                }\n                            ]\n                        },\n                    success: (res) => {\n                        if (res.success) {\n                            toast({color: 'success', title: props.MutiInit.getIntl(\"10140INCMG\") && props.MutiInit.getIntl(\"10140INCMG\").get('10140INCMG-000015')}) //this.state.json['10140INCMG-000015'],/* 国际化处理： 删除成功！*/\n                            props.table.deleteTableRowsByIndex(tableId, index);\n                            let tableData = props.table.getAllTableData(tableId).rows;\n                            let selectData = props.table.getCheckedRows(tableId);\n                            if(selectData && selectData.length>0){\n                                //行删除之后，如果没有勾选的数据，那么删除按钮置灰\n                                props.button.setButtonDisabled(['delete'], false);\n                            }else{\n                                //行删除之后，如果没有勾选的数据，那么删除按钮置灰\n                                props.button.setButtonDisabled(['delete'], true);\n                            }\n                            if(tableData && tableData.length>0){\n                                props.button.setButtonDisabled(['printGrp', 'output'], false);\n                            }else{\n                                props.button.setButtonDisabled(['printGrp', 'output'], true);\n                            }\n                        }\n                    }\n                });\n            })\n\t\t\tbreak;\n\t\tdefault:\n            console.log(id, index);\n            break;\n\n\t}\n}\n\n//权限校验\nfunction valid(props,record,callback){\n\n    let pks = [];\n\n    if(record){\n\n        pks.push(record[pk_item].value);\n    }\n    else{\n\n        let rows = props.table.getCheckedRows(tableId);\n\n        if(rows.length === 0){\n            toast({content: props.MutiInit.getIntl(\"10140INCMG\") && props.MutiInit.getIntl(\"10140INCMG\").get('10140INCMG-000016'),color:'warning'});/* 国际化处理： 勾选操作数据！*/\n            return;\n        }\n\n        rows.forEach((item,key)=>{\n            pks.push(item.data.values[pk_item].value);\n        });\n    }\n\n    let data = {\n        pks,\n        nodeType:props.nodeType\n    }\n    ajax({\n        url:validUrl,\n        data,\n        success:(res)=>{\n            callback && callback();\n        }\n    })\n}\n\nclass List extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.searchId = searchId;\n\t\tthis.tableId = tableId;\n\t\tthis.state = {\n                title:'',\n\t\t\t\tjson: {}\n\t\t\t};\n\n      this.initTemplate(props);\n\t}\n\t\n\t  //初始化单据模板\n    initTemplate = (props,callback) => {\n        let that = this;\n        createUIDom(props)(\n            {\n                pagecode:props.pagecode_list//页面id\n            // appcode:props.config.appcode//注册按钮的id\n            },\n            {\n                moduleId: '10140INCMG',domainName: 'uapbd'\n            },\n            (data, langData)=>{ //(data, langData)\n                if(langData){\n                    this.state.json = langData;\n                    if(props.nodeType == 'group'){\n\t\t\t\t\t\tthat.state.title = this.state.json['10140INCMG-000000']//this.state.json['10140CSCLG-000000'],/* 国际化处理： 收款协议-集团*/\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthat.state.title= this.state.json['10140INCMG-000025']//this.state.json['10140CSCLG-000000'],/* 国际化处理： 收款协议-业务单元*/\n\t\t\t\t\t}\n                }\n                if (data) {\n\n                    if (data.button) {\n                        let button = data.button;\n                        // setTimeout(() =>{\n                            \n                        // });\n                        props.button.setButtons(button);\n                        props.button.setButtonDisabled(['delete', 'printGrp', 'output'], true);\n                        props.button.setPopContent('delline','确定要删除吗？') /* 设置操作列上删除按钮的弹窗提示 */\n                    }\n                    if (data.template) {\n                        let meta = data.template;\n                        meta = modifierMeta(props, meta)\n                        props.meta.setMeta(meta);\n                        let hasSearched = cacheTools.get(\"hasSearched\");\n                        let searchVal =cacheTools.get(\"searchParams\");\n                        if(hasSearched && hasSearched === 1){//hasSearched 为1表示有过查询，从缓存获取查询模板条件\n\n                            if(searchVal && searchVal != false){\n                                props.search.setSearchValue(searchId,searchVal.conditions);\n                            }\n\n                            //获取查询模板信息\n                            let queryInfo = this.props.search.getQueryInfo(this.searchId);\n                            let OID = queryInfo.oid;\n\n                            let data = {\n                                querycondition:searchVal,\n                                // custcondition:{\n                                //     conditions:[{\n                                //         field:'pk_group',\n                                //         value:{\n                                //             firstvalue:null\n                                //         },\n                                //         oprtype:'='\n                                //     }]\n                                // },\n                                custcondition:{},\n                                pagecode:props.pagecode_list,\n                                nodeType:props.nodeType,\n                                queryAreaCode:searchId,\n                                pageInfo: cacheTools.get('pageInfo')?cacheTools.get('pageInfo'):props.table.getTablePageInfo(tableId),\n                                querytype:'tree',\n                                oid:OID,//cacheTools.get('orgunit_searchoid')\n                            };\n                            // let data = {\n                            //     conditions: searchVal==null?null:searchVal.conditions,\n                            //     pageInfo: cacheTools.get('pageInfo')?cacheTools.get('pageInfo'):props.table.getTablePageInfo(tableId),\n                            //     pagecode: props.pagecode_list,\n                            //     queryAreaCode: searchId,  //查询区编码\n                            //     oid: OID,  //查询模板id，手工添加在界面模板json中，放在查询区，后期会修改\n                            //     queryType:'tree',\n                            //     nodeType:props.nodeType\n                            // };\n\n                            ajax({\n                                url: queryListUrl,\n                                data,\n                                success: (res) => {\n                                    if(res.data){\n                                        props.table.setAllTableData(tableId, res.data[tableId]);\n                                        props.button.setButtonDisabled(['printGrp','output'], false);\n                                    }else{\n                                        props.button.setButtonDisabled(['printGrp','output'], true);\n                                        toast({content:this.state.json['10140INCMG-000019'],color:\"warning\"});/* 国际化处理： 无数据！*/\n                                    }\n                                },\n                                error : (res)=>{\n                                    console.log(res.message);\n                                }\n                            });\n                        }\n                        else{\n                            if(props.nodeType == 'group'){\n                                let businessInfo = getBusinessInfo();\n                                let pkGroup = businessInfo==null?'pkGroup':businessInfo.groupId;\n                                props.search.setSearchValByField(searchId, 'pk_org',{value: pkGroup,display:this.state.json['10140INCMG-000020']})    /* 国际化处理： 当前集团*/\n                            }\n                        }\n                    }\n                    callback && callback();\n                }\n            }\n        )\n\t\t}\n\n\tcomponentDidMount() {\n        // UE 要求打印下拉只有输出，确认规范后按钮注册再改。！！！\n        this.props.button.setButtonsVisible({\n            'print':false\n        });\n\t}\n\n    buttonClick(props, id) {\n        switch (id) {\n            case 'add':\n                props.pushTo(props.cardUrl,{\n                    appcode:props.appcode,\n                    pagecode:props.pagecode_card,\n                    status:'add'\n                })\n                cacheTools.remove('preid');\n                \n                break;\n            // case 'editline':\n            //     props.linkTo(props.cardUrl,{\n            //         appcode:props.appcode,\n            //         pagecode:props.pagecode_card,\n\t\t\t\t// \tstatus:'edit',\n\t\t\t\t// \tid: props.record[pk_item].value\n            //     })\n            //     break;\n            case 'refresh':\n                this.refreshAction(props);\n                break;\n            case 'delete':\n                valid(props,null,()=>{\n                    promptBox({color:\"warning\",\n                    title: this.state.json['10140INCMG-000012'],/* 国际化处理： 注意*/\n                    hasCloseBtn:false,\n                    content: this.state.json['10140INCMG-000013'],/* 国际化处理： 确认删除？*/\n                    beSureBtnClick: this.deleteAction.bind(this)\n                })})\n                break;\n            case 'printGrp':\n                this.onPrint();\n                break;\n            case 'print':\n                this.onPrint();\n                break;\n            case 'output':\n                this.onOutput();\n                break;\n            default:\n                break;\n        }\n    }\n\n    // 行选中事件\n    onSelected = () => {\n        let rows = this.props.table.getCheckedRows(tableId);\n        if (rows && rows.length > 0) {\n            //this.props.button.setButtonDisabled(['delete', 'printGrp', 'output'], false);\n            //打印使用都能使用列表态\n            this.props.button.setButtonDisabled(['delete'], false);\n        } else {\n            //this.props.button.setButtonDisabled(['delete', 'printGrp', 'output'], true);\n            this.props.button.setButtonDisabled(['delete'], true);\n        }\n        this.setState(this.state);\n    }\n\n    //打印\n    onPrint=()=>{\n\n        let allData = this.props.table.getAllTableData(tableId);\n\n        if(allData.length === 0){\n            toast({content:this.state.json['10140INCMG-000006'],color:'warning'});/* 国际化处理： 无可打印数据！*/\n            return;\n        }\n\n        let pks = [];\n\n        allData.rows.forEach((item,key)=>{\n            pks.push(item.values[pk_item].value);\n        });\n        print(\n            'pdf',\n            printUrl,\n            {\n                appcode:this.props.appcode,\n                funcode:this.props.printFunCode,//功能节点编码\n                nodekey:this.props.printNodeKey,//模板节点编码\n                oids:pks\n            },false\n        )\n    }\n    //输出\n    onOutput=()=>{\n\n        let allData = this.props.table.getAllTableData(tableId);\n        if(allData.length === 0){\n            toast({content:this.state.json['10140INCMG-000007'],color:'warning'});/* 国际化处理： 无可输出的数据！*/\n            return;\n        }\n        let pks = [];\n\n        allData.rows.forEach((item,key)=>{\n            pks.push(item.values[pk_item].value);\n        });\n        this.setState({\n            ids : pks\n        },this.refs.printOutput.open());\n    }\n\n\tdoubleClick = (record, index, e)=>{\n\t\t\n            \n        console.log(this.state.json['10140INCMG-000021']);/* 国际化处理： 双击*/\n        console.log(this)\n        let searchVal = this.props.search.getAllSearchData(searchId);\n\t\tcacheTools.set(\"searchParams\", searchVal);\n\t\tcacheTools.get(\"searchParams\");\n        cacheTools.set('preid',this.props.getUrlParam('id'));\n        this.props.pushTo(this.props.cardUrl, {\n            appcode:this.props.appcode,\n            pagecode:this.props.pagecode_card,\n            status: 'browse',\n            id: record[pk_item].value\n        });\n\t}\n\n    deleteAction = () =>{\n        let data = this.props.table.getCheckedRows(tableId);\n        let that = this;\n        let params = {\n\t\t\tpk_org: cacheTools.get('pk_org'),\n\t\t\tdeleteinfo:data.map((v)=>{\n            let id = v.data.values[pk_item].value;\n            let ts = v.data.values.ts.value;\n            return {\n                id,ts\n            }\n\t\t\t})\n\t\t}\n        console.log(params)\n        ajax({\n            url: deleteUrl,\n            data: params,\n            success: (res) => {\n                toast({color:\"success\",title:that.state.json['10140INCMG-000015']});/* 国际化处理： 删除成功！*/\n                that.props.button.setButtonDisabled(['delete'], true);\n                that.refreshAction(that.props);\n            }\n        });\n    }\n\n    refreshAction =(props)=>{\n        let searchVal = props.search.getAllSearchData(searchId);\n        console.log(searchVal);\n        if(searchVal != false){\n\n            //获取查询模板信息\n            let queryInfo = this.props.search.getQueryInfo(this.searchId);\n            let OID = queryInfo.oid;\n\n            let data = {\n                querycondition:searchVal,\n                // custcondition:{\n                //     conditions:[{\n                //         field:'pk_group',\n                //         value:{\n                //             firstvalue:null\n                //         },\n                //         oprtype:'='\n                //     }]\n                // },\n                custcondition:{},\n                pagecode:props.pagecode_list,\n                nodeType:props.nodeType,\n                queryAreaCode:searchId,\n                pageInfo: props.table.getTablePageInfo(tableId),\n                querytype:'tree',\n                oid:OID,//cacheTools.get('orgunit_searchoid')\n            };\n\n            // let data = {\n            //     conditions: searchVal==null?null:searchVal.conditions,\n\t\t\t// \tpageInfo: props.table.getTablePageInfo(tableId),\n            //     pagecode: props.pagecode_list,\n            //     queryAreaCode:searchId,  //查询区编码\n            //     oid:OID,  //查询模板id，手工添加在界面模板json中，放在查询区，后期会修改\n            //     queryType:'tree',\n            //     nodeType:props.nodeType\n            // };\n    \n            ajax({\n                url: queryListUrl,\n                data,\n                success: (res) => {\n                    console.log(res);\n                    if(res.data){\n                        props.table.setAllTableData(tableId, res.data[tableId]);\n                        props.button.setButtonDisabled(['printGrp','output'], false);\n                        toast({title:this.state.json['10140INCMG-000010'],color:\"success\"});/* 国际化处理： 刷新成功！*/\n                       \n                    }else{\n                        props.table.setAllTableData(tableId, {rows:[]});\n                        props.button.setButtonDisabled(['printGrp','output'], true);\n                        toast({title:this.state.json['10140INCMG-000010'],color:\"success\"});/* 国际化处理： 刷新成功！*/\n                    }\n\n                    //查询时执行显示公式前端适配\n                    if (res.formulamsg && res.formulamsg instanceof Array && res.formulamsg.length > 0) {\n                        props.dealFormulamsg(\n                            res.formulamsg,  //参数一：返回的公式对象\n                            {                //参数二：界面使用的表格类型\n                                [tableId]:\"table\"\n                            }\n                        );\n                    }\n\n                    props.button.setButtonDisabled(['delete'], true);\n                },\n                error : (res)=>{\n                    console.log(res.message);\n                }\n            });\n        }\n    }\n\n    pageInfoClick = (props, config, pks)=>{\n        \n        let pageInfo = props.table.getTablePageInfo(this.tableId);\n        let searchVal = props.search.getAllSearchData(searchId);\n\t   \n\t\tcacheTools.set('pageInfo',props.table.getTablePageInfo(tableId));\n\t\t\n        let data = {\n\t\t\t'pk_org':cacheTools.get('pk_org'),\n            'allpks': pks,\n            'pageid': props.pagecode_list\n        };\n        //得到数据渲染到页面\n        let that = this;\n        ajax({\n            url: queryPageUrl,\n            data: data,\n            success: function(res) {\n                let { success, data } = res;\n                if (success) {\n                    if (data) {\n                        props.table.setAllTableData(tableId, data[tableId]);\n                    } else {\n                        props.table.setAllTableData(tableId, { rows: [] });\n                    }\n                }\n            }\n        });\n    }\n\n    clickSearchBtn = (props,searchVal)=>{\n            \n\t\tconsole.log(searchVal);\n\t\t\n\t\tsearchVal.conditions.map((cond)=>{\n\t\t\tif(cond.field == 'pk_org'){\n\n                 //集团节点初始化时会在查询区默认为当前集团，但是没初始化好时，getBusinessInfo 获取不到，所以pk_org赋值为‘pkGroup’，此处再取一次\n                if(props.nodeType == 'group' && cond.value.firstvalue == 'pkGroup'){\n                    let businessInfo = getBusinessInfo();\n                    let pkGroup = businessInfo==null?null:businessInfo.groupId;\n                    cond.value.firstvalue = pkGroup;\n                }\n\n\t\t\t\tcacheTools.set('pk_org',cond.value.firstvalue);\n\t\t\t}\n\t\t})\n\t\tcacheTools.set(\"hasSearched\",1);\n\t\tcacheTools.set(\"searchParams\",searchVal);\n\t\tcacheTools.set('pageInfo',props.table.getTablePageInfo(tableId));\n        let metaData = props.meta.getMeta();\n\n        //获取查询模板信息\n        let queryInfo = this.props.search.getQueryInfo(this.searchId);\n        let OID = queryInfo.oid;\n\n        // let conditions = [];\n        // let custcondition = {};\n\t\t// conditions.push({display:'',field:'nodetype',oprtype:'like',value:{firstvalue:props.nodeType,secondvalue:null}});\n\t\t// custcondition = {conditions,logic:'or'};\n\n        let data = {\n            querycondition:searchVal,\n            // custcondition:{\n            //     conditions:[{\n            //         field:'pk_group',\n            //         value:{\n            //             firstvalue:null\n            //         },\n            //         oprtype:'='\n            //     }]\n            // },\n            custcondition:{},\n            pagecode:props.pagecode_list,\n            nodeType:props.nodeType,\n            queryAreaCode:searchId,\n            pageInfo: props.table.getTablePageInfo(tableId),\n            querytype:'tree',\n            oid:OID,//cacheTools.get('orgunit_searchoid')\n        };\n\n        // let data = {\n        //     conditions: searchVal==null?null:searchVal.conditions,\n\t\t// \tpageInfo: props.table.getTablePageInfo(tableId),\n        //     pagecode: props.pagecode_list,\n        //     queryAreaCode:searchId,  //查询区编码\n        //     oid:OID,  //查询模板id，手工添加在界面模板json中，放在查询区，后期会修改\n        //     queryType:'tree',\n        //     nodeType:props.nodeType\n        // };\n\n        ajax({\n            url: queryListUrl,\n            data,\n            success: (res) => {\n                console.log(res);\n                if(res.data){\n                    props.table.setAllTableData(this.tableId, res.data[tableId]);\n                    props.button.setButtonDisabled(['printGrp', 'output'], false);\n                    toast({content:this.state.json['10140INCMG-000022']+res.data[tableId].rows.length+this.state.json['10140INCMG-000023'],color:\"success\"});/* 国际化处理： 查询成功，共,条*/\n                }else{\n                    props.table.setAllTableData(this.tableId, {rows:[]});\n                    props.button.setButtonDisabled(['printGrp', 'output'], true);\n                    toast({content:this.state.json['10140INCMG-000024'],color:\"warning\"});/* 国际化处理： 未查询出符合条件的数据！*/\n                }\n            },\n            error : (res)=>{\n                console.log(res.message);\n            }\n        });\n    }\n\n\trender() {\n\t\tlet { table, button, search,modal } = this.props;\n\t\tlet {createModal} = modal;\n\t\tlet buttons  = this.props.button.getButtons();\n\t\t// buttons = buttons.sort((a,b)=>{\n\t\t// \treturn b.btnorder - a.btnorder;\n\t\t// });\n\t\tlet { createSimpleTable } = table;\n\t\tlet { NCCreateSearch } = search;\n\t\tlet { createButtonApp , getButtons } = button;\n\t\treturn (<div className=\"nc-bill-list\">\n\t\t\t\t<div className='nc-bill-header-area'>\n\t\t\t\t\t<div className='header-title-search-area'>\n                        {createPageIcon ()}\n\t\t\t\t\t<h2 className='title-search-detail'>{this.state.title}</h2></div>\n\t\t\t\t\t<div className=\"header-button-area\">\n\t\t\t\t\t\t{createButtonApp({\n\t\t\t\t\t\t\tarea: 'header-button-area',\n\t\t\t\t\t\t\tbuttonLimit: 3, \n\t\t\t\t\t\t\tonButtonClick: this.buttonClick.bind(this), \n\t\t\t\t\t\t\tpopContainer: document.querySelector('.header-button-area')\n\t\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"nc-bill-search-area\">\n\t\t\t\t\t{NCCreateSearch(this.searchId, {\n\t\t\t\t\t\tclickSearchBtn: this.clickSearchBtn.bind(this)\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t{/* <div style={{height:'10px'}}></div> */}\n\t\t\t\t<div className=\"nc-bill-table-area\">\n\t\t\t\t\t{createSimpleTable(this.tableId, {\n\t\t\t\t\t\thandlePageInfoChange: this.pageInfoClick,\n                        tableModelConfirm: this.tableModelConfirm,\n                        dataSource:dataSource,\n                        pkname: pk_item,\n\t\t\t\t\t\tshowIndex:true,\n\t\t\t\t\t\tshowCheck:true,\n                        onRowDoubleClick: this.doubleClick.bind(this),\n                        onSelected: this.onSelected.bind(this),\n                        onSelectedAll: this.onSelected.bind(this)\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t{createModal('delete', {\n\t\t\t\t\t\t\ttitle: this.state.json['10140INCMG-000012'],/* 国际化处理： 注意*/\n\t\t\t\t\t\t\tcontent: this.state.json['10140INCMG-000013'],/* 国际化处理： 确认删除？*/\n\t\t\t\t\t\t\tbeSureBtnClick: this.deleteAction.bind(this)\n\t\t\t\t})}\n                <PrintOutput\n                    ref='printOutput'\n                    url={printUrl}\n                    data={{\n                        appcode:this.props.appcode,\n                        funcode:this.props.printFunCode,//功能节点编码\n                        nodekey:this.props.printNodeKey,//模板节点编码\n                        oids : this.state.ids,\n                        outputType : 'output'\n                    }}\n                />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nList = createPage({\n    billinfo:[{\n        billtype: 'grid',\n        pagecode: pageId,\n        headcode: tableId\n    }],\n\tinitTemplate: [],\n\tmutiLangCode: '10140INCMG'\n})(List);\n\n// ReactDOM.render(<List />, document.querySelector('#app'));\nexport default List;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Card from '../../income_base/card';\r\n\r\nlet config = {\r\n    nodeName: '收款协议-业务单元',\r\n    nodeType: 'org',\r\n    pagecode_list:'10140INCMG_incomelist',\r\n    pagecode_card:'10140INCMG_incomecard',\r\n    appcode: '10140INCMO',\r\n    appid:'0001Z010000000001PR5',\r\n    printFunCode:'10140INCMG',      //有打印模板的小应用编码\r\n    printNodeKey:'incomecard',      //模板节点标识\r\n    // cardUrl:'/uapbd/sminfo/income_org/card/index.html',\r\n    // listUrl:'/uapbd/sminfo/income_org/list/index.html'\r\n    //10140PAYMO 业务单元未注册\r\n    listUrl:'/list',\r\n    cardUrl:'/card'\r\n}\r\n\r\nclass Cardgrp extends Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        return(\r\n            <div>\r\n                <Card {...config}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Cardgrp;\r\n// ReactDOM.render(<Card {...config}/>, document.querySelector('#app'));","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport List from '../../income_base/list';\r\n\r\nlet config = {\r\n    nodeName: '收款协议-业务单元',\r\n    nodeType: 'org',\r\n    pagecode_list:'10140INCMG_incomelist',\r\n    pagecode_card:'10140INCMG_incomecard',\r\n    appcode: '10140INCMO',\r\n    appid:'0001Z010000000001PR5',\r\n    printFunCode:'10140INCMG',      //有打印模板的小应用编码\r\n    printNodeKey:'incomelist',      //模板节点标识\r\n    // cardUrl:'/uapbd/sminfo/income_org/card/index.html',\r\n    // listUrl:'/uapbd/sminfo/income_org/list/index.html'\r\n    //10140PAYMO 业务单元未注册\r\n    listUrl:'/list',\r\n    cardUrl:'/card'\r\n}\r\n\r\nclass Listgrp extends Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        debugger\r\n    }\r\n    render(){\r\n        return(\r\n            <div>\r\n                <List {...config}/>    \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Listgrp;\r\n// ReactDOM.render(<List {...config}/>, document.querySelector('#app'));","import {RenderRouter} from 'nc-lightapp-front';\r\nimport routes from './router';\r\n    (function main(routers,id){\r\n    RenderRouter(routers,id);\r\n    })(routes,\"app\")","import {asyncComponent} from 'nc-lightapp-front';\r\nimport Listgrp from '../list';\r\nconst  Cardgrp = asyncComponent(()=>import(/* webpackChunkName: \"uapbd/sminfo/payment_org/card/Cardgrp\" *//*webpackMode:\"eager\"*/'../card'));\r\nconst routes = [\r\n    {\r\n        path:'/',\r\n        component:Listgrp,\r\n        exact:true\r\n    },\r\n    {\r\n        path:'/list',\r\n        component:Listgrp\r\n    },\r\n    {\r\n        path:'/card',\r\n        component:Cardgrp\r\n    }\r\n    ]\r\nexport default routes;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;"],"sourceRoot":""}