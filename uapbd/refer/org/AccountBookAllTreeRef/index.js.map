{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"nc-lightapp-front\"","webpack://[name]/./src/uapbd/refer/org/AccountBookAllTreeRef/index.js","webpack://[name]/external {\"root\":\"React\",\"var\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__4__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","props","arguments","length","undefined","conf","refName","placeholder","rootNode","refname","refpk","refCode","queryTreeUrl","isMultiSelectedEnabled","refType","isTreelazyLoad","treeConfig","code","_extends","treeid","_react2","default","createElement","Ref","_react","_ncLightappFront","PopRefer","high","Refer","Radio","base","NCRadio","NCTree","NCMenu","NCDropdown","NCButton","NCFormControl","RadioGroup","NCRadioGroup","ReferTree","NCTreeNode","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","state","datas","Component","data","setState","nextProps","_props","otherProps","_objectWithoutProperties","loop","map","item","children","title","nodeData","nodecode","nodetitle","renderTitle","isLeaf","treeNodeData","defaultProps","defaultExpandAll","_this3","_this2","onTreeTypeChange","treetype","loadTreeData","getParam","then","setTreeData","queryCondition","_typeof","disabledDataShow","textValue","pageInfo","pageSize","pageIndex","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","param","wrap","_context","prev","next","Promise","resolve","loading","_this2$state","_this2$props","currentLevel","referVal","isCacheable","ajax","url","success","res","Error","error","message","datarows","forEach","e","nodeid","newData","rows","toast","color","content","abrupt","sent","stop","_x2","apply","target","parentNode","cb","_this2$setState","expandedKeys","_display","pid","_defineProperty","renderPopoverLeft","_this2$state2","selectedKeys","isSearch","selectedValues","treeData","_this2$props2","onlyLeafCanSelect","loopNode","nodes","handler","node","laybtns","maxlaynumber","nodenumber","parseInt","laynumber","push","Item","expandLay","createNumberBtns","onMenuSelect","domEvent","layno","type","onChange","onSearch","trigger","overlay","onSelect","NCSubMenu","animation","colors","style","width","selectedValue","checkStrictly","checkable","onTreeNodeSelectWapper","onExpand","onTreeNodeExpand","onCheck","onTreeNodeCheckWapper","checkedKeys","concat","_toConsumableArray","keys","autoExpandParent","onDoubleClick","selected","_ref2","selectedNodes","event","_len","rest","Array","_key","onTreeNodeSelect","checked","_ref3","checkedNodes"],"mappings":"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","file":"uapbd/refer/org/AccountBookAllTreeRef/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"nc-lightapp-front\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uapbd/refer/org/AccountBookAllTreeRef/index\"] = factory(require(\"nc-lightapp-front\"), require(\"react\"));\n\telse\n\t\troot[\"uapbd/refer/org/AccountBookAllTreeRef/index\"] = factory(root[\"nc-lightapp-front\"], root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 349);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import React, { Component } from 'react';\nimport { base, high,ajax ,toast} from 'nc-lightapp-front';\n\nconst { PopRefer } = high.Refer, // 引入PopRefer类\n      { NCRadio: Radio ,NCTree, NCMenu, NCDropdown,NCButton, NCFormControl} = base,\n      { NCRadioGroup: RadioGroup } = Radio;\nconst TreeNode = NCTree.NCTreeNode;\n\nclass ReferTree extends Component {\n\n\tstatic defaultProps = {\n\t\tdefaultExpandAll: false\n    };\n    \n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdatas: []\n\t\t};\n\t}\n\tcomponentWillMount() {\n\t\tthis.state.datas = this.props.data;\n\t\tthis.setState(this.state);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.state.datas = nextProps.data;\n\t\tthis.setState(this.state);\n\t}\n\trender() {\n\t\tvar renderTitle = (item) => {\n\t\t\treturn item.refpk == 'root' ? item.refname :  item.nodeData.nodecode + ' ' + item.nodeData.nodetitle;\n\t\t}\n\t\tconst { data, ...otherProps } = this.props;\n\t\tconst loop = (datas) => datas.map((item) => {\n\t\t\tvar children = item.children || [];\n\t\t\tdebugger;\n            return (<NCTree.NCTreeNode title={renderTitle(item)} key={item.refpk} isLeaf={children.length == 0}  treeNodeData={item.nodeData|| {}} nodeData={item.nodeData|| {}} >{loop(children)}</NCTree.NCTreeNode>)\n        });\n\t\treturn (\n\t\t\t<NCTree{...otherProps}>{loop(this.state.datas)}</NCTree>\n\t\t);\n\t}\n}\n\nclass Ref extends PopRefer { // 继承PopRefer类\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...this.state, // 继承state\n            treetype: 'type'\n        };\n    }\n\n    onTreeTypeChange = (value) =>{\n\t\tthis.state.treetype = value;\n\t\tthis.setState(this.state, () => {\n\t\t\tthis.loadTreeData(this.getParam()).then((data) => {\n\t\t\t\tvar rootTitle = value === 'type' ? '账簿类型': '主账簿'\n\t\t\t\tvar root = {\n\t\t\t\t\trefname: rootTitle,\n\t\t\t\t\trefpk: 'root'\n\t\t\t\t};\n                this.setTreeData('treeData', root, data);\n            });\n\n\t\t});\n    };\n    getParam = (param = {}) => {\n\t\tvar { queryCondition } = this.props,\n\t\tqueryCondition = queryCondition ? typeof queryCondition === 'function' ? queryCondition(): typeof queryCondition === 'object' ? queryCondition : {}: {};\n\t\treturn {\n            disabledDataShow: false,\n\t\t\tqueryCondition: {...queryCondition, treetype: this.state.treetype, textValue: this.state.textValue, disabledDataShow:false},\n\t\t\tpageInfo:{pageSize: 10, pageIndex: 1} //放置报错\n\t\t};\n    };\n\n\tloadTreeData = async (param) => {\n\t\treturn await new Promise((resolve) => {\n\t\t\tthis.setState({loading: true},() => {\n\t\t\t\tlet { currentLevel, referVal } = this.state;\n\t\t\t\tlet { queryTreeUrl, queryCondition, isCacheable } = this.props;\n\t\t\t\tajax({\n\t\t\t\t\turl: queryTreeUrl,\n\t\t\t\t\tdata: param,\n\t\t\t\t\tloading: false,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthis.setState({loading: false}, () =>{\n\t\t\t\t\t\t\tif (!res.success) {\n\t\t\t\t\t\t\t\tthrow new Error(res.error.message);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tres.data.datarows.forEach((e) => {\n\t\t\t\t\t\t\t\te.nodeData.refpk = e.nodeData.nodeid;\n\t\t\t\t\t\t\t\te.nodeData.refname = e.nodeData.nodetitle\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tvar newData = { //满足平台的格式\n\t\t\t\t\t\t\t\trows: res.data.datarows \n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tresolve(newData);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\terror: (e) => {\n\t\t\t\t\t\ttoast({ color: 'danger', content: e.message });\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tloading: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthrow new Error(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n    onTreeNodeSelectWapper(selectedKeys, { selected, selectedNodes, node, event }, ...rest){\n        if(this.state.treetype == 'table' && node.props.treeNodeData.pid == 'root')\n            return;\n        this.onTreeNodeSelect(selectedKeys, { selected, selectedNodes, node, event },  ...rest);\n       \n    };z\n\n    onTreeNodeCheckWapper (checkedKeys, { checked, checkedNodes, node, event }){\n        if(this.state.treetype == 'table' && node.props.treeNodeData.pid == 'root')\n        return;\n        this.onTreeNodeCheckWapper(checkedKeys, { checked, checkedNodes, node, event });\n    };\n    setTreeData = (target, parentNode, data, cb) => {\n\t\tlet { expandedKeys } = this.state;\n\t\tdata.rows.forEach((e) => {\n\t\t\te._display = e.title;\n\t\t\te.pid = e.pid || rootNode.refpk;\n\t\t});\n\t\tthis.setState({\n\t\t\t//[target]: this.state[target],\n\t\t\t[target]: data.rows || [],\n\t\t\texpandedKeys: []\n\t\t},() => {\n\t\t\t\ttypeof cb === 'function' && cb();\n\t\t});\n\t};\n\n\t\n    // 复写原型方法：渲染弹出层左侧\n\trenderPopoverLeft = () => {\n\t\tlet { isSearch, selectedKeys, expandedKeys, selectedValues, treeData } = this.state;\n\t\tconst { refType, isMultiSelectedEnabled, isTreelazyLoad, rootNode, onlyLeafCanSelect } = this.props;\n\t\t\n\t\t //树表state\n\t\t var loopNode = (nodes, handler) => {\n            nodes.forEach( node => {\n                handler && handler(node, node.children || []);\n                loopNode(node.children || [], handler);\n            });\n\t\t};\n\t\t\n\t\tvar laybtns = [],\n\t\t\tcreateNumberBtns = (nodes) => { //获取树节点层级号数组\n\t\t\tvar maxlaynumber = 1, i, btns = [],\n\t\t\t\thander = (node, children) =>{ \n\t\t\t\t\tvar nodenumber = parseInt(node.nodeData ? node.nodeData.laynumber : 0);\n\t\t\t\t\tmaxlaynumber = nodenumber <= maxlaynumber ? maxlaynumber: nodenumber;\n\t\t\t\t};\n\t\t\t\tloopNode(nodes, hander);\n\t\t\t\tfor(i = 0 ; i <= maxlaynumber; i++ ){\n\t\t\t\t\tlaybtns.push(<NCMenu.Item key={i} expandLay={true}>{i}层</NCMenu.Item> );\n\t\t\t\t}\n\t\t};\n\t\tcreateNumberBtns(treeData || []);\n\n\t\tvar onMenuSelect = (domEvent, item, key) => {\n\t\t\tif(domEvent.key == 'expandAll'){\n\t\t\t\tvar key = [],\n\t\t\t\t\tkeyHander = (node, children) =>{ \n\t\t\t\t\t\tkey.push(node.key);\n\t\t\t\t\t};\n\t\t\t\tloopNode(treeData, keyHander);\n\t\t\t\tthis.state.expandedKeys = key;\n\t\t\t\tthis.setState(this.state);\n\t\t\t}\n\t\t\tif(domEvent.key == 'unexpandAll'){\n\t\t\t\tthis.state.expandedKeys = [];\n\t\t\t\tthis.setState(this.state);\n\t\t\t}\n\t\t\tif(domEvent.item.props.expandLay){\n\t\t\t\tvar key = [],  layno = domEvent.key,\n\t\t\t\t\tkeyHander = (node, children) =>{ \n\t\t\t\t\t\tvar nodenumber = parseInt(node.nodeData ? node.nodeData.laynumber : 0);\n\t\t\t\t\t\tif(nodenumber <= layno){\n\t\t\t\t\t\t\tkey.push(node.key);\n\t\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tloopNode(treeData, keyHander);\n\t\t\t\tthis.state.expandedKeys = key;\n\t\t\t\tthis.setState(this.state);\n\t\t\t}\n\t\t};\n\n\t\tvar createMore = () => {\n\t\t\treturn (<NCMenu onSelect={onMenuSelect}>\n\t\t\t\t<NCMenu.Item key=\"expandAll\">展开所有</NCMenu.Item>\n\t\t\t\t<NCMenu.Item key=\"unexpandAll\">闭合所有</NCMenu.Item>\n\t\t\t\t<NCMenu.NCSubMenu key=\"expandLay\" title=\"展开层级\">\n\t\t\t\t\t{laybtns}\n\t\t\t\t</NCMenu.NCSubMenu>\n\t\t\t</NCMenu>);\n\t\t};\n\n\t\t\n\n\t\treturn (\n\n            <div>\n\t\t\t\t<div><NCFormControl type='search'\n\t\t\t\t\tvalue={this.state.textValue} \n\t\t\t\t\tonChange={\n\t\t\t\t\t\t(value) => {\n\t\t\t\t\t\t\tthis.state.textValue = value;\n\t\t\t\t\t\t\tthis.setState(this.state);\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\tonSearch={\n\t\t\t\t\t\t() =>{\n\t\t\t\t\t\t\tthis.onTreeTypeChange(this.state.treetype);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t/><NCDropdown trigger={['click']} overlay={createMore()} animation=\"slide-up\"><NCButton colors='primary' style={{ width: 50 }}>更多</NCButton></NCDropdown></div>\n\t\t\t\t<div>\n\t\t\t\t\t<RadioGroup name=\"booktype\" selectedValue={this.state.treetype} onChange={this.onTreeTypeChange.bind(this)}>\n                \t\t<Radio value=\"type\">账簿类型</Radio>\n                \t\t<Radio value=\"main\">主账簿</Radio>\n            \t\t</RadioGroup>\n\t\t\t\t</div>\n            <ReferTree\n\t\t\t\tcheckStrictly={true}\n\t\t\t\tcheckable={refType === 'tree' && isMultiSelectedEnabled}\n\t\t\t\tdata={treeData}\n\t\t\t\tonSelect={this.onTreeNodeSelectWapper.bind(this)}\n\t\t\t\tonExpand={this.onTreeNodeExpand}\n\t\t\t\tonCheck={this.onTreeNodeCheckWapper.bind(this)}\n\t\t\t\tcheckedKeys={[ ...selectedValues.keys() ]}\n\t\t\t\tselectedKeys={selectedKeys}\n\t\t\t\texpandedKeys={expandedKeys}\n\t\t\t\tautoExpandParent={false}\n\t\t\t\tisTreelazyLoad={isTreelazyLoad}\n\t\t\t\troot={rootNode}\n\t\t\t\tonlyLeafCanSelect={onlyLeafCanSelect}\n\t\t\t\tonDoubleClick={() => {\n\t\t\t\t}}\n\t\t\t/>\n        </div>\n\t\t\n\t\t);\n\t};\n}\n\n\nexport default function (props = {}) {\n    var conf = {\n        refName:'财务核算账簿(所有)',  \n        placeholder: '财务核算账簿(所有)', \n        rootNode:{refname:'财务核算账簿',refpk:'root'},\n        refCode: 'uapbd.ref.AccountBookTreeRef',\n        queryTreeUrl:'/nccloud/uapbd/ref/AccountBookTreeRef.do',\n        isMultiSelectedEnabled:false,\n        refType:'tree',\n        isTreelazyLoad: false,\n        treeConfig:{name:['编码', '名称'],code: ['refcode', 'refname']}\n    };\n    conf.rootNode = {...conf.rootNode, treeid: 'root'};\n    return <Ref {...conf} {...props} />\n}\n    \n","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;"],"sourceRoot":""}